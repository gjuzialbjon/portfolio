!function(g){"object"==typeof exports&&"undefined"!=typeof module?module.exports=g():"function"==typeof define&&define.amd?define([],g):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).p5=g()}(function(){var define,module,exports;return function g(C,M,h){function u(t,e){if(!M[t]){if(!C[t]){var s="function"==typeof require&&require;if(!e&&s)return s(t,!0);if(n)return n(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var l=M[t]={exports:{}};C[t][0].call(l.exports,function(p){return u(C[t][1][p]||p)},l,l.exports,g,C,M,h)}return M[t].exports}for(var n="function"==typeof require&&require,i=0;i<h.length;i++)u(h[i]);return u}({1:[function(g,C,M){},{}],2:[function(g,C,M){"use strict";M.argument=function(h,u){if(!h)throw new Error(u)},M.assert=M.argument},{}],3:[function(g,C,M){"use strict";M.line=function(u,n,i,t,e){u.beginPath(),u.moveTo(n,i),u.lineTo(t,e),u.stroke()}},{}],4:[function(g,C,M){"use strict";function h(p){this.font=p}function u(p){this.cmap=p}function n(p,c){this.encoding=p,this.charset=c}function i(p){var c;switch(p.version){case 1:this.names=M.standardNames.slice();break;case 2:for(this.names=new Array(p.numberOfGlyphs),c=0;c<p.numberOfGlyphs;c++)this.names[c]=p.glyphNameIndex[c]<M.standardNames.length?M.standardNames[p.glyphNameIndex[c]]:p.names[p.glyphNameIndex[c]-M.standardNames.length];break;case 2.5:for(this.names=new Array(p.numberOfGlyphs),c=0;c<p.numberOfGlyphs;c++)this.names[c]=M.standardNames[c+p.glyphNameIndex[c]];break;case 3:this.names=[]}}h.prototype.charToGlyphIndex=function(p){var c=p.charCodeAt(0),m=this.font.glyphs;if(!m)return null;for(var f=0;f<m.length;f+=1)for(var d=m.get(f),y=0;y<d.unicodes.length;y+=1)if(d.unicodes[y]===c)return f},u.prototype.charToGlyphIndex=function(p){return this.cmap.glyphIndexMap[p.charCodeAt(0)]||0},n.prototype.charToGlyphIndex=function(p){var c=p.charCodeAt(0);return this.charset.indexOf(this.encoding[c])},i.prototype.nameToGlyphIndex=function(p){return this.names.indexOf(p)},i.prototype.glyphIndexToName=function(p){return this.names[p]},M.cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],M.cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],M.cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],M.standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"],M.DefaultEncoding=h,M.CmapEncoding=u,M.CffEncoding=n,M.GlyphNames=i,M.addGlyphNames=function(p){for(var m=p.tables.cmap.glyphIndexMap,f=Object.keys(m),d=0;d<f.length;d+=1){var y=f[d];p.glyphs.get(m[y]).addUnicode(parseInt(y))}for(d=0;d<p.glyphs.length;d+=1)p.glyphs.get(d).name=p.cffEncoding?p.cffEncoding.charset[d]:p.glyphNames.glyphIndexToName(d)}},{}],5:[function(g,C,M){"use strict";function h(e){this.names={fontFamily:{en:(e=e||{}).familyName||" "},fontSubfamily:{en:e.styleName||" "},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.supported=!0,this.glyphs=new t.GlyphSet(this,e.glyphs||[]),this.encoding=new i.DefaultEncoding(this),this.tables={}}var u=g("./path"),n=g("./tables/sfnt"),i=g("./encoding"),t=g("./glyphset");h.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},h.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},h.prototype.charToGlyph=function(e){var s=this.charToGlyphIndex(e),a=this.glyphs.get(s);return a||(a=this.glyphs.get(0)),a},h.prototype.stringToGlyphs=function(e){for(var s=[],a=0;a<e.length;a+=1)s.push(this.charToGlyph(e[a]));return s},h.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},h.prototype.nameToGlyph=function(e){var s=this.nametoGlyphIndex(e),a=this.glyphs.get(s);return a||(a=this.glyphs.get(0)),a},h.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},h.prototype.getKerningValue=function(e,s){e=e.index||e,s=s.index||s;var a=this.getGposKerningValue;return a?a(e,s):this.kerningPairs[e+","+s]||0},h.prototype.forEachGlyph=function(e,s,a,l,p,c){s=void 0!==s?s:0,a=void 0!==a?a:0;for(var m=void 0===(p=p||{}).kerning||p.kerning,f=1/this.unitsPerEm*(l=void 0!==l?l:72),d=this.stringToGlyphs(e),y=0;y<d.length;y+=1){var v=d[y];c(v,s,a,l,p),v.advanceWidth&&(s+=v.advanceWidth*f),m&&y<d.length-1&&(s+=this.getKerningValue(v,d[y+1])*f)}},h.prototype.getPath=function(e,s,a,l,p){var c=new u.Path;return this.forEachGlyph(e,s,a,l,p,function(m,f,d,y){var v=m.getPath(f,d,y);c.extend(v)}),c},h.prototype.draw=function(e,s,a,l,p,c){this.getPath(s,a,l,p,c).draw(e)},h.prototype.drawPoints=function(e,s,a,l,p,c){this.forEachGlyph(s,a,l,p,c,function(m,f,d,y){m.drawPoints(e,f,d,y)})},h.prototype.drawMetrics=function(e,s,a,l,p,c){this.forEachGlyph(s,a,l,p,c,function(m,f,d,y){m.drawMetrics(e,f,d,y)})},h.prototype.getEnglishName=function(e){var s=this.names[e];if(s)return s.en},h.prototype.validate=function(){function e(p,c){p||a.push(c)}function s(p){var c=l.getEnglishName(p);e(c&&c.trim().length>0,"No English "+p+" specified.")}var a=[],l=this;s("fontFamily"),s("weightName"),s("manufacturer"),s("copyright"),s("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},h.prototype.toTables=function(){return n.fontToTable(this)},h.prototype.toBuffer=function(){for(var s=this.toTables().encode(),a=new ArrayBuffer(s.length),l=new Uint8Array(a),p=0;p<s.length;p++)l[p]=s[p];return a},h.prototype.download=function(){var e=this.getEnglishName("fontFamily"),s=this.getEnglishName("fontSubfamily"),a=e.replace(/\s/g,"")+"-"+s+".otf",l=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,l.byteLength,function(p){p.root.getFile(a,{create:!0},function(c){c.createWriter(function(m){var f=new DataView(l),d=new Blob([f],{type:"font/opentype"});m.write(d),m.addEventListener("writeend",function(){location.href=c.toURL()},!1)})})},function(p){throw p})},M.Font=h},{"./encoding":4,"./glyphset":7,"./path":10,"./tables/sfnt":27}],6:[function(g,C,M){"use strict";function u(e){this.bindConstructorValues(e)}var n=g("./check"),i=g("./draw"),t=g("./path");u.prototype.bindConstructorValues=function(e){var a;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(a=e.path||{commands:[]},{configurable:!0,get:function(){return"function"==typeof a&&(a=a()),a},set:function(l){a=l}}))},u.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},u.prototype.getPath=function(e,s,a){e=void 0!==e?e:0,s=void 0!==s?s:0;for(var l=1/this.path.unitsPerEm*(a=void 0!==a?a:72),p=new t.Path,c=this.path.commands,m=0;m<c.length;m+=1){var f=c[m];"M"===f.type?p.moveTo(e+f.x*l,s+-f.y*l):"L"===f.type?p.lineTo(e+f.x*l,s+-f.y*l):"Q"===f.type?p.quadraticCurveTo(e+f.x1*l,s+-f.y1*l,e+f.x*l,s+-f.y*l):"C"===f.type?p.curveTo(e+f.x1*l,s+-f.y1*l,e+f.x2*l,s+-f.y2*l,e+f.x*l,s+-f.y*l):"Z"===f.type&&p.closePath()}return p},u.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],s=[],a=0;a<this.points.length;a+=1){var l=this.points[a];s.push(l),l.lastPointOfContour&&(e.push(s),s=[])}return n.argument(0===s.length,"There are still points left in the current contour."),e},u.prototype.getMetrics=function(){for(var e=this.path.commands,s=[],a=[],l=0;l<e.length;l+=1){var p=e[l];"Z"!==p.type&&(s.push(p.x),a.push(p.y)),"Q"!==p.type&&"C"!==p.type||(s.push(p.x1),a.push(p.y1)),"C"===p.type&&(s.push(p.x2),a.push(p.y2))}var c={xMin:Math.min.apply(null,s),yMin:Math.min.apply(null,a),xMax:Math.max.apply(null,s),yMax:Math.max.apply(null,a),leftSideBearing:0};return isFinite(c.xMin)||(c.xMin=0),isFinite(c.xMax)||(c.xMax=this.advanceWidth),isFinite(c.yMin)||(c.yMin=0),isFinite(c.yMax)||(c.yMax=0),c.rightSideBearing=this.advanceWidth-c.leftSideBearing-(c.xMax-c.xMin),c},u.prototype.draw=function(e,s,a,l){this.getPath(s,a,l).draw(e)},u.prototype.drawPoints=function(e,s,a,l){function p(x,w,T,E){var R=2*Math.PI;e.beginPath();for(var P=0;P<x.length;P+=1)e.moveTo(w+x[P].x*E,T+x[P].y*E),e.arc(w+x[P].x*E,T+x[P].y*E,2,0,R,!1);e.closePath(),e.fill()}s=void 0!==s?s:0,a=void 0!==a?a:0;for(var c=1/this.path.unitsPerEm*(l=void 0!==l?l:24),m=[],f=[],d=this.path,y=0;y<d.commands.length;y+=1){var v=d.commands[y];void 0!==v.x&&m.push({x:v.x,y:-v.y}),void 0!==v.x1&&f.push({x:v.x1,y:-v.y1}),void 0!==v.x2&&f.push({x:v.x2,y:-v.y2})}e.fillStyle="blue",p(m,s,a,c),e.fillStyle="red",p(f,s,a,c)},u.prototype.drawMetrics=function(e,s,a,l){var p;s=void 0!==s?s:0,a=void 0!==a?a:0,p=1/this.path.unitsPerEm*(l=void 0!==l?l:24),e.lineWidth=1,e.strokeStyle="black",i.line(e,s,-1e4,s,1e4),i.line(e,-1e4,a,1e4,a);var c=this.xMin||0,m=this.yMin||0,f=this.xMax||0,d=this.yMax||0,y=this.advanceWidth||0;e.strokeStyle="blue",i.line(e,s+c*p,-1e4,s+c*p,1e4),i.line(e,s+f*p,-1e4,s+f*p,1e4),i.line(e,-1e4,a+-m*p,1e4,a+-m*p),i.line(e,-1e4,a+-d*p,1e4,a+-d*p),e.strokeStyle="green",i.line(e,s+y*p,-1e4,s+y*p,1e4)},M.Glyph=u},{"./check":2,"./draw":3,"./path":10}],7:[function(g,C,M){"use strict";function h(e,s){if(this.font=e,this.glyphs={},Array.isArray(s))for(var a=0;a<s.length;a++)this.glyphs[a]=s[a];this.length=s&&s.length||0}var t=g("./glyph");h.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},h.prototype.push=function(e,s){this.glyphs[e]=s,this.length++},M.GlyphSet=h,M.glyphLoader=function(e,s){return new t.Glyph({index:s,font:e})},M.ttfGlyphLoader=function(e,s,a,l,p,c){return function(){var m=new t.Glyph({index:s,font:e});return m.path=function(){a(m,l,p);var f=c(e.glyphs,m);return f.unitsPerEm=e.unitsPerEm,f},m}},M.cffGlyphLoader=function(e,s,a,l){return function(){var p=new t.Glyph({index:s,font:e});return p.path=function(){var c=a(e,p,l);return c.unitsPerEm=e.unitsPerEm,c},p}}},{"./glyph":6}],8:[function(g,C,M){"use strict";function h(S){for(var F=new ArrayBuffer(S.length),O=new Uint8Array(F),W=0;W<S.length;W+=1)O[W]=S[W];return F}function u(S,F){g("fs").readFile(S,function(O,W){if(O)return F(O.message);F(null,h(W))})}function n(S,F){var O=new XMLHttpRequest;O.open("get",S,!0),O.responseType="arraybuffer",O.onload=function(){return 200!==O.status?F("Font could not be loaded: "+O.statusText):F(null,O.response)},O.send()}function i(S){var F,O,W,B,k,H,q,Z,te,Q,L=new a.Font,A=new DataView(S,0),G=p.getFixed(A,0);if(1===G)L.outlinesFormat="truetype";else{if("OTTO"!==(G=p.getTag(A,0)))throw new Error("Unsupported OpenType version "+G);L.outlinesFormat="cff"}for(var X=p.getUShort(A,4),J=12,V=0;V<X;V+=1){var D=p.getTag(A,J),Y=p.getULong(A,J+8);switch(D){case"cmap":L.tables.cmap=m.parse(A,Y),L.encoding=new s.CmapEncoding(L.tables.cmap);break;case"fvar":B=Y;break;case"head":L.tables.head=x.parse(A,Y),L.unitsPerEm=L.tables.head.unitsPerEm,F=L.tables.head.indexToLocFormat;break;case"hhea":L.tables.hhea=w.parse(A,Y),L.ascender=L.tables.hhea.ascender,L.descender=L.tables.hhea.descender,L.numberOfHMetrics=L.tables.hhea.numberOfHMetrics;break;case"hmtx":q=Y;break;case"ltag":O=R.parse(A,Y);break;case"maxp":L.tables.maxp=N.parse(A,Y),L.numGlyphs=L.tables.maxp.numGlyphs;break;case"name":Q=Y;break;case"OS/2":L.tables.os2=b.parse(A,Y);break;case"post":L.tables.post=I.parse(A,Y),L.glyphNames=new s.GlyphNames(L.tables.post);break;case"glyf":k=Y;break;case"loca":te=Y;break;case"CFF ":W=Y;break;case"kern":Z=Y;break;case"GPOS":H=Y}J+=16}if(L.tables.name=_.parse(A,Q,O),L.names=L.tables.name,k&&te){var j=P.parse(A,te,L.numGlyphs,0===F);L.glyphs=y.parse(A,k,j,L)}else{if(!W)throw new Error("Font doesn't contain TrueType or CFF outlines.");f.parse(A,W,L)}return T.parse(A,q,L.numberOfHMetrics,L.numGlyphs,L.glyphs),s.addGlyphNames(L),L.kerningPairs=Z?E.parse(A,Z):{},H&&v.parse(A,H,L),B&&(L.tables.fvar=d.parse(A,B,L.names)),L}var s=g("./encoding"),a=g("./font"),l=g("./glyph"),p=g("./parse"),c=g("./path"),m=g("./tables/cmap"),f=g("./tables/cff"),d=g("./tables/fvar"),y=g("./tables/glyf"),v=g("./tables/gpos"),x=g("./tables/head"),w=g("./tables/hhea"),T=g("./tables/hmtx"),E=g("./tables/kern"),R=g("./tables/ltag"),P=g("./tables/loca"),N=g("./tables/maxp"),_=g("./tables/name"),b=g("./tables/os2"),I=g("./tables/post");M._parse=p,M.Font=a.Font,M.Glyph=l.Glyph,M.Path=c.Path,M.parse=i,M.load=function(S,F){("undefined"==typeof window?u:n)(S,function(O,W){if(O)return F(O);var B=i(W);return F(null,B)})},M.loadSync=function(S){return i(h(g("fs").readFileSync(S)))}},{"./encoding":4,"./font":5,"./glyph":6,"./parse":9,"./path":10,"./tables/cff":12,"./tables/cmap":13,"./tables/fvar":14,"./tables/glyf":15,"./tables/gpos":16,"./tables/head":17,"./tables/hhea":18,"./tables/hmtx":19,"./tables/kern":20,"./tables/loca":21,"./tables/ltag":22,"./tables/maxp":23,"./tables/name":24,"./tables/os2":25,"./tables/post":26,fs:1}],9:[function(g,C,M){"use strict";function h(n,i){this.data=n,this.offset=i,this.relativeOffset=0}M.getByte=function(n,i){return n.getUint8(i)},M.getCard8=M.getByte,M.getUShort=function(n,i){return n.getUint16(i,!1)},M.getCard16=M.getUShort,M.getShort=function(n,i){return n.getInt16(i,!1)},M.getULong=function(n,i){return n.getUint32(i,!1)},M.getFixed=function(n,i){return n.getInt16(i,!1)+n.getUint16(i+2,!1)/65535},M.getTag=function(n,i){for(var t="",e=i;e<i+4;e+=1)t+=String.fromCharCode(n.getInt8(e));return t},M.getOffset=function(n,i,t){for(var e=0,s=0;s<t;s+=1)e<<=8,e+=n.getUint8(i+s);return e},M.getBytes=function(n,i,t){for(var e=[],s=i;s<t;s+=1)e.push(n.getUint8(s));return e},M.bytesToString=function(n){for(var i="",t=0;t<n.length;t+=1)i+=String.fromCharCode(n[t]);return i};var u={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};h.prototype.parseByte=function(){var n=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n},h.prototype.parseChar=function(){var n=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n},h.prototype.parseCard8=h.prototype.parseByte,h.prototype.parseCard16=h.prototype.parseUShort=function(){var n=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n},h.prototype.parseSID=h.prototype.parseUShort,h.prototype.parseOffset16=h.prototype.parseUShort,h.prototype.parseShort=function(){var n=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n},h.prototype.parseF2Dot14=function(){var n=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,n},h.prototype.parseULong=function(){var n=M.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n},h.prototype.parseFixed=function(){var n=M.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n},h.prototype.parseOffset16List=h.prototype.parseUShortList=function(n){for(var i=new Array(n),t=this.data,e=this.offset+this.relativeOffset,s=0;s<n;s++)i[s]=M.getUShort(t,e),e+=2;return this.relativeOffset+=2*n,i},h.prototype.parseString=function(n){var i=this.data,t=this.offset+this.relativeOffset,e="";this.relativeOffset+=n;for(var s=0;s<n;s++)e+=String.fromCharCode(i.getUint8(t+s));return e},h.prototype.parseTag=function(){return this.parseString(4)},h.prototype.parseLongDateTime=function(){var n=M.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,n},h.prototype.parseFixed=function(){var n=M.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n/65536},h.prototype.parseVersion=function(){var n=M.getUShort(this.data,this.offset+this.relativeOffset),i=M.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,n+i/4096/10},h.prototype.skip=function(n,i){void 0===i&&(i=1),this.relativeOffset+=u[n]*i},M.Parser=h},{}],10:[function(g,C,M){"use strict";function h(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}h.prototype.moveTo=function(u,n){this.commands.push({type:"M",x:u,y:n})},h.prototype.lineTo=function(u,n){this.commands.push({type:"L",x:u,y:n})},h.prototype.curveTo=h.prototype.bezierCurveTo=function(u,n,i,t,e,s){this.commands.push({type:"C",x1:u,y1:n,x2:i,y2:t,x:e,y:s})},h.prototype.quadTo=h.prototype.quadraticCurveTo=function(u,n,i,t){this.commands.push({type:"Q",x1:u,y1:n,x:i,y:t})},h.prototype.close=h.prototype.closePath=function(){this.commands.push({type:"Z"})},h.prototype.extend=function(u){u.commands&&(u=u.commands),Array.prototype.push.apply(this.commands,u)},h.prototype.draw=function(u){u.beginPath();for(var n=0;n<this.commands.length;n+=1){var i=this.commands[n];"M"===i.type?u.moveTo(i.x,i.y):"L"===i.type?u.lineTo(i.x,i.y):"C"===i.type?u.bezierCurveTo(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?u.quadraticCurveTo(i.x1,i.y1,i.x,i.y):"Z"===i.type&&u.closePath()}this.fill&&(u.fillStyle=this.fill,u.fill()),this.stroke&&(u.strokeStyle=this.stroke,u.lineWidth=this.strokeWidth,u.stroke())},h.prototype.toPathData=function(u){function n(a){return Math.round(a)===a?""+Math.round(a):a.toFixed(u)}function i(){for(var a="",l=0;l<arguments.length;l+=1){var p=arguments[l];p>=0&&l>0&&(a+=" "),a+=n(p)}return a}u=void 0!==u?u:2;for(var t="",e=0;e<this.commands.length;e+=1){var s=this.commands[e];"M"===s.type?t+="M"+i(s.x,s.y):"L"===s.type?t+="L"+i(s.x,s.y):"C"===s.type?t+="C"+i(s.x1,s.y1,s.x2,s.y2,s.x,s.y):"Q"===s.type?t+="Q"+i(s.x1,s.y1,s.x,s.y):"Z"===s.type&&(t+="Z")}return t},h.prototype.toSVG=function(u){var n='<path d="';return n+=this.toPathData(u),n+='"',this.fill&"black"!==this.fill&&(n+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(n+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),n+"/>"},M.Path=h},{}],11:[function(g,C,M){"use strict";function h(t,e,s){var a;for(a=0;a<e.length;a+=1){var l=e[a];this[l.name]=l.value}if(this.tableName=t,this.fields=e,s){var p=Object.keys(s);for(a=0;a<p.length;a+=1){var c=p[a];void 0!==this[c]&&(this[c]=s[c])}}}var u=g("./check"),n=g("./types").encode,i=g("./types").sizeOf;h.prototype.sizeOf=function(){for(var t=0,e=0;e<this.fields.length;e+=1){var s=this.fields[e],a=this[s.name];if(void 0===a&&(a=s.value),"function"==typeof a.sizeOf)t+=a.sizeOf();else{var l=i[s.type];u.assert("function"==typeof l,"Could not find sizeOf function for field"+s.name),t+=l(a)}}return t},h.prototype.encode=function(){return n.TABLE(this)},M.Table=h},{"./check":2,"./types":28}],12:[function(g,C,M){"use strict";function h(L,A){if(L===A)return!0;if(Array.isArray(L)&&Array.isArray(A)){if(L.length!==A.length)return!1;for(var G=0;G<L.length;G+=1)if(!h(L[G],A[G]))return!1;return!0}return!1}function u(L,A,G){var X,J,V,D=[],Y=[],z=H.getCard16(L,A);if(0!==z){var j=H.getByte(L,A+2);J=A+(z+1)*j+2;var K=A+3;for(X=0;X<z+1;X+=1)D.push(H.getOffset(L,K,j)),K+=j;V=J+D[z]}else V=A+2;for(X=0;X<D.length-1;X+=1){var U=H.getBytes(L,J+D[X],J+D[X+1]);G&&(U=G(U)),Y.push(U)}return{objects:Y,startOffset:A,endOffset:V}}function i(L,A){if(28===A)return L.parseByte()<<8|L.parseByte();if(29===A)return L.parseByte()<<24|L.parseByte()<<16|L.parseByte()<<8|L.parseByte();if(30===A)return function(L){for(var A="",X=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var J=L.parseByte(),V=J>>4,D=15&J;if(15===V||(A+=X[V],15===D))break;A+=X[D]}return parseFloat(A)}(L);if(A>=32&&A<=246)return A-139;if(A>=247&&A<=250)return 256*(A-247)+L.parseByte()+108;if(A>=251&&A<=254)return 256*-(A-251)-L.parseByte()-108;throw new Error("Invalid b0 "+A)}function e(L,A,G){var X=new H.Parser(L,A=void 0!==A?A:0),J=[],V=[];for(G=void 0!==G?G:L.length;X.relativeOffset<G;){var D=X.parseByte();D<=21?(12===D&&(D=1200+X.parseByte()),J.push([D,V]),V=[]):V.push(i(X,D))}return function(L){for(var A={},G=0;G<L.length;G+=1){var X,J=L[G][0],V=L[G][1];if(X=1===V.length?V[0]:V,A.hasOwnProperty(J))throw new Error("Object "+A+" already has key "+J);A[J]=X}return A}(J)}function s(L,A){return A<=390?B.cffStandardStrings[A]:L[A-391]}function a(L,A,G){for(var X={},J=0;J<A.length;J+=1){var V=A[J],D=L[V.op];void 0===D&&(D=void 0!==V.value?V.value:null),"SID"===V.type&&(D=s(G,D)),X[V.name]=D}return X}function d(L,A,G){function X(oe,ue){ge&&K.closePath(),K.moveTo(oe,ue),ge=!0}function J(){U.length%2!=0&&!se&&(ae=U.shift()+L.nominalWidthX),re+=U.length>>1,U.length=0,se=!0}var D,Y,z,j,K=new q.Path,U=[],re=0,se=!1,ae=L.defaultWidthX,ge=!1,$=0,ee=0;return function V(oe){for(var ue,ye,xe,_e,ve,le,pe,me,ce,ie,fe,de,ne=0;ne<oe.length;){var he=oe[ne];switch(ne+=1,he){case 1:case 3:case 18:case 23:J();break;case 4:U.length>1&&!se&&(ae=U.shift()+L.nominalWidthX,se=!0),ee+=U.pop(),X($,ee);break;case 5:for(;U.length>0;)$+=U.shift(),ee+=U.shift(),K.lineTo($,ee);break;case 6:for(;U.length>0&&($+=U.shift(),K.lineTo($,ee),0!==U.length);)ee+=U.shift(),K.lineTo($,ee);break;case 7:for(;U.length>0&&(ee+=U.shift(),K.lineTo($,ee),0!==U.length);)$+=U.shift(),K.lineTo($,ee);break;case 8:for(;U.length>0;)D=$+U.shift(),Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),$=z+U.shift(),ee=j+U.shift(),K.curveTo(D,Y,z,j,$,ee);break;case 10:ve=U.pop()+L.subrsBias,(le=L.subrs[ve])&&V(le);break;case 11:return;case 12:switch(he=oe[ne],ne+=1,he){case 35:D=$+U.shift(),Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),pe=z+U.shift(),me=j+U.shift(),ce=pe+U.shift(),ie=me+U.shift(),fe=ce+U.shift(),de=ie+U.shift(),$=fe+U.shift(),ee=de+U.shift(),U.shift(),K.curveTo(D,Y,z,j,pe,me),K.curveTo(ce,ie,fe,de,$,ee);break;case 34:D=$+U.shift(),Y=ee,z=D+U.shift(),j=Y+U.shift(),pe=z+U.shift(),me=j,ce=pe+U.shift(),ie=j,fe=ce+U.shift(),de=ee,$=fe+U.shift(),K.curveTo(D,Y,z,j,pe,me),K.curveTo(ce,ie,fe,de,$,ee);break;case 36:D=$+U.shift(),Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),pe=z+U.shift(),me=j,ce=pe+U.shift(),ie=j,fe=ce+U.shift(),de=ie+U.shift(),$=fe+U.shift(),K.curveTo(D,Y,z,j,pe,me),K.curveTo(ce,ie,fe,de,$,ee);break;case 37:D=$+U.shift(),Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),pe=z+U.shift(),me=j+U.shift(),ce=pe+U.shift(),ie=me+U.shift(),fe=ce+U.shift(),de=ie+U.shift(),Math.abs(fe-$)>Math.abs(de-ee)?$=fe+U.shift():ee=de+U.shift(),K.curveTo(D,Y,z,j,pe,me),K.curveTo(ce,ie,fe,de,$,ee);break;default:console.log("Glyph "+A.index+": unknown operator 1200"+he),U.length=0}break;case 14:U.length>0&&!se&&(ae=U.shift()+L.nominalWidthX,se=!0),ge&&(K.closePath(),ge=!1);break;case 19:case 20:J(),ne+=re+7>>3;break;case 21:U.length>2&&!se&&(ae=U.shift()+L.nominalWidthX,se=!0),ee+=U.pop(),X($+=U.pop(),ee);break;case 22:U.length>1&&!se&&(ae=U.shift()+L.nominalWidthX,se=!0),X($+=U.pop(),ee);break;case 24:for(;U.length>2;)D=$+U.shift(),Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),$=z+U.shift(),ee=j+U.shift(),K.curveTo(D,Y,z,j,$,ee);$+=U.shift(),ee+=U.shift(),K.lineTo($,ee);break;case 25:for(;U.length>6;)$+=U.shift(),ee+=U.shift(),K.lineTo($,ee);D=$+U.shift(),Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),$=z+U.shift(),ee=j+U.shift(),K.curveTo(D,Y,z,j,$,ee);break;case 26:for(U.length%2&&($+=U.shift());U.length>0;)D=$,Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),$=z,ee=j+U.shift(),K.curveTo(D,Y,z,j,$,ee);break;case 27:for(U.length%2&&(ee+=U.shift());U.length>0;)D=$+U.shift(),Y=ee,z=D+U.shift(),j=Y+U.shift(),$=z+U.shift(),K.curveTo(D,Y,z,j,$,ee=j);break;case 28:U.push(((ue=oe[ne])<<24|(ye=oe[ne+1])<<16)>>16),ne+=2;break;case 29:ve=U.pop()+L.gsubrsBias,(le=L.gsubrs[ve])&&V(le);break;case 30:for(;U.length>0&&(D=$,Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),$=z+U.shift(),ee=j+(1===U.length?U.shift():0),K.curveTo(D,Y,z,j,$,ee),0!==U.length);)D=$+U.shift(),Y=ee,z=D+U.shift(),j=Y+U.shift(),ee=j+U.shift(),$=z+(1===U.length?U.shift():0),K.curveTo(D,Y,z,j,$,ee);break;case 31:for(;U.length>0&&(D=$+U.shift(),Y=ee,z=D+U.shift(),j=Y+U.shift(),ee=j+U.shift(),$=z+(1===U.length?U.shift():0),K.curveTo(D,Y,z,j,$,ee),0!==U.length);)D=$,Y=ee+U.shift(),z=D+U.shift(),j=Y+U.shift(),$=z+U.shift(),ee=j+(1===U.length?U.shift():0),K.curveTo(D,Y,z,j,$,ee);break;default:he<32?console.log("Glyph "+A.index+": unknown operator "+he):he<247?U.push(he-139):he<251?(ue=oe[ne],ne+=1,U.push(256*(he-247)+ue+108)):he<255?(ue=oe[ne],ne+=1,U.push(256*-(he-251)-ue-108)):(ue=oe[ne],ye=oe[ne+1],xe=oe[ne+2],_e=oe[ne+3],ne+=4,U.push((ue<<24|ye<<16|xe<<8|_e)/65536))}}}(G),A.advanceWidth=ae,K}function y(L){return L.length<1240?107:L.length<33900?1131:32768}function x(L,A){var G,X=B.cffStandardStrings.indexOf(L);return X>=0&&(G=X),(X=A.indexOf(L))>=0?G=X+B.cffStandardStrings.length:(G=B.cffStandardStrings.length+A.length,A.push(L)),G}function E(L,A,G){for(var X={},J=0;J<L.length;J+=1){var V=L[J],D=A[V.name];void 0===D||h(D,V.value)||("SID"===V.type&&(D=x(D,G)),X[V.op]={name:V.name,type:V.type,value:D})}return X}function R(L,A){var G=new Z.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return G.dict=E(te,L,A),G}function P(L){var A=new Z.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return A.topDicts=[{name:"topDict_0",type:"TABLE",value:L}],A}function I(L){var A=[],G=L.path;A.push({name:"width",type:"NUMBER",value:L.advanceWidth});for(var X=0,J=0,V=0;V<G.commands.length;V+=1){var D,Y,z=G.commands[V];if("Q"===z.type){var j=1/3,K=2/3;z={type:"C",x:z.x,y:z.y,x1:j*X+K*z.x1,y1:j*J+K*z.y1,x2:j*z.x+K*z.x1,y2:j*z.y+K*z.y1}}if("M"===z.type)D=Math.round(z.x-X),Y=Math.round(z.y-J),A.push({name:"dx",type:"NUMBER",value:D}),A.push({name:"dy",type:"NUMBER",value:Y}),A.push({name:"rmoveto",type:"OP",value:21}),X=Math.round(z.x),J=Math.round(z.y);else if("L"===z.type)D=Math.round(z.x-X),Y=Math.round(z.y-J),A.push({name:"dx",type:"NUMBER",value:D}),A.push({name:"dy",type:"NUMBER",value:Y}),A.push({name:"rlineto",type:"OP",value:5}),X=Math.round(z.x),J=Math.round(z.y);else if("C"===z.type){var U=Math.round(z.x1-X),re=Math.round(z.y1-J),se=Math.round(z.x2-z.x1),ae=Math.round(z.y2-z.y1);D=Math.round(z.x-z.x2),Y=Math.round(z.y-z.y2),A.push({name:"dx1",type:"NUMBER",value:U}),A.push({name:"dy1",type:"NUMBER",value:re}),A.push({name:"dx2",type:"NUMBER",value:se}),A.push({name:"dy2",type:"NUMBER",value:ae}),A.push({name:"dx",type:"NUMBER",value:D}),A.push({name:"dy",type:"NUMBER",value:Y}),A.push({name:"rrcurveto",type:"OP",value:8}),X=Math.round(z.x),J=Math.round(z.y)}}return A.push({name:"endchar",type:"OP",value:14}),A}var B=g("../encoding"),k=g("../glyphset"),H=g("../parse"),q=g("../path"),Z=g("../table"),te=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],Q=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];M.parse=function(L,A,G){G.tables.cff={};var X=function(L,A){var G={};return G.formatMajor=H.getCard8(L,A),G.formatMinor=H.getCard8(L,A+1),G.size=H.getCard8(L,A+2),G.offsetSize=H.getCard8(L,A+3),G.startOffset=A,G.endOffset=A+4,G}(L,A),J=u(L,X.endOffset,H.bytesToString),V=u(L,J.endOffset),D=u(L,V.endOffset,H.bytesToString),Y=u(L,D.endOffset);G.gsubrs=Y.objects,G.gsubrsBias=y(G.gsubrs);var j=function(L,A){return a(e(L,0,L.byteLength),te,A)}(new DataView(new Uint8Array(V.objects[0]).buffer),D.objects);G.tables.cff.topDict=j;var K=A+j.private[1],U=function(L,A,G,X){return a(e(L,A,G),Q,X)}(L,K,j.private[0],D.objects);if(G.defaultWidthX=U.defaultWidthX,G.nominalWidthX=U.nominalWidthX,0!==U.subrs){var se=u(L,K+U.subrs);G.subrs=se.objects,G.subrsBias=y(G.subrs)}else G.subrs=[],G.subrsBias=0;var ae=u(L,A+j.charStrings);G.nGlyphs=ae.objects.length;var ge=function(L,A,G,X){var J,V,D,Y=new H.Parser(L,A);G-=1;var z=[".notdef"],j=Y.parseCard8();if(0===j)for(J=0;J<G;J+=1)V=Y.parseSID(),z.push(s(X,V));else if(1===j)for(;z.length<=G;)for(V=Y.parseSID(),D=Y.parseCard8(),J=0;J<=D;J+=1)z.push(s(X,V)),V+=1;else{if(2!==j)throw new Error("Unknown charset format "+j);for(;z.length<=G;)for(V=Y.parseSID(),D=Y.parseCard16(),J=0;J<=D;J+=1)z.push(s(X,V)),V+=1}return z}(L,A+j.charset,G.nGlyphs,D.objects);G.cffEncoding=0===j.encoding?new B.CffEncoding(B.cffStandardEncoding,ge):1===j.encoding?new B.CffEncoding(B.cffExpertEncoding,ge):function(L,A,G){var X,J,V={},D=new H.Parser(L,A),Y=D.parseCard8();if(0===Y){var z=D.parseCard8();for(X=0;X<z;X+=1)V[J=D.parseCard8()]=X}else{if(1!==Y)throw new Error("Unknown encoding format "+Y);var j=D.parseCard8();for(J=1,X=0;X<j;X+=1)for(var K=D.parseCard8(),U=D.parseCard8(),re=K;re<=K+U;re+=1)V[re]=J,J+=1}return new B.CffEncoding(V,G)}(L,A+j.encoding,ge),G.encoding=G.encoding||G.cffEncoding,G.glyphs=new k.GlyphSet(G);for(var $=0;$<G.nGlyphs;$+=1)G.glyphs.push($,k.cffGlyphLoader(G,$,d,ae.objects[$]))},M.make=function(L,A){for(var G,X=new Z.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),J=1/A.unitsPerEm,V={version:A.version,fullName:A.fullName,familyName:A.familyName,weight:A.weightName,fontMatrix:[J,0,0,J,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Y=[],z=1;z<L.length;z+=1)G=L.get(z),Y.push(G.name);var j=[];X.header=new Z.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),X.nameIndex=function(L){var A=new Z.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);A.names=[];for(var G=0;G<L.length;G+=1)A.names.push({name:"name_"+G,type:"NAME",value:L[G]});return A}([A.postScriptName]);var K=R(V,j);X.topDictIndex=P(K),X.globalSubrIndex=new Z.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),X.charsets=function(L,A){for(var G=new Z.Table("Charsets",[{name:"format",type:"Card8",value:0}]),X=0;X<L.length;X+=1){var V=x(L[X],A);G.fields.push({name:"glyph_"+X,type:"SID",value:V})}return G}(Y,j),X.charStringsIndex=function(L){for(var A=new Z.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),G=0;G<L.length;G+=1){var X=L.get(G),J=I(X);A.charStrings.push({name:X.name,type:"CHARSTRING",value:J})}return A}(L);var U=function(L,A){var G=new Z.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return G.dict=E(Q,{},A),G}(0,j);X.privateDictIndex=function(L){var A=new Z.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return A.privateDicts=[{name:"privateDict_0",type:"TABLE",value:L}],A}(U),X.stringIndex=function(L){var A=new Z.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);A.strings=[];for(var G=0;G<L.length;G+=1)A.strings.push({name:"string_"+G,type:"STRING",value:L[G]});return A}(j);var re=X.header.sizeOf()+X.nameIndex.sizeOf()+X.topDictIndex.sizeOf()+X.stringIndex.sizeOf()+X.globalSubrIndex.sizeOf();return V.charset=re,V.encoding=0,V.charStrings=V.charset+X.charsets.sizeOf(),V.private[1]=V.charStrings+X.charStringsIndex.sizeOf(),K=R(V,j),X.topDictIndex=P(K),X}},{"../encoding":4,"../glyphset":7,"../parse":9,"../path":10,"../table":11}],13:[function(g,C,M){"use strict";function u(a,l,p){a.segments.push({end:l,start:l,delta:-(l-p),offset:0})}var t=g("../check"),e=g("../parse"),s=g("../table");M.parse=function(a,l){var p,c={};c.version=e.getUShort(a,l),t.argument(0===c.version,"cmap table version should be 0."),c.numTables=e.getUShort(a,l+2);var m=-1;for(p=0;p<c.numTables;p+=1){var f=e.getUShort(a,l+4+8*p),d=e.getUShort(a,l+4+8*p+2);if(3===f&&(1===d||0===d)){m=e.getULong(a,l+4+8*p+4);break}}if(-1===m)return null;var v,y=new e.Parser(a,l+m);c.format=y.parseUShort(),t.argument(4===c.format,"Only format 4 cmap tables are supported."),c.length=y.parseUShort(),c.language=y.parseUShort(),c.segCount=v=y.parseUShort()>>1,y.skip("uShort",3),c.glyphIndexMap={};var x=new e.Parser(a,l+m+14),w=new e.Parser(a,l+m+16+2*v),T=new e.Parser(a,l+m+16+4*v),E=new e.Parser(a,l+m+16+6*v),R=l+m+16+8*v;for(p=0;p<v-1;p+=1)for(var P,N=x.parseUShort(),_=w.parseUShort(),b=T.parseShort(),I=E.parseUShort(),S=_;S<=N;S+=1)0!==I?(R=E.offset+E.relativeOffset-2,R+=I,0!==(P=e.getUShort(a,R+=2*(S-_)))&&(P=P+b&65535)):P=S+b&65535,c.glyphIndexMap[S]=P;return c},M.make=function(a){var l,f,p=new s.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(p.segments=[],l=0;l<a.length;l+=1){for(var c=a.get(l),m=0;m<c.unicodes.length;m+=1)u(p,c.unicodes[m],l);p.segments=p.segments.sort(function(E,R){return E.start-R.start})}!function(a){a.segments.push({end:65535,start:65535,delta:1,offset:0})}(p),p.segCountX2=2*(f=p.segments.length),p.searchRange=2*Math.pow(2,Math.floor(Math.log(f)/Math.log(2))),p.entrySelector=Math.log(p.searchRange/2)/Math.log(2),p.rangeShift=p.segCountX2-p.searchRange;var d=[],y=[],v=[],x=[],w=[];for(l=0;l<f;l+=1){var T=p.segments[l];d=d.concat({name:"end_"+l,type:"USHORT",value:T.end}),y=y.concat({name:"start_"+l,type:"USHORT",value:T.start}),v=v.concat({name:"idDelta_"+l,type:"SHORT",value:T.delta}),x=x.concat({name:"idRangeOffset_"+l,type:"USHORT",value:T.offset}),void 0!==T.glyphId&&(w=w.concat({name:"glyph_"+l,type:"USHORT",value:T.glyphId}))}return p.fields=p.fields.concat(d),p.fields.push({name:"reservedPad",type:"USHORT",value:0}),p.fields=p.fields.concat(y),p.fields=p.fields.concat(v),p.fields=p.fields.concat(x),p.fields=p.fields.concat(w),p.length=14+2*d.length+2+2*y.length+2*v.length+2*x.length+2*w.length,p}},{"../check":2,"../parse":9,"../table":11}],14:[function(g,C,M){"use strict";function h(c,m){var f=JSON.stringify(c),d=256;for(var y in m){var v=parseInt(y);if(v&&!(v<256)){if(JSON.stringify(m[y])===f)return v;d<=v&&(d=v+1)}}return m[d]=c,d}function u(c,m){var f=h(c.name,m);return new p.Table("fvarAxis",[{name:"tag",type:"TAG",value:c.tag},{name:"minValue",type:"FIXED",value:c.minValue<<16},{name:"defaultValue",type:"FIXED",value:c.defaultValue<<16},{name:"maxValue",type:"FIXED",value:c.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",value:f}])}function n(c,m,f){var d={},y=new l.Parser(c,m);return d.tag=y.parseTag(),d.minValue=y.parseFixed(),d.defaultValue=y.parseFixed(),d.maxValue=y.parseFixed(),y.skip("uShort",1),d.name=f[y.parseUShort()]||{},d}function i(c,m,f){for(var y=[{name:"nameID",type:"USHORT",value:h(c.name,f)},{name:"flags",type:"USHORT",value:0}],v=0;v<m.length;++v){var x=m[v].tag;y.push({name:"axis "+x,type:"FIXED",value:c.coordinates[x]<<16})}return new p.Table("fvarInstance",y)}function t(c,m,f,d){var y={},v=new l.Parser(c,m);y.name=d[v.parseUShort()]||{},v.skip("uShort",1),y.coordinates={};for(var x=0;x<f.length;++x)y.coordinates[f[x].tag]=v.parseFixed();return y}var a=g("../check"),l=g("../parse"),p=g("../table");M.make=function(c,m){var f=new p.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:c.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:c.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*c.axes.length}]);f.offsetToData=f.sizeOf();for(var d=0;d<c.axes.length;d++)f.fields.push({name:"axis "+d,type:"TABLE",value:u(c.axes[d],m)});for(var y=0;y<c.instances.length;y++)f.fields.push({name:"instance "+y,type:"TABLE",value:i(c.instances[y],c.axes,m)});return f},M.parse=function(c,m,f){var d=new l.Parser(c,m),y=d.parseULong();a.argument(65536===y,"Unsupported fvar table version.");var v=d.parseOffset16();d.skip("uShort",1);for(var x=d.parseUShort(),w=d.parseUShort(),T=d.parseUShort(),E=d.parseUShort(),R=[],P=0;P<x;P++)R.push(n(c,m+v+P*w,f));for(var N=[],_=m+v+x*w,b=0;b<T;b++)N.push(t(c,_+b*E,R,f));return{axes:R,instances:N}}},{"../check":2,"../parse":9,"../table":11}],15:[function(g,C,M){"use strict";function h(m,f,d,y,v){var x;return(f&y)>0?(x=m.parseByte(),0==(f&v)&&(x=-x),x=d+x):x=(f&v)>0?d:d+m.parseShort(),x}function u(m,f,d){var v,x,y=new p.Parser(f,d);if(m.numberOfContours=y.parseShort(),m.xMin=y.parseShort(),m.yMin=y.parseShort(),m.xMax=y.parseShort(),m.yMax=y.parseShort(),m.numberOfContours>0){var w,T=m.endPointIndices=[];for(w=0;w<m.numberOfContours;w+=1)T.push(y.parseUShort());for(m.instructionLength=y.parseUShort(),m.instructions=[],w=0;w<m.instructionLength;w+=1)m.instructions.push(y.parseByte());var E=T[T.length-1]+1;for(v=[],w=0;w<E;w+=1)if(x=y.parseByte(),v.push(x),(8&x)>0)for(var R=y.parseByte(),P=0;P<R;P+=1)v.push(x),w+=1;if(a.argument(v.length===E,"Bad flags."),T.length>0){var N,_=[];if(E>0){for(w=0;w<E;w+=1)(N={}).onCurve=!!(1&(x=v[w])),N.lastPointOfContour=T.indexOf(w)>=0,_.push(N);var b=0;for(w=0;w<E;w+=1)(N=_[w]).x=h(y,x=v[w],b,2,16),b=N.x;var I=0;for(w=0;w<E;w+=1)(N=_[w]).y=h(y,x=v[w],I,4,32),I=N.y}m.points=_}else m.points=[]}else if(0===m.numberOfContours)m.points=[];else{m.isComposite=!0,m.points=[],m.components=[];for(var S=!0;S;){v=y.parseUShort();var F={glyphIndex:y.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&v)>0?(F.dx=y.parseShort(),F.dy=y.parseShort()):(F.dx=y.parseChar(),F.dy=y.parseChar()),(8&v)>0?F.xScale=F.yScale=y.parseF2Dot14():(64&v)>0?(F.xScale=y.parseF2Dot14(),F.yScale=y.parseF2Dot14()):(128&v)>0&&(F.xScale=y.parseF2Dot14(),F.scale01=y.parseF2Dot14(),F.scale10=y.parseF2Dot14(),F.yScale=y.parseF2Dot14()),m.components.push(F),S=!!(32&v)}}}function n(m,f){for(var d=[],y=0;y<m.length;y+=1){var v=m[y];d.push({x:f.xScale*v.x+f.scale01*v.y+f.dx,y:f.scale10*v.x+f.yScale*v.y+f.dy,onCurve:v.onCurve,lastPointOfContour:v.lastPointOfContour})}return d}function e(m,f){if(f.isComposite)for(var d=0;d<f.components.length;d+=1){var y=f.components[d],v=m.get(y.glyphIndex);if(v.getPath(),v.points){var x=n(v.points,y);f.points=f.points.concat(x)}}return function(m){var f=new c.Path;if(!m)return f;for(var d=function(m){for(var f=[],d=[],y=0;y<m.length;y+=1){var v=m[y];d.push(v),v.lastPointOfContour&&(f.push(d),d=[])}return a.argument(0===d.length,"There are still points left in the current contour."),f}(m),y=0;y<d.length;y+=1){var v,x,w=d[y],T=w[0],E=w[w.length-1];T.onCurve?(v=null,x=!0):(v=T=E.onCurve?E:{x:(T.x+E.x)/2,y:(T.y+E.y)/2},x=!1),f.moveTo(T.x,T.y);for(var R=x?1:0;R<w.length;R+=1){var P=w[R],N=0===R?T:w[R-1];if(N.onCurve&&P.onCurve)f.lineTo(P.x,P.y);else if(N.onCurve&&!P.onCurve)v=P;else if(N.onCurve||P.onCurve){if(N.onCurve||!P.onCurve)throw new Error("Invalid state.");f.quadraticCurveTo(v.x,v.y,P.x,P.y),v=null}else{var _={x:(N.x+P.x)/2,y:(N.y+P.y)/2};f.quadraticCurveTo(N.x,N.y,_.x,_.y),v=P}}T!==E&&(v?f.quadraticCurveTo(v.x,v.y,T.x,T.y):f.lineTo(T.x,T.y))}return f.closePath(),f}(f.points)}var a=g("../check"),l=g("../glyphset"),p=g("../parse"),c=g("../path");M.parse=function(m,f,d,y){var v,x=new l.GlyphSet(y);for(v=0;v<d.length-1;v+=1){var w=d[v];x.push(v,w!==d[v+1]?l.ttfGlyphLoader(y,v,u,m,f+w,e):l.glyphLoader(y,v))}return x}},{"../check":2,"../glyphset":7,"../parse":9,"../path":10}],16:[function(g,C,M){"use strict";function h(l,p){for(var c=new a.Parser(l,p),m=c.parseUShort(),f=[],d=0;d<m;d++)f[c.parseTag()]={offset:c.parseUShort()};return f}function n(l,p){var c=new a.Parser(l,p),m=c.parseUShort();if(1===m){var f=c.parseUShort(),d=c.parseUShort(),y=c.parseUShortList(d);return function(R){return y[R-f]||0}}if(2===m){for(var v=c.parseUShort(),x=[],w=[],T=[],E=0;E<v;E++)x[E]=c.parseUShort(),w[E]=c.parseUShort(),T[E]=c.parseUShort();return function(R){for(var P=0,N=x.length-1;P<N;){var _=P+N+1>>1;R<x[_]?N=_-1:P=_}return x[P]<=R&&R<=w[P]&&T[P]||0}}}function i(l,p){var c,m=new a.Parser(l,p),f=m.parseUShort(),y=function(l,p){var c=new a.Parser(l,p),m=c.parseUShort(),f=c.parseUShort();if(1===m)return c.parseUShortList(f);if(2===m){for(var d=[];f--;)for(var y=c.parseUShort(),v=c.parseUShort(),x=c.parseUShort(),w=y;w<=v;w++)d[x++]=w;return d}}(l,p+m.parseUShort()),v=m.parseUShort(),x=m.parseUShort();if(4===v&&0===x){var w={};if(1===f){for(var T=m.parseUShort(),E=[],R=m.parseOffset16List(T),P=0;P<T;P++){var N=R[P],_=w[N];if(!_){_={},m.relativeOffset=N;for(var b=m.parseUShort();b--;){var I=m.parseUShort();v&&(c=m.parseShort()),x&&m.parseShort(),_[I]=c}}E[y[P]]=_}return function(L,A){var G=E[L];if(G)return G[A]}}if(2===f){for(var S=m.parseUShort(),F=m.parseUShort(),O=m.parseUShort(),W=m.parseUShort(),B=n(l,p+S),k=n(l,p+F),H=[],q=0;q<O;q++)for(var Z=H[q]=[],te=0;te<W;te++)v&&(c=m.parseShort()),x&&m.parseShort(),Z[te]=c;var Q={};for(q=0;q<y.length;q++)Q[y[q]]=1;return function(L,A){if(Q[L]){var G=B(L),X=k(A),J=H[G];return J?J[X]:void 0}}}}}function t(l,p){var c=new a.Parser(l,p),m=c.parseUShort(),f=c.parseUShort(),d=16&f,y=c.parseUShort(),v=c.parseOffset16List(y),x={lookupType:m,lookupFlag:f,markFilteringSet:d?c.parseUShort():-1};if(2===m){for(var w=[],T=0;T<y;T++)w.push(i(l,p+v[T]));x.getKerningValue=function(E,R){for(var P=w.length;P--;){var N=w[P](E,R);if(void 0!==N)return N}return 0}}return x}var s=g("../check"),a=g("../parse");M.parse=function(l,p,c){var m=new a.Parser(l,p),f=m.parseFixed();s.argument(1===f,"Unsupported GPOS table version."),h(l,p+m.parseUShort()),h(l,p+m.parseUShort());var d=m.parseUShort();m.relativeOffset=d;for(var y=m.parseUShort(),v=m.parseOffset16List(y),x=p+d,w=0;w<y;w++){var T=t(l,x+v[w]);2!==T.lookupType||c.getGposKerningValue||(c.getGposKerningValue=T.getKerningValue)}}},{"../check":2,"../parse":9}],17:[function(g,C,M){"use strict";var n=g("../check"),i=g("../parse"),t=g("../table");M.parse=function(e,s){var a={},l=new i.Parser(e,s);return a.version=l.parseVersion(),a.fontRevision=Math.round(1e3*l.parseFixed())/1e3,a.checkSumAdjustment=l.parseULong(),a.magicNumber=l.parseULong(),n.argument(1594834165===a.magicNumber,"Font header has wrong magic number."),a.flags=l.parseUShort(),a.unitsPerEm=l.parseUShort(),a.created=l.parseLongDateTime(),a.modified=l.parseLongDateTime(),a.xMin=l.parseShort(),a.yMin=l.parseShort(),a.xMax=l.parseShort(),a.yMax=l.parseShort(),a.macStyle=l.parseUShort(),a.lowestRecPPEM=l.parseUShort(),a.fontDirectionHint=l.parseShort(),a.indexToLocFormat=l.parseShort(),a.glyphDataFormat=l.parseShort(),a},M.make=function(e){return new t.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}},{"../check":2,"../parse":9,"../table":11}],18:[function(g,C,M){"use strict";var n=g("../parse"),i=g("../table");M.parse=function(t,e){var s={},a=new n.Parser(t,e);return s.version=a.parseVersion(),s.ascender=a.parseShort(),s.descender=a.parseShort(),s.lineGap=a.parseShort(),s.advanceWidthMax=a.parseUShort(),s.minLeftSideBearing=a.parseShort(),s.minRightSideBearing=a.parseShort(),s.xMaxExtent=a.parseShort(),s.caretSlopeRise=a.parseShort(),s.caretSlopeRun=a.parseShort(),s.caretOffset=a.parseShort(),a.relativeOffset+=8,s.metricDataFormat=a.parseShort(),s.numberOfHMetrics=a.parseUShort(),s},M.make=function(t){return new i.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}},{"../parse":9,"../table":11}],19:[function(g,C,M){"use strict";var n=g("../parse"),i=g("../table");M.parse=function(t,e,s,a,l){for(var p,c,m=new n.Parser(t,e),f=0;f<a;f+=1){f<s&&(p=m.parseUShort(),c=m.parseShort());var d=l.get(f);d.advanceWidth=p,d.leftSideBearing=c}},M.make=function(t){for(var e=new i.Table("hmtx",[]),s=0;s<t.length;s+=1){var a=t.get(s),p=a.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+s,type:"USHORT",value:a.advanceWidth||0}),e.fields.push({name:"leftSideBearing_"+s,type:"SHORT",value:p})}return e}},{"../parse":9,"../table":11}],20:[function(g,C,M){"use strict";var u=g("../check"),n=g("../parse");M.parse=function(i,t){var e={},s=new n.Parser(i,t),a=s.parseUShort();u.argument(0===a,"Unsupported kern table version."),s.skip("uShort",1);var l=s.parseUShort();u.argument(0===l,"Unsupported kern sub-table version."),s.skip("uShort",2);var p=s.parseUShort();s.skip("uShort",3);for(var c=0;c<p;c+=1){var m=s.parseUShort(),f=s.parseUShort(),d=s.parseShort();e[m+","+f]=d}return e}},{"../check":2,"../parse":9}],21:[function(g,C,M){"use strict";var u=g("../parse");M.parse=function(n,i,t,e){for(var s=new u.Parser(n,i),a=e?s.parseUShort:s.parseULong,l=[],p=0;p<t+1;p+=1){var c=a.call(s);e&&(c*=2),l.push(c)}return l}},{"../parse":9}],22:[function(g,C,M){"use strict";var n=g("../check"),i=g("../parse"),t=g("../table");M.make=function(e){for(var s=new t.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),a="",l=12+4*e.length,p=0;p<e.length;++p){var c=a.indexOf(e[p]);c<0&&(c=a.length,a+=e[p]),s.fields.push({name:"offset "+p,type:"USHORT",value:l+c}),s.fields.push({name:"length "+p,type:"USHORT",value:e[p].length})}return s.fields.push({name:"stringPool",type:"CHARARRAY",value:a}),s},M.parse=function(e,s){var a=new i.Parser(e,s),l=a.parseULong();n.argument(1===l,"Unsupported ltag table version."),a.skip("uLong",1);for(var p=a.parseULong(),c=[],m=0;m<p;m++){for(var f="",d=s+a.parseUShort(),y=a.parseUShort(),v=d;v<d+y;++v)f+=String.fromCharCode(e.getInt8(v));c.push(f)}return c}},{"../check":2,"../parse":9,"../table":11}],23:[function(g,C,M){"use strict";var n=g("../parse"),i=g("../table");M.parse=function(t,e){var s={},a=new n.Parser(t,e);return s.version=a.parseVersion(),s.numGlyphs=a.parseUShort(),1===s.version&&(s.maxPoints=a.parseUShort(),s.maxContours=a.parseUShort(),s.maxCompositePoints=a.parseUShort(),s.maxCompositeContours=a.parseUShort(),s.maxZones=a.parseUShort(),s.maxTwilightPoints=a.parseUShort(),s.maxStorage=a.parseUShort(),s.maxFunctionDefs=a.parseUShort(),s.maxInstructionDefs=a.parseUShort(),s.maxStackElements=a.parseUShort(),s.maxSizeOfInstructions=a.parseUShort(),s.maxComponentElements=a.parseUShort(),s.maxComponentDepth=a.parseUShort()),s},M.make=function(t){return new i.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}},{"../parse":9,"../table":11}],24:[function(g,C,M){"use strict";function h(R,P,N){switch(R){case 0:if(65535===P)return"und";if(N)return N[P];break;case 1:return y[P];case 3:return x[P]}}function u(R,P,N){switch(R){case 0:return w;case 1:return E[N]||T[P];case 3:if(1===P||10===P)return w}}function i(R){var P={};for(var N in R)P[R[N]]=parseInt(N);return P}function t(R,P,N,_,b,I){return new f.Table("NameRecord",[{name:"platformID",type:"USHORT",value:R},{name:"encodingID",type:"USHORT",value:P},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:_},{name:"length",type:"USHORT",value:b},{name:"offset",type:"USHORT",value:I}])}function s(R,P){var N=function(R,P){var N=R.length,_=P.length-N+1;e:for(var b=0;b<_;b++)for(;b<_;b++){for(var I=0;I<N;I++)if(P[b+I]!==R[I])continue e;return b}return-1}(R,P);if(N<0){N=P.length;for(var _=0,b=R.length;_<b;++_)P.push(R[_])}return N}var l=g("../types"),p=l.decode,c=l.encode,m=g("../parse"),f=g("../table"),d=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],y={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},v={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},x={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},w="utf-16",T={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},E={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};M.parse=function(R,P,N){for(var _={},b=new m.Parser(R,P),I=b.parseUShort(),S=b.parseUShort(),F=b.offset+b.parseUShort(),O=0;O<S;O++){var A,W=b.parseUShort(),B=b.parseUShort(),k=b.parseUShort(),H=b.parseUShort(),q=d[H]||H,Z=b.parseUShort(),te=b.parseUShort(),Q=h(W,k,N),L=u(W,B,k);if(void 0!==L&&void 0!==Q&&(A=L===w?p.UTF16(R,F+te,Z):p.MACSTRING(R,F+te,Z,L))){var G=_[q];void 0===G&&(G=_[q]={}),G[Q]=A}}return 1===I&&b.parseUShort(),_},M.make=function(R,P){var N,_=[],b={},I=i(d);for(var S in R){var F=I[S];void 0===F&&(F=S),b[N=parseInt(F)]=R[S],_.push(N)}for(var O=i(y),W=i(x),B=[],k=[],H=0;H<_.length;H++){var q=b[N=_[H]];for(var Z in q){var te=q[Z],Q=1,L=O[Z],A=v[L],G=u(Q,A,L),X=c.MACSTRING(te,G);void 0===X&&(Q=0,(L=P.indexOf(Z))<0&&(L=P.length,P.push(Z)),A=4,X=c.UTF16(te));var J=s(X,k);B.push(t(Q,A,L,N,X.length,J));var V=W[Z];if(void 0!==V){var D=c.UTF16(te),Y=s(D,k);B.push(t(3,1,V,N,D.length,Y))}}}B.sort(function(K,U){return K.platformID-U.platformID||K.encodingID-U.encodingID||K.languageID-U.languageID||K.nameID-U.nameID});for(var z=new f.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:B.length},{name:"stringOffset",type:"USHORT",value:6+12*B.length}]),j=0;j<B.length;j++)z.fields.push({name:"record_"+j,type:"TABLE",value:B[j]});return z.fields.push({name:"strings",type:"LITERAL",value:k}),z}},{"../parse":9,"../table":11,"../types":28}],25:[function(g,C,M){"use strict";var i=g("../parse"),t=g("../table"),e=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];M.unicodeRanges=e,M.getUnicodeRange=function(s){for(var a=0;a<e.length;a+=1){var l=e[a];if(s>=l.begin&&s<l.end)return a}return-1},M.parse=function(s,a){var l={},p=new i.Parser(s,a);l.version=p.parseUShort(),l.xAvgCharWidth=p.parseShort(),l.usWeightClass=p.parseUShort(),l.usWidthClass=p.parseUShort(),l.fsType=p.parseUShort(),l.ySubscriptXSize=p.parseShort(),l.ySubscriptYSize=p.parseShort(),l.ySubscriptXOffset=p.parseShort(),l.ySubscriptYOffset=p.parseShort(),l.ySuperscriptXSize=p.parseShort(),l.ySuperscriptYSize=p.parseShort(),l.ySuperscriptXOffset=p.parseShort(),l.ySuperscriptYOffset=p.parseShort(),l.yStrikeoutSize=p.parseShort(),l.yStrikeoutPosition=p.parseShort(),l.sFamilyClass=p.parseShort(),l.panose=[];for(var c=0;c<10;c++)l.panose[c]=p.parseByte();return l.ulUnicodeRange1=p.parseULong(),l.ulUnicodeRange2=p.parseULong(),l.ulUnicodeRange3=p.parseULong(),l.ulUnicodeRange4=p.parseULong(),l.achVendID=String.fromCharCode(p.parseByte(),p.parseByte(),p.parseByte(),p.parseByte()),l.fsSelection=p.parseUShort(),l.usFirstCharIndex=p.parseUShort(),l.usLastCharIndex=p.parseUShort(),l.sTypoAscender=p.parseShort(),l.sTypoDescender=p.parseShort(),l.sTypoLineGap=p.parseShort(),l.usWinAscent=p.parseUShort(),l.usWinDescent=p.parseUShort(),l.version>=1&&(l.ulCodePageRange1=p.parseULong(),l.ulCodePageRange2=p.parseULong()),l.version>=2&&(l.sxHeight=p.parseShort(),l.sCapHeight=p.parseShort(),l.usDefaultChar=p.parseUShort(),l.usBreakChar=p.parseUShort(),l.usMaxContent=p.parseUShort()),l},M.make=function(s){return new t.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],s)}},{"../parse":9,"../table":11}],26:[function(g,C,M){"use strict";var n=g("../encoding"),i=g("../parse"),t=g("../table");M.parse=function(e,s){var a,l={},p=new i.Parser(e,s);switch(l.version=p.parseVersion(),l.italicAngle=p.parseFixed(),l.underlinePosition=p.parseShort(),l.underlineThickness=p.parseShort(),l.isFixedPitch=p.parseULong(),l.minMemType42=p.parseULong(),l.maxMemType42=p.parseULong(),l.minMemType1=p.parseULong(),l.maxMemType1=p.parseULong(),l.version){case 1:l.names=n.standardNames.slice();break;case 2:for(l.numberOfGlyphs=p.parseUShort(),l.glyphNameIndex=new Array(l.numberOfGlyphs),a=0;a<l.numberOfGlyphs;a++)l.glyphNameIndex[a]=p.parseUShort();for(l.names=[],a=0;a<l.numberOfGlyphs;a++)if(l.glyphNameIndex[a]>=n.standardNames.length){var c=p.parseChar();l.names.push(p.parseString(c))}break;case 2.5:for(l.numberOfGlyphs=p.parseUShort(),l.offset=new Array(l.numberOfGlyphs),a=0;a<l.numberOfGlyphs;a++)l.offset[a]=p.parseChar()}return l},M.make=function(){return new t.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},{"../encoding":4,"../parse":9,"../table":11}],27:[function(g,C,M){"use strict";function h(E){return Math.log(E)/Math.log(2)|0}function u(E){for(;E.length%4!=0;)E.push(0);for(var R=0,P=0;P<E.length;P+=4)R+=(E[P]<<24)+(E[P+1]<<16)+(E[P+2]<<8)+E[P+3];return R%Math.pow(2,32)}function n(E,R,P,N){return new l.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==E?E:""},{name:"checkSum",type:"ULONG",value:void 0!==R?R:0},{name:"offset",type:"ULONG",value:void 0!==P?P:0},{name:"length",type:"ULONG",value:void 0!==N?N:0}])}function i(E){var R=new l.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);R.tables=E,R.numTables=E.length;var P=Math.pow(2,h(R.numTables));R.searchRange=16*P,R.entrySelector=h(P),R.rangeShift=16*R.numTables-R.searchRange;for(var N=[],_=[],b=R.sizeOf()+n().sizeOf()*R.numTables;b%4!=0;)b+=1,_.push({name:"padding",type:"BYTE",value:0});for(var I=0;I<E.length;I+=1){var S=E[I];a.argument(4===S.tableName.length,"Table name"+S.tableName+" is invalid.");var F=S.sizeOf(),O=n(S.tableName,u(S.encode()),b,F);for(N.push({name:O.tag+" Table Record",type:"TABLE",value:O}),_.push({name:S.tableName+" table",type:"TABLE",value:S}),b+=F,a.argument(!isNaN(b),"Something went wrong calculating the offset.");b%4!=0;)b+=1,_.push({name:"padding",type:"BYTE",value:0})}return N.sort(function(W,B){return W.value.tag>B.value.tag?1:-1}),R.fields=R.fields.concat(N),R.fields=R.fields.concat(_),R}function t(E,R,P){for(var N=0;N<R.length;N+=1){var _=E.charToGlyphIndex(R[N]);if(_>0)return E.glyphs.get(_).getMetrics()}return P}function e(E){for(var R=0,P=0;P<E.length;P+=1)R+=E[P];return R/E.length}var a=g("../check"),l=g("../table"),p=g("./cmap"),c=g("./cff"),m=g("./head"),f=g("./hhea"),d=g("./hmtx"),y=g("./ltag"),v=g("./maxp"),x=g("./name"),w=g("./os2"),T=g("./post");M.computeCheckSum=u,M.make=i,M.fontToTable=function(E){for(var R,P=[],N=[],_=[],b=[],I=[],S=[],F=[],O=0,W=0,B=0,k=0,H=0,q=0;q<E.glyphs.length;q+=1){var Z=E.glyphs.get(q),te=0|Z.unicode;(R>te||null===R)&&(R=te),O<te&&(O=te);var Q=w.getUnicodeRange(te);if(Q<32)W|=1<<Q;else if(Q<64)B|=1<<Q-32;else if(Q<96)k|=1<<Q-64;else{if(!(Q<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");H|=1<<Q-96}if(".notdef"!==Z.name){var L=Z.getMetrics();P.push(L.xMin),N.push(L.yMin),_.push(L.xMax),b.push(L.yMax),S.push(L.leftSideBearing),F.push(L.rightSideBearing),I.push(Z.advanceWidth)}}var A={xMin:Math.min.apply(null,P),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,_),yMax:Math.max.apply(null,b),advanceWidthMax:Math.max.apply(null,I),advanceWidthAvg:e(I),minLeftSideBearing:Math.min.apply(null,S),maxLeftSideBearing:Math.max.apply(null,S),minRightSideBearing:Math.min.apply(null,F)};A.ascender=void 0!==E.ascender?E.ascender:A.yMax,A.descender=void 0!==E.descender?E.descender:A.yMin;var G=m.make({unitsPerEm:E.unitsPerEm,xMin:A.xMin,yMin:A.yMin,xMax:A.xMax,yMax:A.yMax}),X=f.make({ascender:A.ascender,descender:A.descender,advanceWidthMax:A.advanceWidthMax,minLeftSideBearing:A.minLeftSideBearing,minRightSideBearing:A.minRightSideBearing,xMaxExtent:A.maxLeftSideBearing+(A.xMax-A.xMin),numberOfHMetrics:E.glyphs.length}),J=v.make(E.glyphs.length),V=w.make({xAvgCharWidth:Math.round(A.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:R,usLastCharIndex:O,ulUnicodeRange1:W,ulUnicodeRange2:B,ulUnicodeRange3:k,ulUnicodeRange4:H,sTypoAscender:A.ascender,sTypoDescender:A.descender,sTypoLineGap:0,usWinAscent:A.ascender,usWinDescent:-A.descender,sxHeight:t(E,"xyvw",{yMax:0}).yMax,sCapHeight:t(E,"HIKLEFJMNTZBDPRAGOQSUVWXY",A).yMax,usBreakChar:E.hasChar(" ")?32:0}),D=d.make(E.glyphs),Y=p.make(E.glyphs),z=E.getEnglishName("fontFamily"),j=E.getEnglishName("fontSubfamily"),K=z+" "+j,U=E.getEnglishName("postScriptName");U||(U=z.replace(/\s/g,"")+"-"+j);var re={};for(var se in E.names)re[se]=E.names[se];re.uniqueID||(re.uniqueID={en:E.getEnglishName("manufacturer")+":"+K}),re.postScriptName||(re.postScriptName={en:U}),re.preferredFamily||(re.preferredFamily=E.names.fontFamily),re.preferredSubfamily||(re.preferredSubfamily=E.names.fontSubfamily);var ae=[],ge=x.make(re,ae),$=ae.length>0?y.make(ae):void 0,ue=[G,X,J,V,ge,Y,T.make(),c.make(E.glyphs,{version:E.getEnglishName("version"),fullName:K,familyName:z,weightName:j,postScriptName:U,unitsPerEm:E.unitsPerEm}),D];$&&ue.push($);var ye=i(ue),_e=u(ye.encode()),ve=ye.fields,le=!1;for(q=0;q<ve.length;q+=1)if("head table"===ve[q].name){ve[q].value.checkSumAdjustment=2981146554-_e,le=!0;break}if(!le)throw new Error("Could not find head table with checkSum to adjust.");return ye}},{"../check":2,"../table":11,"./cff":12,"./cmap":13,"./head":17,"./hhea":18,"./hmtx":19,"./ltag":22,"./maxp":23,"./name":24,"./os2":25,"./post":26}],28:[function(g,C,M){"use strict";function h(f){return function(){return f}}var u=g("./check"),i=2147483648,t={},e={},s={};e.BYTE=function(f){return u.argument(f>=0&&f<=255,"Byte value should be between 0 and 255."),[f]},s.BYTE=h(1),e.CHAR=function(f){return[f.charCodeAt(0)]},s.CHAR=h(1),e.CHARARRAY=function(f){for(var d=[],y=0;y<f.length;y+=1)d.push(f.charCodeAt(y));return d},s.CHARARRAY=function(f){return f.length},e.USHORT=function(f){return[f>>8&255,255&f]},s.USHORT=h(2),e.SHORT=function(f){return f>=32768&&(f=-(65536-f)),[f>>8&255,255&f]},s.SHORT=h(2),e.UINT24=function(f){return[f>>16&255,f>>8&255,255&f]},s.UINT24=h(3),e.ULONG=function(f){return[f>>24&255,f>>16&255,f>>8&255,255&f]},s.ULONG=h(4),e.LONG=function(f){return f>=i&&(f=-(2*i-f)),[f>>24&255,f>>16&255,f>>8&255,255&f]},s.LONG=h(4),e.FIXED=e.ULONG,s.FIXED=s.ULONG,e.FWORD=e.SHORT,s.FWORD=s.SHORT,e.UFWORD=e.USHORT,s.UFWORD=s.USHORT,e.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},s.LONGDATETIME=h(8),e.TAG=function(f){return u.argument(4===f.length,"Tag should be exactly 4 ASCII characters."),[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]},s.TAG=h(4),e.Card8=e.BYTE,s.Card8=s.BYTE,e.Card16=e.USHORT,s.Card16=s.USHORT,e.OffSize=e.BYTE,s.OffSize=s.BYTE,e.SID=e.USHORT,s.SID=s.USHORT,e.NUMBER=function(f){return f>=-107&&f<=107?[f+139]:f>=108&&f<=1131?[247+((f-=108)>>8),255&f]:f>=-1131&&f<=-108?[251+((f=-f-108)>>8),255&f]:f>=-32768&&f<=32767?e.NUMBER16(f):e.NUMBER32(f)},s.NUMBER=function(f){return e.NUMBER(f).length},e.NUMBER16=function(f){return[28,f>>8&255,255&f]},s.NUMBER16=h(3),e.NUMBER32=function(f){return[29,f>>24&255,f>>16&255,f>>8&255,255&f]},s.NUMBER32=h(5),e.REAL=function(f){var d=f.toString(),y=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(d);if(y){var v=parseFloat("1e"+((y[2]?+y[2]:0)+y[1].length));d=(Math.round(f*v)/v).toString()}var x,w,T="";for(x=0,w=d.length;x<w;x+=1){var E=d[x];T+="e"===E?"-"===d[++x]?"c":"b":"."===E?"a":"-"===E?"e":E}var R=[30];for(x=0,w=(T+=1&T.length?"f":"ff").length;x<w;x+=2)R.push(parseInt(T.substr(x,2),16));return R},s.REAL=function(f){return e.REAL(f).length},e.NAME=e.CHARARRAY,s.NAME=s.CHARARRAY,e.STRING=e.CHARARRAY,s.STRING=s.CHARARRAY,t.UTF16=function(f,d,y){for(var v=[],x=y/2,w=0;w<x;w++,d+=2)v[w]=f.getUint16(d);return String.fromCharCode.apply(null,v)},e.UTF16=function(f){for(var d=[],y=0;y<f.length;y+=1){var v=f.charCodeAt(y);d.push(v>>8&255),d.push(255&v)}return d},s.UTF16=function(f){return 2*f.length};var a={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};t.MACSTRING=function(f,d,y,v){var x=a[v];if(void 0!==x){for(var w="",T=0;T<y;T++){var E=f.getUint8(d+T);w+=E<=127?String.fromCharCode(E):x[127&E]}return w}};var l,p="function"==typeof WeakMap&&new WeakMap;e.MACSTRING=function(f,d){var y=function(f){if(!l)for(var d in l={},a)l[d]=new String(d);var y=l[f];if(void 0!==y){if(p){var v=p.get(y);if(void 0!==v)return v}var x=a[f];if(void 0!==x){for(var w={},T=0;T<x.length;T++)w[x.charCodeAt(T)]=T+128;return p&&p.set(y,w),w}}}(d);if(void 0!==y){for(var v=[],x=0;x<f.length;x++){var w=f.charCodeAt(x);if(w>=128&&void 0===(w=y[w]))return;v.push(w)}return v}},s.MACSTRING=function(f,d){var y=e.MACSTRING(f,d);return void 0!==y?y.length:0},e.INDEX=function(f){var d,y=1,v=[y],x=[],w=0;for(d=0;d<f.length;d+=1){var T=e.OBJECT(f[d]);Array.prototype.push.apply(x,T),w+=T.length,v.push(y+=T.length)}if(0===x.length)return[0,0];var E=[],R=1+Math.floor(Math.log(w)/Math.log(2))/8|0,P=[void 0,e.BYTE,e.USHORT,e.UINT24,e.ULONG][R];for(d=0;d<v.length;d+=1){var N=P(v[d]);Array.prototype.push.apply(E,N)}return Array.prototype.concat(e.Card16(f.length),e.OffSize(R),E,x)},s.INDEX=function(f){return e.INDEX(f).length},e.DICT=function(f){for(var d=[],y=Object.keys(f),v=y.length,x=0;x<v;x+=1){var w=parseInt(y[x],0),T=f[w];d=(d=d.concat(e.OPERAND(T.value,T.type))).concat(e.OPERATOR(w))}return d},s.DICT=function(f){return e.DICT(f).length},e.OPERATOR=function(f){return f<1200?[f]:[12,f-1200]},e.OPERAND=function(f,d){var y=[];if(Array.isArray(d))for(var v=0;v<d.length;v+=1)u.argument(f.length===d.length,"Not enough arguments given for type"+d),y=y.concat(e.OPERAND(f[v],d[v]));else if("SID"===d)y=y.concat(e.NUMBER(f));else if("offset"===d)y=y.concat(e.NUMBER32(f));else if("number"===d)y=y.concat(e.NUMBER(f));else{if("real"!==d)throw new Error("Unknown operand type "+d);y=y.concat(e.REAL(f))}return y},e.OP=e.BYTE,s.OP=s.BYTE;var m="function"==typeof WeakMap&&new WeakMap;e.CHARSTRING=function(f){if(m){var d=m.get(f);if(void 0!==d)return d}for(var y=[],v=f.length,x=0;x<v;x+=1){var w=f[x];y=y.concat(e[w.type](w.value))}return m&&m.set(f,y),y},s.CHARSTRING=function(f){return e.CHARSTRING(f).length},e.OBJECT=function(f){var d=e[f.type];return u.argument(void 0!==d,"No encoding function for type "+f.type),d(f.value)},s.OBJECT=function(f){var d=s[f.type];return u.argument(void 0!==d,"No sizeOf function for type "+f.type),d(f.value)},e.TABLE=function(f){for(var d=[],y=f.fields.length,v=0;v<y;v+=1){var x=f.fields[v],w=e[x.type];u.argument(void 0!==w,"No encoding function for field type "+x.type);var T=f[x.name];void 0===T&&(T=x.value);var E=w(T);d=d.concat(E)}return d},s.TABLE=function(f){for(var d=0,y=f.fields.length,v=0;v<y;v+=1){var x=f.fields[v],w=s[x.type];u.argument(void 0!==w,"No sizeOf function for field type "+x.type);var T=f[x.name];void 0===T&&(T=x.value),d+=w(T)}return d},e.LITERAL=function(f){return f},s.LITERAL=function(f){return f.length},M.decode=t,M.encode=e,M.sizeOf=s},{"./check":2}],29:[function(_dereq_,module,exports){var C,M;C=this,M=function(){function succeed(g){var C=protocolRe.exec(g.url);return C=C&&C[1]||window.location.protocol,httpsRe.test(C)?twoHundo.test(g.request.status):!!g.request.response}function handleReadyState(g,C,M){return function(){return g._aborted?M(g.request):g._timedOut?M(g.request,"Request is aborted: timeout"):void(g.request&&4==g.request[readyState]&&(g.request.onreadystatechange=noop,succeed(g)?C(g.request):M(g.request)))}}function setHeaders(g,C){var M,h=C.headers||{};h.Accept=h.Accept||defaultHeaders.accept[C.type]||defaultHeaders.accept["*"];var u="function"==typeof FormData&&C.data instanceof FormData;for(M in C.crossOrigin||h[requestedWith]||(h[requestedWith]=defaultHeaders.requestedWith),h[contentType]||u||(h[contentType]=C.contentType||defaultHeaders.contentType),h)h.hasOwnProperty(M)&&"setRequestHeader"in g&&g.setRequestHeader(M,h[M])}function setCredentials(g,C){void 0!==C.withCredentials&&void 0!==g.withCredentials&&(g.withCredentials=!!C.withCredentials)}function generalCallback(g){lastValue=g}function urlappend(g,C){return g+(/\?/.test(g)?"&":"?")+C}function handleJsonp(g,C,M,h){var u=uniqid++,n=g.jsonpCallback||"callback",i=g.jsonpCallbackName||reqwest.getcallbackPrefix(u),t=new RegExp("((^|\\?|&)"+n+")=([^&]+)"),e=h.match(t),s=doc.createElement("script"),a=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return e?"?"===e[3]?h=h.replace(t,"$1="+i):i=e[3]:h=urlappend(h,n+"="+i),win[i]=generalCallback,s.type="text/javascript",s.src=h,s.async=!0,void 0===s.onreadystatechange||l||(s.htmlFor=s.id="_reqwest_"+u),s.onload=s.onreadystatechange=function(){if(s[readyState]&&"complete"!==s[readyState]&&"loaded"!==s[readyState]||a)return!1;s.onload=s.onreadystatechange=null,s.onclick&&s.onclick(),C(lastValue),lastValue=void 0,head.removeChild(s),a=1},head.appendChild(s),{abort:function(){s.onload=s.onreadystatechange=null,M({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(s),a=1}}}function getRequest(g,C){var M,h=this.o,u=(h.method||"GET").toUpperCase(),n="string"==typeof h?h:h.url,i=!1!==h.processData&&h.data&&"string"!=typeof h.data?reqwest.toQueryString(h.data):h.data||null,t=!1;return"jsonp"!=h.type&&"GET"!=u||!i||(n=urlappend(n,i),i=null),"jsonp"==h.type?handleJsonp(h,g,C,n):((M=h.xhr&&h.xhr(h)||xhr(h)).open(u,n,!1!==h.async),setHeaders(M,h),setCredentials(M,h),win[xDomainRequest]&&M instanceof win[xDomainRequest]?(M.onload=g,M.onerror=C,M.onprogress=function(){},t=!0):M.onreadystatechange=handleReadyState(this,g,C),h.before&&h.before(M),t?setTimeout(function(){M.send(i)},200):M.send(i),M)}function Reqwest(g,C){this.o=g,this.fn=C,init.apply(this,arguments)}function setType(g){return g.match("json")?"json":g.match("javascript")?"js":g.match("text")?"html":g.match("xml")?"xml":void 0}function init(o,fn){function complete(g){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(g)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(g){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(g){return error(resp,"Could not parse JSON in response",g)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(g,C,M){for(self._responseArgs.resp=g=self.request,self._responseArgs.msg=C,self._responseArgs.t=M,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(g,C,M);complete(g)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(g,C){return new Reqwest(g,C)}function normalize(g){return g?g.replace(/\r?\n/g,"\r\n"):""}function serial(g,C){var M,h,u,n,i=g.name,t=g.tagName.toLowerCase(),e=function(s){s&&!s.disabled&&C(i,normalize(s.attributes.value&&s.attributes.value.specified?s.value:s.text))};if(!g.disabled&&i)switch(t){case"input":/reset|button|image|file/i.test(g.type)||(M=/checkbox/i.test(g.type),h=/radio/i.test(g.type),u=g.value,(!M&&!h||g.checked)&&C(i,normalize(M&&""===u?"on":u)));break;case"textarea":C(i,normalize(g.value));break;case"select":if("select-one"===g.type.toLowerCase())e(g.selectedIndex>=0?g.options[g.selectedIndex]:null);else for(n=0;g.length&&n<g.length;n++)g.options[n].selected&&e(g.options[n])}}function eachFormElement(){var g,C,M=this,h=function(u,n){var i,t,e;for(i=0;i<n.length;i++)for(e=u[byTag](n[i]),t=0;t<e.length;t++)serial(e[t],M)};for(C=0;C<arguments.length;C++)/input|select|textarea/i.test((g=arguments[C]).tagName)&&serial(g,M),h(g,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var g={};return eachFormElement.apply(function(C,M){C in g?(g[C]&&!isArray(g[C])&&(g[C]=[g[C]]),g[C].push(M)):g[C]=M},arguments),g}function buildParams(g,C,M,h){var u,n,i,t=/\[\]$/;if(isArray(C))for(n=0;C&&n<C.length;n++)i=C[n],M||t.test(g)?h(g,i):buildParams(g+"["+("object"==typeof i?n:"")+"]",i,M,h);else if(C&&"[object Object]"===C.toString())for(u in C)buildParams(g+"["+u+"]",C[u],M,h);else h(g,C)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(g){return g instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(g){if(!0===g.crossOrigin){var C=win[xmlHttpRequest]?new XMLHttpRequest:null;if(C&&"withCredentials"in C)return C;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(g){return g}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(g,C){return g=g||function(){},C=C||function(){},this._fulfilled?this._responseArgs.resp=g(this._responseArgs.resp):this._erred?C(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(g),this._errorHandlers.push(C)),this},always:function(g){return this._fulfilled||this._erred?g(this._responseArgs.resp):this._completeHandlers.push(g),this},fail:function(g){return this._erred?g(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(g),this},catch:function(g){return this.fail(g)}},reqwest.serializeArray=function(){var g=[];return eachFormElement.apply(function(C,M){g.push({name:C,value:M})},arguments),g},reqwest.serialize=function(){if(0===arguments.length)return"";var g,M=Array.prototype.slice.call(arguments,0);return(g=M.pop())&&g.nodeType&&M.push(g)&&(g=null),g&&(g=g.type),("map"==g?serializeHash:"array"==g?reqwest.serializeArray:serializeQueryString).apply(null,M)},reqwest.toQueryString=function(g,C){var M,h,u=C||!1,n=[],i=encodeURIComponent,t=function(e,s){s="function"==typeof s?s():null==s?"":s,n[n.length]=i(e)+"="+i(s)};if(isArray(g))for(h=0;g&&h<g.length;h++)t(g[h].name,g[h].value);else for(M in g)g.hasOwnProperty(M)&&buildParams(M,g[M],u,t);return n.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(g,C){return g&&(g.type&&(g.method=g.type)&&delete g.type,g.dataType&&(g.type=g.dataType),g.jsonpCallback&&(g.jsonpCallbackName=g.jsonpCallback)&&delete g.jsonpCallback,g.jsonp&&(g.jsonpCallback=g.jsonp)),new Reqwest(g,C)},reqwest.ajaxSetup=function(g){for(var C in g=g||{})globalSetupOptions[C]=g[C]},reqwest},void 0!==module&&module.exports?module.exports=M():"function"==typeof define&&define.amd?define(M):C.reqwest=M()},{}],30:[function(g,C,M){"use strict";var h=g("./core/core");g("./color/p5.Color"),g("./core/p5.Element"),g("./typography/p5.Font"),g("./core/p5.Graphics"),g("./core/p5.Renderer2D"),g("./image/p5.Image"),g("./math/p5.Vector"),g("./io/p5.TableRow"),g("./io/p5.Table"),g("./io/p5.XML"),g("./color/creating_reading"),g("./color/setting"),g("./core/constants"),g("./utilities/conversion"),g("./utilities/array_functions"),g("./utilities/string_functions"),g("./core/environment"),g("./image/image"),g("./image/loading_displaying"),g("./image/pixels"),g("./io/files"),g("./events/keyboard"),g("./events/acceleration"),g("./events/mouse"),g("./utilities/time_date"),g("./events/touch"),g("./math/math"),g("./math/calculation"),g("./math/random"),g("./math/noise"),g("./math/trigonometry"),g("./core/rendering"),g("./core/2d_primitives"),g("./core/attributes"),g("./core/curves"),g("./core/vertex"),g("./core/structure"),g("./core/transform"),g("./typography/attributes"),g("./typography/loading_displaying"),g("./webgl/p5.RendererGL"),g("./webgl/p5.Geometry"),g("./webgl/p5.RendererGL.Retained"),g("./webgl/p5.RendererGL.Immediate"),g("./webgl/primitives"),g("./webgl/loading"),g("./webgl/p5.Matrix"),g("./webgl/material"),g("./webgl/light"),g("./webgl/shader"),g("./webgl/camera"),g("./webgl/interaction");var u=function(){window.PHANTOMJS||window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!h.instance&&new h};"complete"===document.readyState?u():window.addEventListener("load",u,!1),C.exports=h},{"./color/creating_reading":32,"./color/p5.Color":33,"./color/setting":34,"./core/2d_primitives":35,"./core/attributes":36,"./core/constants":38,"./core/core":39,"./core/curves":40,"./core/environment":41,"./core/p5.Element":43,"./core/p5.Graphics":44,"./core/p5.Renderer2D":46,"./core/rendering":47,"./core/structure":49,"./core/transform":50,"./core/vertex":51,"./events/acceleration":52,"./events/keyboard":53,"./events/mouse":54,"./events/touch":55,"./image/image":57,"./image/loading_displaying":58,"./image/p5.Image":59,"./image/pixels":60,"./io/files":61,"./io/p5.Table":62,"./io/p5.TableRow":63,"./io/p5.XML":64,"./math/calculation":65,"./math/math":66,"./math/noise":67,"./math/p5.Vector":68,"./math/random":70,"./math/trigonometry":71,"./typography/attributes":72,"./typography/loading_displaying":73,"./typography/p5.Font":74,"./utilities/array_functions":75,"./utilities/conversion":76,"./utilities/string_functions":77,"./utilities/time_date":78,"./webgl/camera":79,"./webgl/interaction":80,"./webgl/light":81,"./webgl/loading":82,"./webgl/material":83,"./webgl/p5.Geometry":84,"./webgl/p5.Matrix":85,"./webgl/p5.RendererGL":88,"./webgl/p5.RendererGL.Immediate":86,"./webgl/p5.RendererGL.Retained":87,"./webgl/primitives":89,"./webgl/shader":90}],31:[function(g,C,M){"use strict";var h=g("../core/core");h.ColorConversion={},h.ColorConversion._hsbaToHSLA=function(u){var i=u[1],t=u[2],e=(2-i)*t/2;return 0!==e&&(1===e?i=0:e<.5?i/=2-i:i=i*t/(2-2*e)),[u[0],i,e,u[3]]},h.ColorConversion._hsbaToRGBA=function(u){var n=6*u[0],i=u[1],t=u[2],e=[];if(0===i)e=[t,t,t,u[3]];else{var s,a,l,p=Math.floor(n),c=t*(1-i),m=t*(1-i*(n-p)),f=t*(1-i*(1+p-n));1===p?(s=m,a=t,l=c):2===p?(s=c,a=t,l=f):3===p?(s=c,a=m,l=t):4===p?(s=f,a=c,l=t):5===p?(s=t,a=c,l=m):(s=t,a=f,l=c),e=[s,a,l,u[3]]}return e},h.ColorConversion._hslaToHSBA=function(u){var n,t=u[1],e=u[2];return[u[0],t=2*((n=e<.5?(1+t)*e:e+t-e*t)-e)/n,n,u[3]]},h.ColorConversion._hslaToRGBA=function(u){var n=6*u[0],i=u[1],t=u[2],e=[];if(0===i)e=[t,t,t,u[3]];else{var s,a=2*t-(s=t<.5?(1+i)*t:t+i-t*i),l=function(p,c,m){return p<0?p+=6:p>=6&&(p-=6),p<1?c+(m-c)*p:p<3?m:p<4?c+(m-c)*(4-p):c};e=[l(n+2,a,s),l(n,a,s),l(n-2,a,s),u[3]]}return e},h.ColorConversion._rgbaToHSBA=function(u){var n,i,t=u[0],e=u[1],s=u[2],a=Math.max(t,e,s),l=a-Math.min(t,e,s);return 0===l?(n=0,i=0):(i=l/a,t===a?n=(e-s)/l:e===a?n=2+(s-t)/l:s===a&&(n=4+(t-e)/l),n<0?n+=6:n>=6&&(n-=6)),[n/6,i,a,u[3]]},h.ColorConversion._rgbaToHSLA=function(u){var n,i,t=u[0],e=u[1],s=u[2],a=Math.max(t,e,s),l=Math.min(t,e,s),p=a+l,c=a-l;return 0===c?(n=0,i=0):(i=p<1?c/p:c/(2-c),t===a?n=(e-s)/c:e===a?n=2+(s-t)/c:s===a&&(n=4+(t-e)/c),n<0?n+=6:n>=6&&(n-=6)),[n/6,i,p/2,u[3]]},C.exports=h.ColorConversion},{"../core/core":39}],32:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("../core/constants");g("./p5.Color"),h.prototype.alpha=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getAlpha();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.blue=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getBlue();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.brightness=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getBrightness();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.color=function(){return arguments[0]instanceof h.Color?arguments[0]:new h.Color(this instanceof h.Renderer?this:this._renderer,arguments[0]instanceof Array?arguments[0]:arguments)},h.prototype.green=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getGreen();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.hue=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getHue();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.lerpColor=function(n,i,t){var e,s,a,l,p,c,m=this._renderer._colorMode,f=this._renderer._colorMaxes;if(m===u.RGB)p=n.levels.map(function(d){return d/255}),c=i.levels.map(function(d){return d/255});else if(m===u.HSB)n._getBrightness(),i._getBrightness(),p=n.hsba,c=i.hsba;else{if(m!==u.HSL)throw new Error(m+"cannot be used for interpolation.");n._getLightness(),i._getLightness(),p=n.hsla,c=i.hsla}return t=Math.max(Math.min(t,1),0),e=this.lerp(p[0],c[0],t),s=this.lerp(p[1],c[1],t),a=this.lerp(p[2],c[2],t),l=this.lerp(p[3],c[3],t),this.color(e*=f[m][0],s*=f[m][1],a*=f[m][2],l*=f[m][3])},h.prototype.lightness=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getLightness();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.red=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getRed();throw new Error("Needs p5.Color or pixel array as argument.")},h.prototype.saturation=function(n){if(n instanceof h.Color||n instanceof Array)return this.color(n)._getSaturation();throw new Error("Needs p5.Color or pixel array as argument.")},C.exports=h},{"../core/constants":38,"../core/core":39,"./p5.Color":33}],33:[function(g,C,M){var h=g("../core/core"),u=g("../core/constants"),n=g("./color_conversion");h.Color=function(p,c){if(this.mode=p._colorMode,this.maxes=p._colorMaxes,this.mode!==u.RGB&&this.mode!==u.HSL&&this.mode!==u.HSB)throw new Error(this.mode+" is an invalid colorMode.");return this._array=h.Color._parseInputs.apply(p,c),this.levels=this._array.map(function(m){return Math.round(255*m)}),this},h.Color.prototype.toString=function(){var p=this.levels;return"rgba("+p[0]+","+p[1]+","+p[2]+","+this._array[3]+")"},h.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},h.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[u.RGB][2]},h.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=n._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]},h.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[u.RGB][1]},h.Color.prototype._getHue=function(){return this.mode===u.HSB?(this.hsba||(this.hsba=n._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=n._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])},h.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=n._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]},h.Color.prototype._getRed=function(){return this._array[0]*this.maxes[u.RGB][0]},h.Color.prototype._getSaturation=function(){return this.mode===u.HSB?(this.hsba||(this.hsba=n._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=n._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])};var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},t=/\s*/,e=/(\d{1,3})/,s=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,a=new RegExp(s.source+"%"),l={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",e.source,",",e.source,",",e.source,"\\)$"].join(t.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(t.source),"i"),RGBA:new RegExp(["^rgba\\(",e.source,",",e.source,",",e.source,",",s.source,"\\)$"].join(t.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",s.source,"\\)$"].join(t.source),"i"),HSL:new RegExp(["^hsl\\(",e.source,",",a.source,",",a.source,"\\)$"].join(t.source),"i"),HSLA:new RegExp(["^hsla\\(",e.source,",",a.source,",",a.source,",",s.source,"\\)$"].join(t.source),"i"),HSB:new RegExp(["^hsb\\(",e.source,",",a.source,",",a.source,"\\)$"].join(t.source),"i"),HSBA:new RegExp(["^hsba\\(",e.source,",",a.source,",",a.source,",",s.source,"\\)$"].join(t.source),"i")};h.Color._parseInputs=function(){var p=arguments.length,c=this._colorMode,m=this._colorMaxes,f=[];if(p>=3)return f[0]=arguments[0]/m[c][0],f[1]=arguments[1]/m[c][1],f[2]=arguments[2]/m[c][2],f[3]="number"==typeof arguments[3]?arguments[3]/m[c][3]:1,f=f.map(function(y){return Math.max(Math.min(y,1),0)}),c===u.HSL?n._hslaToRGBA(f):c===u.HSB?n._hsbaToRGBA(f):f;if(1===p&&"string"==typeof arguments[0]){var d=arguments[0].trim().toLowerCase();if(i[d])return h.Color._parseInputs.apply(this,[i[d]]);if(l.HEX3.test(d))return(f=l.HEX3.exec(d).slice(1).map(function(y){return parseInt(y+y,16)/255}))[3]=1,f;if(l.HEX6.test(d))return(f=l.HEX6.exec(d).slice(1).map(function(y){return parseInt(y,16)/255}))[3]=1,f;if(l.RGB.test(d))return(f=l.RGB.exec(d).slice(1).map(function(y){return y/255}))[3]=1,f;if(l.RGB_PERCENT.test(d))return(f=l.RGB_PERCENT.exec(d).slice(1).map(function(y){return parseFloat(y)/100}))[3]=1,f;if(l.RGBA.test(d))return l.RGBA.exec(d).slice(1).map(function(y,v){return 3===v?parseFloat(y):y/255});if(l.RGBA_PERCENT.test(d))return l.RGBA_PERCENT.exec(d).slice(1).map(function(y,v){return 3===v?parseFloat(y):parseFloat(y)/100});if(l.HSL.test(d)?(f=l.HSL.exec(d).slice(1).map(function(y,v){return 0===v?parseInt(y,10)/360:parseInt(y,10)/100}))[3]=1:l.HSLA.test(d)&&(f=l.HSLA.exec(d).slice(1).map(function(y,v){return 0===v?parseInt(y,10)/360:3===v?parseFloat(y):parseInt(y,10)/100})),f.length)return n._hslaToRGBA(f);if(l.HSB.test(d)?(f=l.HSB.exec(d).slice(1).map(function(y,v){return 0===v?parseInt(y,10)/360:parseInt(y,10)/100}))[3]=1:l.HSBA.test(d)&&(f=l.HSBA.exec(d).slice(1).map(function(y,v){return 0===v?parseInt(y,10)/360:3===v?parseFloat(y):parseInt(y,10)/100})),f.length)return n._hsbaToRGBA(f);f=[1,1,1,1]}else{if(1!==p&&2!==p||"number"!=typeof arguments[0])throw new Error(arguments+"is not a valid color representation.");f[0]=arguments[0]/m[c][2],f[1]=arguments[0]/m[c][2],f[2]=arguments[0]/m[c][2],f[3]="number"==typeof arguments[1]?arguments[1]/m[c][3]:1,f=f.map(function(y){return Math.max(Math.min(y,1),0)})}return f},C.exports=h.Color},{"../core/constants":38,"../core/core":39,"./color_conversion":31}],34:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("../core/constants");g("./p5.Color"),h.prototype.background=function(){return arguments[0]instanceof h.Image?this.image(arguments[0],0,0,this.width,this.height):this._renderer.background.apply(this._renderer,arguments),this},h.prototype.clear=function(){return this._renderer.clear(),this},h.prototype.colorMode=function(){if(arguments[0]===u.RGB||arguments[0]===u.HSB||arguments[0]===u.HSL){this._renderer._colorMode=arguments[0];var n=this._renderer._colorMaxes[this._renderer._colorMode];2===arguments.length?(n[0]=arguments[1],n[1]=arguments[1],n[2]=arguments[1],n[3]=arguments[1]):4===arguments.length?(n[0]=arguments[1],n[1]=arguments[2],n[2]=arguments[3]):5===arguments.length&&(n[0]=arguments[1],n[1]=arguments[2],n[2]=arguments[3],n[3]=arguments[4])}return this},h.prototype.fill=function(){return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),this._renderer.fill.apply(this._renderer,arguments),this},h.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},h.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},h.prototype.stroke=function(){return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),this._renderer.stroke.apply(this._renderer,arguments),this},C.exports=h},{"../core/constants":38,"../core/core":39,"./p5.Color":33}],35:[function(g,C,M){"use strict";var h=g("./core"),u=g("./constants"),n=g("./canvas");g("./error_helpers"),h.prototype.arc=function(i,t,e,s,a,l,p){for(var c=new Array(arguments.length),m=0;m<c.length;++m)c[m]=arguments[m];if(!this._renderer._doStroke&&!this._renderer._doFill)return this;for(this._angleMode===u.DEGREES&&(a=this.radians(a),l=this.radians(l));a<0;)a+=u.TWO_PI;for(;l<0;)l+=u.TWO_PI;return(l%=u.TWO_PI)==(a%=u.TWO_PI)&&(l+=u.TWO_PI),(a=a<=u.HALF_PI?Math.atan(e/s*Math.tan(a)):a>u.HALF_PI&&a<=3*u.HALF_PI?Math.atan(e/s*Math.tan(a))+u.PI:Math.atan(e/s*Math.tan(a))+u.TWO_PI)>(l=l<=u.HALF_PI?Math.atan(e/s*Math.tan(l)):l>u.HALF_PI&&l<=3*u.HALF_PI?Math.atan(e/s*Math.tan(l))+u.PI:Math.atan(e/s*Math.tan(l))+u.TWO_PI)&&(l+=u.TWO_PI),e=Math.abs(e),s=Math.abs(s),this._renderer.arc(i,t,e,s,a,l,p),this},h.prototype.ellipse=function(){for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];if(3===i.length&&i.push(i[2]),i[2]<0&&(i[2]=Math.abs(i[2])),i[3]<0&&(i[3]=Math.abs(i[3])),!this._renderer._doStroke&&!this._renderer._doFill)return this;var e=n.modeAdjust(i[0],i[1],i[2],i[3],this._renderer._ellipseMode);return i[0]=e.x,i[1]=e.y,i[2]=e.w,i[3]=e.h,this._renderer.ellipse(i),this},h.prototype.line=function(){if(!this._renderer._doStroke)return this;for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._renderer.isP3D?this._renderer.line(i[0],i[1],i[2],i[3],i[4],i[5]):this._renderer.line(i[0],i[1],i[2],i[3]),this},h.prototype.point=function(){if(!this._renderer._doStroke)return this;for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._renderer.isP3D?this._renderer.point(i[0],i[1],i[2]):this._renderer.point(i[0],i[1]),this},h.prototype.quad=function(){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._renderer.isP3D?this._renderer.quad(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11]):this._renderer.quad(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),this},h.prototype.rect=function(){for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];if(this._renderer._doStroke||this._renderer._doFill){var e=n.modeAdjust(i[0],i[1],i[2],i[3],this._renderer._rectMode);return i[0]=e.x,i[1]=e.y,i[2]=e.w,i[3]=e.h,this._renderer.rect(i),this}},h.prototype.triangle=function(){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._renderer.triangle(i),this},C.exports=h},{"./canvas":37,"./constants":38,"./core":39,"./error_helpers":42}],36:[function(g,C,M){"use strict";var h=g("./core"),u=g("./constants");h.prototype.ellipseMode=function(n){return n!==u.CORNER&&n!==u.CORNERS&&n!==u.RADIUS&&n!==u.CENTER||(this._renderer._ellipseMode=n),this},h.prototype.noSmooth=function(){return this._renderer.noSmooth(),this},h.prototype.rectMode=function(n){return n!==u.CORNER&&n!==u.CORNERS&&n!==u.RADIUS&&n!==u.CENTER||(this._renderer._rectMode=n),this},h.prototype.smooth=function(){return this._renderer.smooth(),this},h.prototype.strokeCap=function(n){return n!==u.ROUND&&n!==u.SQUARE&&n!==u.PROJECT||this._renderer.strokeCap(n),this},h.prototype.strokeJoin=function(n){return n!==u.ROUND&&n!==u.BEVEL&&n!==u.MITER||this._renderer.strokeJoin(n),this},h.prototype.strokeWeight=function(n){return this._renderer.strokeWeight(n),this},C.exports=h},{"./constants":38,"./core":39}],37:[function(g,C,M){var h=g("./constants");C.exports={modeAdjust:function(u,n,i,t,e){return e===h.CORNER?{x:u,y:n,w:i,h:t}:e===h.CORNERS?{x:u,y:n,w:i-u,h:t-n}:e===h.RADIUS?{x:u-i,y:n-t,w:2*i,h:2*t}:e===h.CENTER?{x:u-.5*i,y:n-.5*t,w:i,h:t}:void 0},arcModeAdjust:function(u,n,i,t,e){return e===h.CORNER?{x:u+.5*i,y:n+.5*t,w:i,h:t}:e===h.CORNERS?{x:u,y:n,w:i+u,h:t+n}:e===h.RADIUS?{x:u,y:n,w:2*i,h:2*t}:e===h.CENTER?{x:u,y:n,w:i,h:t}:void 0}}},{"./constants":38}],38:[function(g,C,M){var h=Math.PI;C.exports={P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:h/2,PI:h,QUARTER_PI:h/4,TAU:2*h,TWO_PI:2*h,DEGREES:"degrees",RADIANS:"radians",CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:0,LINES:1,LINE_STRIP:3,LINE_LOOP:2,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"normal",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"source-over",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF"}},{}],39:[function(g,C,M){"use strict";g("./shim");var h=g("./constants"),u=function(i,t,e){2===arguments.length&&"boolean"==typeof t&&(e=t,t=void 0),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=t,this._curElement=null,this._elements=[],this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._styles=[],this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};for(var s=Object.getOwnPropertyNames(u.prototype._registeredMethods),a=0;a<s.length;a++){var l=s[a];this._registeredMethods[l]=u.prototype._registeredMethods[l].slice()}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode)),this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d",!0);var T=this.preload||window.preload;if(T){var E=document.getElementById(this._loadingScreenId);for(var R in E||((E=document.createElement("div")).innerHTML="Loading...",E.style.position="absolute",E.id=this._loadingScreenId,(this._userNode||document.body).appendChild(E)),this._preloadMethods){this._preloadMethods[R]=this._preloadMethods[R]||u;var P=this._preloadMethods[R];P!==u.prototype&&P!==u||(P=this._isGlobal?window:this),this._registeredPreloadMethods[R]=P[R],P[R]=this._wrapPreload(P,R)}T(),this._runIfPreloadsAreDone()}else this._setup(),this._runFrames(),this._draw()}.bind(this),this._runIfPreloadsAreDone=function(){var T=this._isGlobal?window:this;if(0===T._preloadCount){var E=document.getElementById(T._loadingScreenId);E&&E.parentNode.removeChild(E),T._setup(),T._runFrames(),T._draw()}},this._decrementPreload=function(){var T=this._isGlobal?window:this;T._setProperty("_preloadCount",T._preloadCount-1),T._runIfPreloadsAreDone()},this._wrapPreload=function(T,E){return function(){this._incrementPreload();for(var R=new Array(arguments.length),P=0;P<R.length;++P)R[P]=arguments[P];return R.push(this._decrementPreload.bind(this)),this._registeredPreloadMethods[E].apply(T,R)}.bind(this)},this._incrementPreload=function(){var T=this._isGlobal?window:this;T._setProperty("_preloadCount",T._preloadCount+1)},this._setup=function(){var T=this._isGlobal?window:this;if("function"==typeof T.preload)for(var E in this._preloadMethods)T[E]=this._preloadMethods[E][E],T[E]&&this&&(T[E]=T[E].bind(this));"function"==typeof T.setup&&T.setup();for(var R=document.getElementsByTagName("canvas"),P=0;P<R.length;P++){var N=R[P];"true"===N.dataset.hidden&&(N.style.visibility="",delete N.dataset.hidden)}this._setupDone=!0}.bind(this),this._draw=function(){var T=window.performance.now();(!this._loop||T-this._lastFrameTime>=1e3/this._targetFrameRate-5)&&(this._setProperty("frameCount",this.frameCount+1),this.redraw(),this._updateMouseCoords(),this._updateTouchCoords(),this._frameRate=1e3/(T-this._lastFrameTime),this._lastFrameTime=T),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(T,E){this[T]=E,this._isGlobal&&(window[T]=E)}.bind(this),this.remove=function(){if(this._curElement){for(var T in this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._events)window.removeEventListener(T,this._events[T]);for(var E=0;E<this._elements.length;E++){var R=this._elements[E];for(var P in R.elt.parentNode&&R.elt.parentNode.removeChild(R.elt),R._events)R.elt.removeEventListener(P,R._events[P])}var N=this;if(this._registeredMethods.remove.forEach(function(I){void 0!==I&&I.call(N)}),this._isGlobal){for(var _ in u.prototype)try{delete window[_]}catch(I){window[_]=void 0}for(var b in this)if(this.hasOwnProperty(b))try{delete window[b]}catch(I){window[b]=void 0}}}}.bind(this),this._registeredMethods.init.forEach(function(T){void 0!==T&&T.call(this)},this);var p=this._createFriendlyGlobalFunctionBinder();if(i)i(this);else{for(var c in this._isGlobal=!0,u.instance=this,u.prototype)if("function"==typeof u.prototype[c]){var m=c.substring(2);this._events.hasOwnProperty(m)||(Math.hasOwnProperty(c)&&Math[c]===u.prototype[c]?p(c,u.prototype[c]):p(c,u.prototype[c].bind(this)))}else p(c,u.prototype[c]);for(var f in this)this.hasOwnProperty(f)&&p(f,this[f])}for(var d in this._events){var y=this["_on"+d];if(y){var v=y.bind(this);window.addEventListener(d,v),this._events[d]=v}}var x=function(){this._setProperty("focused",!0)}.bind(this),w=function(){this._setProperty("focused",!1)}.bind(this);window.addEventListener("focus",x),window.addEventListener("blur",w),this.registerMethod("remove",function(){window.removeEventListener("focus",x),window.removeEventListener("blur",w)}),e||"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};for(var n in u.instance=null,u.disableFriendlyErrors=!1,h)u.prototype[n]=h[n];u.prototype._preloadMethods={loadJSON:u.prototype,loadImage:u.prototype,loadStrings:u.prototype,loadXML:u.prototype,loadShape:u.prototype,loadTable:u.prototype,loadFont:u.prototype,loadModel:u.prototype},u.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},u.prototype._registeredPreloadMethods={},u.prototype.registerPreloadMethod=function(i,t){u.prototype._preloadMethods.hasOwnProperty(i)||(u.prototype._preloadMethods[i]=t)},u.prototype.registerMethod=function(i,t){var e=this||u.prototype;e._registeredMethods.hasOwnProperty(i)||(e._registeredMethods[i]=[]),e._registeredMethods[i].push(t)},u.prototype._createFriendlyGlobalFunctionBinder=function(i){var t=(i=i||{}).globalObject||window;return i.log||console.log.bind(console),function(a,l){t[a]=l}},C.exports=u},{"./constants":38,"./shim":48}],40:[function(g,C,M){"use strict";var h=g("./core");g("./error_helpers");var u=20,n=20;h.prototype.bezier=function(){for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._validateParameters("bezier",i,this._renderer.isP3D?["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]:["Number","Number","Number","Number","Number","Number","Number","Number"]),this._renderer._doStroke?(this._renderer.isP3D?(i.push(u),this._renderer.bezier(i)):this._renderer.bezier(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),this):this},h.prototype.bezierDetail=function(i){return u=i,this},h.prototype.bezierPoint=function(i,t,e,s,a){var l=1-a;return Math.pow(l,3)*i+3*Math.pow(l,2)*a*t+3*l*Math.pow(a,2)*e+Math.pow(a,3)*s},h.prototype.bezierTangent=function(i,t,e,s,a){var l=1-a;return 3*s*Math.pow(a,2)-3*e*Math.pow(a,2)+6*e*l*a-6*t*l*a+3*t*Math.pow(l,2)-3*i*Math.pow(l,2)},h.prototype.curve=function(){for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._validateParameters("curve",i,this._renderer.isP3D?["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]:["Number","Number","Number","Number","Number","Number","Number","Number"]),this._renderer._doStroke?(this._renderer.isP3D?(i.push(n),this._renderer.curve(i)):this._renderer.curve(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),this):this},h.prototype.curveDetail=function(i){return n=i,this},h.prototype.curveTightness=function(i){this._renderer._curveTightness=i},h.prototype.curvePoint=function(i,t,e,s,a){var l=a*a*a,p=a*a;return i*(-.5*l+p-.5*a)+t*(1.5*l-2.5*p+1)+e*(-1.5*l+2*p+.5*a)+s*(.5*l-.5*p)},h.prototype.curveTangent=function(i,t,e,s,a){var l=a*a;return i*(-3*l/2+2*a-.5)+t*(9*l/2-5*a)+e*(-9*l/2+4*a+.5)+s*(3*l/2-a)},C.exports=h},{"./core":39,"./error_helpers":42}],41:[function(g,C,M){"use strict";function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}var t=g("./core"),e=g("./constants"),s=[e.ARROW,e.CROSS,e.HAND,e.MOVE,e.TEXT,e.WAIT];t.prototype._frameRate=0,t.prototype._lastFrameTime=window.performance.now(),t.prototype._targetFrameRate=60;var a=window.print;t.prototype.print=window.console&&console.log?function(l){try{if(0===arguments.length)a();else if(arguments.length>1)console.log.apply(console,arguments);else{var p=JSON.parse(JSON.stringify(l));console.log(p)}}catch(c){console.log(l)}}:function(){},t.prototype.frameCount=0,t.prototype.focused=document.hasFocus(),t.prototype.cursor=function(l,p,c){var m="auto",f=this._curElement.elt;if(s.indexOf(l)>-1)m=l;else if("string"==typeof l){var d="";p&&c&&"number"==typeof p&&"number"==typeof c&&(d=p+" "+c),m="http://"!==l.substring(0,6)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(l)?"url("+l+") "+d+", auto":l}f.style.cursor=m},t.prototype.frameRate=function(l){return"number"!=typeof l||l<=0?this._frameRate:(this._setProperty("_targetFrameRate",l),this._runFrames(),this)},t.prototype.getFrameRate=function(){return this.frameRate()},t.prototype.setFrameRate=function(l){return this.frameRate(l)},t.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},t.prototype.displayWidth=screen.width,t.prototype.displayHeight=screen.height,t.prototype.windowWidth=h(),t.prototype.windowHeight=u(),t.prototype._onresize=function(l){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",u());var p,c=this._isGlobal?window:this;"function"==typeof c.windowResized&&(void 0===(p=c.windowResized(l))||p||l.preventDefault())},t.prototype.width=0,t.prototype.height=0,t.prototype.fullscreen=function(l){if(void 0===l)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;l?function(l){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");l.requestFullscreen?l.requestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&&l.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},t.prototype.pixelDensity=function(l){if("number"!=typeof l)return this._pixelDensity;this._pixelDensity=l,this.resizeCanvas(this.width,this.height,!0)},t.prototype.displayDensity=function(){return window.devicePixelRatio},t.prototype.getURL=function(){return location.href},t.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(l){return""!==l})},t.prototype.getURLParams=function(){for(var l,p=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,c={};null!=(l=p.exec(location.search));)l.index===p.lastIndex&&p.lastIndex++,c[l[1]]=l[2];return c},C.exports=t},{"./constants":38,"./core":39}],42:[function(g,C,M){"use strict";function h(R,P,N){if(R.match(/^p5\./)){var _=R.split(".");return N instanceof e[_[1]]}return"Boolean"===R||R.toLowerCase()===P||y.indexOf(R)>-1&&d(N)}function u(R,P,N){s&&(console.log("%c    _ \n /\\| |/\\ \n \\ ` ' /  \n / , . \\  \n \\/|_|\\/ \n\n%c> p5.js says: Welcome! This is your friendly debugger. To turn me off switch to using \u201cp5.min.js\u201d.","background-color:transparent;color:#ED225D;","background-color:#ED225D;color:white;"),s=!1),"undefined"===m(N)?N="#B40033":"number"===m(N)&&(N=x[N])}function t(R,P){P||(P=console.log.bind(console)),T||function(){var R={},P=function(N){return Object.getOwnPropertyNames(N).filter(function(_){return"_"!==_[0]&&!(_ in R)&&(R[_]=!0,!0)}).map(function(_){var b;return b="function"==typeof N[_]?"function":_===_.toUpperCase()?"constant":"variable",{name:_,type:b}})};(T=[].concat(P(e.prototype),P(g("./constants")))).sort(function(N,_){return _.name.length-N.name.length})}(),T.some(function(N){if(R.message&&-1!==R.message.indexOf(N.name))return P("%cDid you just try to use p5.js's "+N.name+("function"===N.type?"() ":" ")+N.type+"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: "+E,"color: #B40033"),!0})}for(var e=g("./core"),s=!1,a={},l=a.toString,p=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],c=0;c<p.length;c++)a["[object "+p[c]+"]"]=p[c].toLowerCase();var m=function(R){return null==R?R+"":"object"==typeof R||"function"==typeof R?a[l.call(R)]||"object":typeof R},f=Array.isArray||function(R){return"array"===m(R)},d=function(R){return!f(R)&&R-parseFloat(R)+1>=0},y=["Number","Integer","Number/Constant"],x=["#2D7BB6","#EE9900","#4DB200","#C83C00"];e.prototype._validateParameters=function(R,P,N){f(N[0])||(N=[N]);for(var b=Math.abs(P.length-N[0].length),I=0,S=1,F=N.length;S<F;S++){var O=Math.abs(P.length-N[S].length);O<=b&&(I=S,b=O)}b>0&&(P.length>0&&Array(P.length).join(",X"),N[I].length>0&&Array(N[I].length).join(",X"),u(0,0,0));for(var B=0;B<N.length;B++)for(var k=0;k<N[B].length&&k<P.length;k++){var H=N[B][k],q=m(P[k]);"undefined"===q||null===q?u(0,0,1):"*"===H||h(H,q,P[k])||(H.toLowerCase(),u(0,0,2))}},e.prototype._validateParameters=function(){return!0},e._friendlyFileLoadError=function(R,P){u(0,0,3)};var T=null,E="https://github.com/processing/p5.js/wiki/Frequently-Asked-Questions#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";e.prototype._helpForMisusedAtTopLevelCode=t,"complete"!==document.readyState&&(window.addEventListener("error",t,!1),window.addEventListener("load",function(){window.removeEventListener("error",t,!1)})),C.exports=e},{"./constants":38,"./core":39}],43:[function(g,C,M){function h(n,i,t){var e=i.bind(t);t.elt.addEventListener(n,e,!1),t._events[n]=e}var u=g("./core");u.Element=function(n,i){this.elt=n,this._pInst=i,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},u.Element.prototype.parent=function(n){return 0===arguments.length?this.elt.parentNode:("string"==typeof n?("#"===n[0]&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof u.Element&&(n=n.elt),n.appendChild(this.elt),this)},u.Element.prototype.id=function(n){return 0===arguments.length?this.elt.id:(this.elt.id=n,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},u.Element.prototype.class=function(n){return 0===arguments.length?this.elt.className:(this.elt.className=n,this)},u.Element.prototype.mousePressed=function(n){return h("mousedown",n,this),h("touchstart",n,this),this},u.Element.prototype.mouseWheel=function(n){return h("wheel",n,this),this},u.Element.prototype.mouseReleased=function(n){return h("mouseup",n,this),h("touchend",n,this),this},u.Element.prototype.mouseClicked=function(n){return h("click",n,this),this},u.Element.prototype.mouseMoved=function(n){return h("mousemove",n,this),h("touchmove",n,this),this},u.Element.prototype.mouseOver=function(n){return h("mouseover",n,this),this},u.Element.prototype.changed=function(n){return h("change",n,this),this},u.Element.prototype.input=function(n){return h("input",n,this),this},u.Element.prototype.mouseOut=function(n){return h("mouseout",n,this),this},u.Element.prototype.touchStarted=function(n){return h("touchstart",n,this),h("mousedown",n,this),this},u.Element.prototype.touchMoved=function(n){return h("touchmove",n,this),h("mousemove",n,this),this},u.Element.prototype.touchEnded=function(n){return h("touchend",n,this),h("mouseup",n,this),this},u.Element.prototype.dragOver=function(n){return h("dragover",n,this),this},u.Element.prototype.dragLeave=function(n){return h("dragleave",n,this),this},u.Element.prototype.drop=function(n,i){function t(e){var s=new u.File(e);return function(a){s.data=a.target.result,n(s)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(h("dragover",function(e){e.stopPropagation(),e.preventDefault()},this),h("dragleave",function(e){e.stopPropagation(),e.preventDefault()},this),arguments.length>1&&h("drop",i,this),h("drop",function(e){e.stopPropagation(),e.preventDefault();for(var s=e.dataTransfer.files,a=0;a<s.length;a++){var l=s[a],p=new FileReader;p.onload=t(l),l.type.indexOf("text")>-1?p.readAsText(l):p.readAsDataURL(l)}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.Element.prototype._setProperty=function(n,i){this[n]=i},C.exports=u.Element},{"./core":39}],44:[function(g,C,M){var h=g("./core"),u=g("./constants");h.Graphics=function(n,i,t,e){var s=t||u.P2D,a=document.createElement("canvas");for(var l in(this._userNode||document.body).appendChild(a),h.Element.call(this,a,e,!1),this._styles=[],this.width=n,this.height=i,this._pixelDensity=e._pixelDensity,this._renderer=s===u.WEBGL?new h.RendererGL(a,this,!1):new h.Renderer2D(a,this,!1),this._renderer.resize(n,i),this._renderer._applyDefaults(),e._elements.push(this),h.prototype)this[l]||(this[l]="function"==typeof h.prototype[l]?h.prototype[l].bind(this):h.prototype[l]);return this},h.Graphics.prototype=Object.create(h.Element.prototype),C.exports=h.Graphics},{"./constants":38,"./core":39}],45:[function(g,C,M){function h(i){var t=0,e=0;if(i.offsetParent)do{t+=i.offsetLeft,e+=i.offsetTop}while(i=i.offsetParent);else t+=i.offsetLeft,e+=i.offsetTop;return[t,e]}var u=g("./core"),n=g("../core/constants");u.Renderer=function(i,t,e){u.Element.call(this,i,t),this.canvas=i,this._pInst=t,e?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=n.NORMAL,this._textAscent=null,this._textDescent=null,this._rectMode=n.CORNER,this._ellipseMode=n.CENTER,this._curveTightness=0,this._imageMode=n.CORNER,this._tint=null,this._alpha=1,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._colorMode=n.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]}},u.Renderer.prototype=Object.create(u.Element.prototype),u.Renderer.prototype.resize=function(i,t){this.width=i,this.height=t,this.elt.width=i*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width=i+"px",this.elt.style.height=t+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},u.Renderer.prototype.textLeading=function(i){return arguments.length&&arguments[0]?(this._setProperty("_textLeading",i),this):this._textLeading},u.Renderer.prototype.textSize=function(i){return arguments.length&&arguments[0]?(this._setProperty("_textSize",i),this._setProperty("_textLeading",i*n._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.Renderer.prototype.textStyle=function(i){return arguments.length&&arguments[0]?(i!==n.NORMAL&&i!==n.ITALIC&&i!==n.BOLD||this._setProperty("_textStyle",i),this._applyTextProperties()):this._textStyle},u.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},u.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},u.Renderer.prototype._applyDefaults=function(){return this},u.Renderer.prototype._isOpenType=function(i){return"object"==typeof(i=i||this._textFont)&&i.font&&i.font.supported},u.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var i=document.createElement("span");i.style.fontFamily=this._textFont,i.style.fontSize=this._textSize+"px",i.innerHTML="ABCjgq|";var t=document.createElement("div");t.style.display="inline-block",t.style.width="1px",t.style.height="0px";var e=document.createElement("div");e.appendChild(i),e.appendChild(t),e.style.height="0px",e.style.overflow="hidden",document.body.appendChild(e),t.style.verticalAlign="baseline";var s=h(t),a=h(i),l=s[1]-a[1];t.style.verticalAlign="bottom",s=h(t),a=h(i);var c=s[1]-a[1]-l;return document.body.removeChild(e),this._setProperty("_textAscent",l),this._setProperty("_textDescent",c),this},C.exports=u.Renderer},{"../core/constants":38,"./core":39}],46:[function(g,C,M){var h=g("./core"),u=g("./canvas"),n=g("./constants");g("./p5.Renderer");var i="rgba(0,0,0,0)";h.Renderer2D=function(t,e,s){return h.Renderer.call(this,t,e,s),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},h.Renderer2D.prototype=Object.create(h.Renderer.prototype),h.Renderer2D.prototype._applyDefaults=function(){this.drawingContext.fillStyle=n._DEFAULT_FILL,this.drawingContext.strokeStyle=n._DEFAULT_STROKE,this.drawingContext.lineCap=n.ROUND,this.drawingContext.font="normal 12px sans-serif"},h.Renderer2D.prototype.resize=function(t,e){h.Renderer.prototype.resize.call(this,t,e),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},h.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),arguments[0]instanceof h.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var t=this.drawingContext.fillStyle,e=this._pInst.color.apply(this,arguments),s=e.toString();this.drawingContext.fillStyle=s,this.drawingContext.fillRect(0,0,this.width,this.height),this.drawingContext.fillStyle=t}this.drawingContext.restore()},h.Renderer2D.prototype.clear=function(){this.drawingContext.clearRect(0,0,this.width,this.height)},h.Renderer2D.prototype.fill=function(){var t=this.drawingContext,e=this._pInst.color.apply(this,arguments);t.fillStyle=e.toString()},h.Renderer2D.prototype.stroke=function(){var t=this.drawingContext,e=this._pInst.color.apply(this,arguments);t.strokeStyle=e.toString()},h.Renderer2D.prototype.image=function(t,e,s,a,l,p,c,m,f){var d;try{(this._tint||this._alpha<1)&&(h.MediaElement&&t instanceof h.MediaElement&&t.loadPixels(),t.canvas&&(d=this._getTintedImageCanvas(t))),d||(d=t.canvas||t.elt),this.drawingContext.drawImage(d,e,s,a,l,p,c,m,f)}catch(y){if("NS_ERROR_NOT_AVAILABLE"!==y.name)throw y}},h.Renderer2D.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;this._tintCanvas=this._tintCanvas||document.createElement("canvas"),this._tintCanvas.width=t.canvas.width,this._tintCanvas.height=t.canvas.height;var e=this._tintCanvas.getContext("2d");if(this._tint){var s=this._tint.slice(0,3).join(",")+", "+this._tint[3]/255;e.fillStyle="rgba("+s+")",e.fillRect(0,0,this._tintCanvas.width,this._tintCanvas.height),e.globalCompositeOperation="destination-atop",e.drawImage(t.canvas,0,0,this._tintCanvas.width,this._tintCanvas.height)}return e.globalCompositeOperation="multiply",e.drawImage(t.canvas,0,0,this._tintCanvas.width,this._tintCanvas.height),this._alpha<1?(h.prototype._renderer=h.prototype._renderer||{},h.prototype._renderer._tint=[255,255,255,Math.round(255*this._alpha)],h.prototype._getTintedImageCanvas(e)):this._tintCanvas},h.Renderer2D.prototype.blendMode=function(t){this.drawingContext.globalCompositeOperation=t},h.Renderer2D.prototype.blend=function(){var t=this.drawingContext.globalCompositeOperation,e=arguments[arguments.length-1],s=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=e,this._pInst?this._pInst.copy.apply(this._pInst,s):this.copy.apply(this,s),this.drawingContext.globalCompositeOperation=t},h.Renderer2D.prototype.copy=function(){var t,e,s,a,l,p,c,m,f;if(9===arguments.length)t=arguments[0],e=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],p=arguments[5],c=arguments[6],m=arguments[7],f=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");t=this._pInst,e=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3],p=arguments[4],c=arguments[5],m=arguments[6],f=arguments[7]}h.Renderer2D._copyHelper(t,e,s,a,l,p,c,m,f)},h.Renderer2D._copyHelper=function(t,e,s,a,l,p,c,m,f){t.canvas||t.loadPixels();var d=t.canvas.width/t.width;this.drawingContext.drawImage(t.canvas,d*e,d*s,d*a,d*l,p,c,m,f)},h.Renderer2D.prototype.get=function(t,e,s,a){if(void 0===t&&void 0===e&&void 0===s&&void 0===a?(t=0,e=0,s=this.width,a=this.height):void 0===s&&void 0===a&&(s=1,a=1),t+s<0||e+a<0||t>this.width||e>this.height)return[0,0,0,255];var l=this._pInst||this,p=l._pixelDensity,c=(t=Math.floor(t))*p,m=(e=Math.floor(e))*p;if(1===s&&1===a){var f=this.drawingContext.getImageData(c,m,1,1).data;return[f[0],f[1],f[2],f[3]]}var d=Math.min(s,l.width),y=Math.min(a,l.height),v=d*p,x=y*p,w=new h.Image(d,y);return w.canvas.getContext("2d").drawImage(this.canvas,c,m,v,x,0,0,d,y),w},h.Renderer2D.prototype.loadPixels=function(){var t=this._pixelDensity||this._pInst._pixelDensity,a=this.drawingContext.getImageData(0,0,this.width*t,this.height*t);this._pInst?(this._pInst._setProperty("imageData",a),this._pInst._setProperty("pixels",a.data)):(this._setProperty("imageData",a),this._setProperty("pixels",a.data))},h.Renderer2D.prototype.set=function(t,e,s){if(t=Math.floor(t),e=Math.floor(e),s instanceof h.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this.drawingContext.drawImage(s.canvas,t,e),this.loadPixels.call(this._pInst),this.drawingContext.restore();else{var a=this._pInst||this,l=0,p=0,c=0,m=0,f=4*(e*a._pixelDensity*(this.width*a._pixelDensity)+t*a._pixelDensity);if(a.imageData||a.loadPixels.call(a),"number"==typeof s)f<a.pixels.length&&(l=s,p=s,c=s,m=255);else if(s instanceof Array){if(s.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");f<a.pixels.length&&(l=s[0],p=s[1],c=s[2],m=s[3])}else s instanceof h.Color&&f<a.pixels.length&&(l=s.levels[0],p=s.levels[1],c=s.levels[2],m=s.levels[3]);for(var d=0;d<a._pixelDensity;d++)for(var y=0;y<a._pixelDensity;y++)a.pixels[f=4*((e*a._pixelDensity+y)*this.width*a._pixelDensity+(t*a._pixelDensity+d))]=l,a.pixels[f+1]=p,a.pixels[f+2]=c,a.pixels[f+3]=m}},h.Renderer2D.prototype.updatePixels=function(t,e,s,a){var l=this._pixelDensity||this._pInst._pixelDensity;void 0===t&&void 0===e&&void 0===s&&void 0===a&&(t=0,e=0,s=this.width,a=this.height),this.drawingContext.putImageData(this._pInst?this._pInst.imageData:this.imageData,t,e,0,0,s*=l,a*=l)},h.Renderer2D.prototype._acuteArcToBezier=function(t,e){var s=e/2,a=Math.cos(s),l=Math.sin(s),p=1/Math.tan(s),c=t+s,m=Math.cos(c),f=Math.sin(c),d=(4-a)/3,y=l+(a-d)*p;return{ax:Math.cos(t),ay:Math.sin(t),bx:d*m+y*f,by:d*f-y*m,cx:d*m-y*f,cy:d*f+y*m,dx:Math.cos(t+e),dy:Math.sin(t+e)}},h.Renderer2D.prototype.arc=function(t,e,s,a,l,p,c){for(var m=this.drawingContext,f=u.arcModeAdjust(t,e,s,a,this._ellipseMode),d=f.w/2,y=f.h/2,x=0,w=[];p-l>1e-5;)x=Math.min(p-l,n.HALF_PI),w.push(this._acuteArcToBezier(l,x)),l+=x;return this._doFill&&(m.beginPath(),w.forEach(function(T,E){0===E&&m.moveTo(f.x+T.ax*d,f.y+T.ay*y),m.bezierCurveTo(f.x+T.bx*d,f.y+T.by*y,f.x+T.cx*d,f.y+T.cy*y,f.x+T.dx*d,f.y+T.dy*y)}),c!==n.PIE&&null!=c||m.lineTo(f.x,f.y),m.closePath(),m.fill()),this._doStroke&&(m.beginPath(),w.forEach(function(T,E){0===E&&m.moveTo(f.x+T.ax*d,f.y+T.ay*y),m.bezierCurveTo(f.x+T.bx*d,f.y+T.by*y,f.x+T.cx*d,f.y+T.cy*y,f.x+T.dx*d,f.y+T.dy*y)}),c===n.PIE?(m.lineTo(f.x,f.y),m.closePath()):c===n.CHORD&&m.closePath(),m.stroke()),this},h.Renderer2D.prototype.ellipse=function(t){var e=this.drawingContext,s=this._doFill,a=this._doStroke,l=t[0],p=t[1],c=t[2],m=t[3];if(s&&!a){if(e.fillStyle===i)return this}else if(!s&&a&&e.strokeStyle===i)return this;var f=.5522847498,d=c/2*f,y=m/2*f,v=l+c,x=p+m,w=l+c/2,T=p+m/2;e.beginPath(),e.moveTo(l,T),e.bezierCurveTo(l,T-y,w-d,p,w,p),e.bezierCurveTo(w+d,p,v,T-y,v,T),e.bezierCurveTo(v,T+y,w+d,x,w,x),e.bezierCurveTo(w-d,x,l,T+y,l,T),e.closePath(),s&&e.fill(),a&&e.stroke()},h.Renderer2D.prototype.line=function(t,e,s,a){var l=this.drawingContext;return this._doStroke?(l.strokeStyle===i||(l.lineWidth%2==1&&l.translate(.5,.5),l.beginPath(),l.moveTo(t,e),l.lineTo(s,a),l.stroke(),l.lineWidth%2==1&&l.translate(-.5,-.5)),this):this},h.Renderer2D.prototype.point=function(t,e){var s=this.drawingContext,a=s.strokeStyle,l=s.fillStyle;return this._doStroke?s.strokeStyle===i?this:(t=Math.round(t),e=Math.round(e),s.fillStyle=a,s.lineWidth>1?(s.beginPath(),s.arc(t,e,s.lineWidth/2,0,n.TWO_PI,!1),s.fill()):s.fillRect(t,e,1,1),void(s.fillStyle=l)):this},h.Renderer2D.prototype.quad=function(t,e,s,a,l,p,c,m){var f=this.drawingContext,d=this._doFill,y=this._doStroke;if(d&&!y){if(f.fillStyle===i)return this}else if(!d&&y&&f.strokeStyle===i)return this;return f.beginPath(),f.moveTo(t,e),f.lineTo(s,a),f.lineTo(l,p),f.lineTo(c,m),f.closePath(),d&&f.fill(),y&&f.stroke(),this},h.Renderer2D.prototype.rect=function(t){var e=t[0],s=t[1],a=t[2],l=t[3],p=t[4],c=t[5],m=t[6],f=t[7],d=this.drawingContext,y=this._doFill,v=this._doStroke;if(y&&!v){if(d.fillStyle===i)return this}else if(!y&&v&&d.strokeStyle===i)return this;if(this._doStroke&&d.lineWidth%2==1&&d.translate(.5,.5),d.beginPath(),void 0===p)d.rect(e,s,a,l);else{void 0===c&&(c=p),void 0===m&&(m=c),void 0===f&&(f=m);var x=a/2,w=l/2;a<2*p&&(p=x),l<2*p&&(p=w),a<2*c&&(c=x),l<2*c&&(c=w),a<2*m&&(m=x),l<2*m&&(m=w),a<2*f&&(f=x),l<2*f&&(f=w),d.beginPath(),d.moveTo(e+p,s),d.arcTo(e+a,s,e+a,s+l,c),d.arcTo(e+a,s+l,e,s+l,m),d.arcTo(e,s+l,e,s,f),d.arcTo(e,s,e+a,s,p),d.closePath()}return this._doFill&&d.fill(),this._doStroke&&d.stroke(),this._doStroke&&d.lineWidth%2==1&&d.translate(-.5,-.5),this},h.Renderer2D.prototype.triangle=function(t){var e=this.drawingContext,s=this._doFill,a=this._doStroke,l=t[0],p=t[1],c=t[2],m=t[3],f=t[4],d=t[5];if(s&&!a){if(e.fillStyle===i)return this}else if(!s&&a&&e.strokeStyle===i)return this;e.beginPath(),e.moveTo(l,p),e.lineTo(c,m),e.lineTo(f,d),e.closePath(),s&&e.fill(),a&&e.stroke()},h.Renderer2D.prototype.endShape=function(t,e,s,a,l,p,c){if(0===e.length)return this;if(!this._doStroke&&!this._doFill)return this;var m,f=t===n.CLOSE;f&&!p&&e.push(e[0]);var d,y,v=e.length;if(!s||c!==n.POLYGON&&null!==c)if(!a||c!==n.POLYGON&&null!==c)if(!l||c!==n.POLYGON&&null!==c)if(c===n.POINTS)for(d=0;d<v;d++)m=e[d],this._doStroke&&this._pInst.stroke(m[6]),this._pInst.point(m[0],m[1]);else if(c===n.LINES)for(d=0;d+1<v;d+=2)m=e[d],this._doStroke&&this._pInst.stroke(e[d+1][6]),this._pInst.line(m[0],m[1],e[d+1][0],e[d+1][1]);else if(c===n.TRIANGLES)for(d=0;d+2<v;d+=3)m=e[d],this.drawingContext.beginPath(),this.drawingContext.moveTo(m[0],m[1]),this.drawingContext.lineTo(e[d+1][0],e[d+1][1]),this.drawingContext.lineTo(e[d+2][0],e[d+2][1]),this.drawingContext.lineTo(m[0],m[1]),this._doFill&&(this._pInst.fill(e[d+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(e[d+2][6]),this.drawingContext.stroke()),this.drawingContext.closePath();else if(c===n.TRIANGLE_STRIP)for(d=0;d+1<v;d++)m=e[d],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[d+1][0],e[d+1][1]),this.drawingContext.lineTo(m[0],m[1]),this._doStroke&&this._pInst.stroke(e[d+1][6]),this._doFill&&this._pInst.fill(e[d+1][5]),d+2<v&&(this.drawingContext.lineTo(e[d+2][0],e[d+2][1]),this._doStroke&&this._pInst.stroke(e[d+2][6]),this._doFill&&this._pInst.fill(e[d+2][5])),this._doFillStrokeClose();else if(c===n.TRIANGLE_FAN){if(v>2)for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),this.drawingContext.lineTo(e[1][0],e[1][1]),this.drawingContext.lineTo(e[2][0],e[2][1]),this._doFill&&this._pInst.fill(e[2][5]),this._doStroke&&this._pInst.stroke(e[2][6]),this._doFillStrokeClose(),d=3;d<v;d++)m=e[d],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),this.drawingContext.lineTo(e[d-1][0],e[d-1][1]),this.drawingContext.lineTo(m[0],m[1]),this._doFill&&this._pInst.fill(m[5]),this._doStroke&&this._pInst.stroke(m[6]),this._doFillStrokeClose()}else if(c===n.QUADS)for(d=0;d+3<v;d+=4){for(m=e[d],this.drawingContext.beginPath(),this.drawingContext.moveTo(m[0],m[1]),y=1;y<4;y++)this.drawingContext.lineTo(e[d+y][0],e[d+y][1]);this.drawingContext.lineTo(m[0],m[1]),this._doFill&&this._pInst.fill(e[d+3][5]),this._doStroke&&this._pInst.stroke(e[d+3][6]),this._doFillStrokeClose()}else if(c===n.QUAD_STRIP){if(v>3)for(d=0;d+1<v;d+=2)m=e[d],this.drawingContext.beginPath(),d+3<v?(this.drawingContext.moveTo(e[d+2][0],e[d+2][1]),this.drawingContext.lineTo(m[0],m[1]),this.drawingContext.lineTo(e[d+1][0],e[d+1][1]),this.drawingContext.lineTo(e[d+3][0],e[d+3][1]),this._doFill&&this._pInst.fill(e[d+3][5]),this._doStroke&&this._pInst.stroke(e[d+3][6])):(this.drawingContext.moveTo(m[0],m[1]),this.drawingContext.lineTo(e[d+1][0],e[d+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),d=1;d<v;d++)(m=e[d]).isVert&&(m.moveTo?this.drawingContext.moveTo(m[0],m[1]):this.drawingContext.lineTo(m[0],m[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),d=0;d<v;d++)e[d].isVert?e[d].moveTo?this.drawingContext.moveTo([0],e[d][1]):this.drawingContext.lineTo(e[d][0],e[d][1]):this.drawingContext.quadraticCurveTo(e[d][0],e[d][1],e[d][2],e[d][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),d=0;d<v;d++)e[d].isVert?e[d].moveTo?this.drawingContext.moveTo(e[d][0],e[d][1]):this.drawingContext.lineTo(e[d][0],e[d][1]):this.drawingContext.bezierCurveTo(e[d][0],e[d][1],e[d][2],e[d][3],e[d][4],e[d][5]);this._doFillStrokeClose()}else if(v>3){var x=[],w=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[1][0],e[1][1]),d=1;d+2<v;d++)x[0]=[(m=e[d])[0],m[1]],x[1]=[m[0]+(w*e[d+1][0]-w*e[d-1][0])/6,m[1]+(w*e[d+1][1]-w*e[d-1][1])/6],x[2]=[e[d+1][0]+(w*e[d][0]-w*e[d+2][0])/6,e[d+1][1]+(w*e[d][1]-w*e[d+2][1])/6],x[3]=[e[d+1][0],e[d+1][1]],this.drawingContext.bezierCurveTo(x[1][0],x[1][1],x[2][0],x[2][1],x[3][0],x[3][1]);f&&this.drawingContext.lineTo(e[d+1][0],e[d+1][1]),this._doFillStrokeClose()}return s=!1,a=!1,l=!1,p=!1,f&&e.pop(),this},h.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!1:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!1:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!1:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!1),this},h.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext?this.drawingContext.imageSmoothingEnabled=!0:"mozImageSmoothingEnabled"in this.drawingContext?this.drawingContext.mozImageSmoothingEnabled=!0:"webkitImageSmoothingEnabled"in this.drawingContext?this.drawingContext.webkitImageSmoothingEnabled=!0:"msImageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.msImageSmoothingEnabled=!0),this},h.Renderer2D.prototype.strokeCap=function(t){return t!==n.ROUND&&t!==n.SQUARE&&t!==n.PROJECT||(this.drawingContext.lineCap=t),this},h.Renderer2D.prototype.strokeJoin=function(t){return t!==n.ROUND&&t!==n.BEVEL&&t!==n.MITER||(this.drawingContext.lineJoin=t),this},h.Renderer2D.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth=void 0===t||0===t?1e-4:t,this},h.Renderer2D.prototype._getFill=function(){return this.drawingContext.fillStyle},h.Renderer2D.prototype._getStroke=function(){return this.drawingContext.strokeStyle},h.Renderer2D.prototype.bezier=function(t,e,s,a,l,p,c,m){return this._pInst.beginShape(),this._pInst.vertex(t,e),this._pInst.bezierVertex(s,a,l,p,c,m),this._pInst.endShape(),this},h.Renderer2D.prototype.curve=function(t,e,s,a,l,p,c,m){return this._pInst.beginShape(),this._pInst.curveVertex(t,e),this._pInst.curveVertex(s,a),this._pInst.curveVertex(l,p),this._pInst.curveVertex(c,m),this._pInst.endShape(),this},h.Renderer2D.prototype._doFillStrokeClose=function(){this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath()},h.Renderer2D.prototype.applyMatrix=function(t,e,s,a,l,p){this.drawingContext.transform(t,e,s,a,l,p)},h.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},h.Renderer2D.prototype.rotate=function(t){this.drawingContext.rotate(t)},h.Renderer2D.prototype.scale=function(t,e){return this.drawingContext.scale(t,e),this},h.Renderer2D.prototype.shearX=function(t){return this._pInst._angleMode===n.DEGREES&&(t=this._pInst.degrees(t)),this.drawingContext.transform(1,0,this._pInst.tan(t),1,0,0),this},h.Renderer2D.prototype.shearY=function(t){return this._pInst._angleMode===n.DEGREES&&(t=this._pInst.degrees(t)),this.drawingContext.transform(1,this._pInst.tan(t),0,1,0,0),this},h.Renderer2D.prototype.translate=function(t,e){return this.drawingContext.translate(t,e),this},h.Renderer2D.prototype.text=function(t,e,s,a,l){var p,c,m,f,d,y,x,w,T,E=this._pInst,R=Number.MAX_VALUE;if(this._doFill||this._doStroke){if("string"!=typeof t&&(t=t.toString()),p=(t=t.replace(/(\t)/g,"  ")).split("\n"),void 0!==a){for(w=0,m=0;m<p.length;m++)for(d="",x=p[m].split(" "),c=0;c<x.length;c++)this.textWidth(y=d+x[c]+" ")>a?(d=x[c]+" ",w+=E.textLeading()):d=y;switch(this._rectMode===n.CENTER&&(e-=a/2,s-=l/2),this.drawingContext.textAlign){case n.CENTER:e+=a/2;break;case n.RIGHT:e+=a}if(void 0!==l){switch(this.drawingContext.textBaseline){case n.BOTTOM:s+=l-w;break;case n._CTX_MIDDLE:s+=(l-w)/2;break;case n.BASELINE:T=!0,this.drawingContext.textBaseline=n.TOP}R=s+l-E.textAscent()}for(m=0;m<p.length;m++){for(d="",x=p[m].split(" "),c=0;c<x.length;c++)this.textWidth(y=d+x[c]+" ")>a&&d.length>0?(this._renderText(E,d,e,s,R),d=x[c]+" ",s+=E.textLeading()):d=y;this._renderText(E,d,e,s,R),s+=E.textLeading()}}else{var P=0,N=E.textAlign().vertical;for(N===n.CENTER?P=(p.length-1)*E.textLeading()/2:N===n.BOTTOM&&(P=(p.length-1)*E.textLeading()),f=0;f<p.length;f++)this._renderText(E,p[f],e,s-P,R),s+=E.textLeading()}return T&&(this.drawingContext.textBaseline=n.BASELINE),E}},h.Renderer2D.prototype._renderText=function(t,e,s,a,l){if(!(a>=l))return t.push(),this._isOpenType()?this._textFont._renderPath(e,s,a,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(e,s,a),this._doFill&&(this.drawingContext.fillStyle=this._fillSet?this.drawingContext.fillStyle:n._DEFAULT_TEXT_FILL,this.drawingContext.fillText(e,s,a))),t.pop(),t},h.Renderer2D.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width},h.Renderer2D.prototype.textAlign=function(t,e){if(arguments.length)return t!==n.LEFT&&t!==n.RIGHT&&t!==n.CENTER||(this.drawingContext.textAlign=t),e!==n.TOP&&e!==n.BOTTOM&&e!==n.CENTER&&e!==n.BASELINE||(this.drawingContext.textBaseline=e===n.CENTER?n._CTX_MIDDLE:e),this._pInst;var s=this.drawingContext.textBaseline;return s===n._CTX_MIDDLE&&(s=n.CENTER),{horizontal:this.drawingContext.textAlign,vertical:s}},h.Renderer2D.prototype._applyTextProperties=function(){var t,e=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),t=this._textFont,this._isOpenType()&&(t=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font=this._textStyle+" "+this._textSize+"px "+t,e},h.Renderer2D.prototype.push=function(){this.drawingContext.save()},h.Renderer2D.prototype.pop=function(){this.drawingContext.restore()},C.exports=h.Renderer2D},{"./canvas":37,"./constants":38,"./core":39,"./p5.Renderer":45}],47:[function(g,C,M){var h=g("./core"),u=g("./constants");g("./p5.Graphics"),g("./p5.Renderer2D"),g("../webgl/p5.RendererGL");var n="defaultCanvas0";h.prototype.createCanvas=function(i,t,e){var s,a,l=e||u.P2D;if(arguments[3]&&(s="boolean"==typeof arguments[3]&&arguments[3]),l===u.WEBGL)(a=document.getElementById(n))&&a.parentNode.removeChild(a),(a=document.createElement("canvas")).id=n;else if(s){a=document.createElement("canvas");for(var p=0;document.getElementById("defaultCanvas"+p);)p++;a.id=n="defaultCanvas"+p}else a=this.canvas;return this._setupDone||(a.dataset.hidden=!0,a.style.visibility="hidden"),this._userNode?this._userNode.appendChild(a):document.body.appendChild(a),l===u.WEBGL?(this._setProperty("_renderer",new h.RendererGL(a,this,!0)),this._isdefaultGraphics=!0):this._isdefaultGraphics||(this._setProperty("_renderer",new h.Renderer2D(a,this,!0)),this._isdefaultGraphics=!0),this._renderer.resize(i,t),this._renderer._applyDefaults(),s&&this._elements.push(this._renderer),this._renderer},h.prototype.resizeCanvas=function(i,t,e){if(this._renderer){var s={};for(var a in this.drawingContext){var l=this.drawingContext[a];"object"!=typeof l&&"function"!=typeof l&&(s[a]=l)}for(var p in this._renderer.resize(i,t),s)this.drawingContext[p]=s[p];e||this.redraw()}},h.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},h.prototype.createGraphics=function(i,t,e){return new h.Graphics(i,t,e,this)},h.prototype.blendMode=function(i){if(i!==u.BLEND&&i!==u.DARKEST&&i!==u.LIGHTEST&&i!==u.DIFFERENCE&&i!==u.MULTIPLY&&i!==u.EXCLUSION&&i!==u.SCREEN&&i!==u.REPLACE&&i!==u.OVERLAY&&i!==u.HARD_LIGHT&&i!==u.SOFT_LIGHT&&i!==u.DODGE&&i!==u.BURN&&i!==u.ADD&&i!==u.NORMAL)throw new Error("Mode "+i+" not recognized.");this._renderer.blendMode(i)},C.exports=h},{"../webgl/p5.RendererGL":88,"./constants":38,"./core":39,"./p5.Graphics":44,"./p5.Renderer2D":46}],48:[function(g,C,M){var h;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h,u){window.setTimeout(h,1e3/60)},window.performance=window.performance||{},window.performance.now=(h=Date.now(),window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow||function(){return Date.now()-h}),function(){"use strict";"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1})}()},{}],49:[function(g,C,M){"use strict";var h=g("./core");h.prototype.exit=function(){throw"exit() not implemented, see remove()"},h.prototype.noLoop=function(){this._loop=!1},h.prototype.loop=function(){this._loop=!0,this._draw()},h.prototype.push=function(){this._renderer.push(),this._styles.push({_doStroke:this._renderer._doStroke,_strokeSet:this._renderer._strokeSet,_doFill:this._renderer._doFill,_fillSet:this._renderer._fillSet,_tint:this._renderer._tint,_alpha:this._renderer._alpha,_imageMode:this._renderer._imageMode,_rectMode:this._renderer._rectMode,_ellipseMode:this._renderer._ellipseMode,_colorMode:this._renderer._colorMode,_textFont:this._renderer._textFont,_textLeading:this._renderer._textLeading,_textSize:this._renderer._textSize,_textStyle:this._renderer._textStyle})},h.prototype.pop=function(){this._renderer.pop();var u=this._styles.pop();for(var n in u)this._renderer[n]=u[n]},h.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},h.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},h.prototype.redraw=function(){this.resetMatrix(),this._renderer.isP3D&&this._renderer._update();var u=1;if(1===arguments.length)try{parseInt(arguments[0])>1&&(u=parseInt(arguments[0]))}catch(a){}var n=this.setup||window.setup,i=this.draw||window.draw;if("function"==typeof i){void 0===n&&this.scale(this._pixelDensity,this._pixelDensity);for(var t=this,e=function(a){a.call(t)},s=0;s<u;s++)this._registeredMethods.pre.forEach(e),i(),this._registeredMethods.post.forEach(e)}},h.prototype.size=function(){throw"size() is not a valid p5 function, to set the size of the drawing canvas, please use createCanvas() instead"},C.exports=h},{"./core":39}],50:[function(g,C,M){"use strict";var h=g("./core"),u=g("./constants");h.prototype.applyMatrix=function(n,i,t,e,s,a){return this._renderer.applyMatrix(n,i,t,e,s,a),this},h.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},h.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},h.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},h.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},h.prototype.rotate=function(){for(var n,i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._angleMode===u.DEGREES?n=this.radians(i[0]):this._angleMode===u.RADIANS&&(n=i[0]),i.length>1?this._renderer.rotate(n,i[1]):this._renderer.rotate(n),this},h.prototype.rotateX=function(n){for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];if(!this._renderer.isP3D)throw"not supported in p2d. Please use webgl mode";return this._validateParameters("rotateX",i,[["Number"]]),this._renderer.rotateX(n),this},h.prototype.rotateY=function(n){if(!this._renderer.isP3D)throw"not supported in p2d. Please use webgl mode";for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._validateParameters("rotateY",i,[["Number"]]),this._renderer.rotateY(n),this},h.prototype.rotateZ=function(n){if(!this._renderer.isP3D)throw"not supported in p2d. Please use webgl mode";for(var i=new Array(arguments.length),t=0;t<i.length;++t)i[t]=arguments[t];return this._validateParameters("rotateZ",i,[["Number"]]),this._renderer.rotateZ(n),this},h.prototype.scale=function(){for(var n,i,t,e=new Array(arguments.length),s=0;s<e.length;s++)e[s]=arguments[s];return e[0]instanceof h.Vector?(n=e[0].x,i=e[0].y,t=e[0].z):e[0]instanceof Array?(n=e[0][0],i=e[0][1],t=e[0][2]||1):1===e.length?n=i=t=e[0]:(n=e[0],i=e[1],t=e[2]||1),this._renderer.isP3D?this._renderer.scale.call(this._renderer,n,i,t):this._renderer.scale.call(this._renderer,n,i),this},h.prototype.shearX=function(n){return this._angleMode===u.DEGREES&&(n=this.radians(n)),this._renderer.shearX(n),this},h.prototype.shearY=function(n){return this._angleMode===u.DEGREES&&(n=this.radians(n)),this._renderer.shearY(n),this},h.prototype.translate=function(n,i,t){for(var e=new Array(arguments.length),s=0;s<e.length;++s)e[s]=arguments[s];return this._renderer.isP3D?(this._validateParameters("translate",e,[["Number","Number","Number"]]),this._renderer.translate(n,i,t)):(this._validateParameters("translate",e,[["Number","Number"]]),this._renderer.translate(n,i)),this},C.exports=h},{"./constants":38,"./core":39}],51:[function(g,C,M){"use strict";var h=g("./core"),u=g("./constants"),n=null,i=[],t=[],e=!1,s=!1,a=!1,l=!1,p=!0;h.prototype.beginContour=function(){return t=[],l=!0,this},h.prototype.beginShape=function(c){return n=c===u.POINTS||c===u.LINES||c===u.TRIANGLES||c===u.TRIANGLE_FAN||c===u.TRIANGLE_STRIP||c===u.QUADS||c===u.QUAD_STRIP?c:null,this._renderer.isP3D?this._renderer.beginShape(c):(i=[],t=[]),this},h.prototype.bezierVertex=function(c,m,f,d,y,v){if(0===i.length)throw"vertex() must be used once before calling bezierVertex()";e=!0;for(var x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return x.isVert=!1,l?t.push(x):i.push(x),this},h.prototype.curveVertex=function(c,m){return s=!0,this.vertex(c,m),this},h.prototype.endContour=function(){var c=t[0].slice();c.isVert=t[0].isVert,c.moveTo=!1,t.push(c),p&&(i.push(i[0]),p=!1);for(var m=0;m<t.length;m++)i.push(t[m]);return this},h.prototype.endShape=function(c){if(this._renderer.isP3D)this._renderer.endShape(c,s,e,a,l,n);else{if(0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var m=c===u.CLOSE;m&&!l&&i.push(i[0]),this._renderer.endShape(c,i,s,e,a,l,n),s=!1,e=!1,a=!1,l=!1,p=!0,m&&i.pop()}return this},h.prototype.quadraticVertex=function(c,m,f,d){if(this._contourInited){var y={};return y.x=c,y.y=m,y.x3=f,y.y3=d,y.type=u.QUADRATIC,this._contourVertices.push(y),this}if(!(i.length>0))throw"vertex() must be used once before calling quadraticVertex()";a=!0;for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];return v.isVert=!1,l?t.push(v):i.push(v),this},h.prototype.vertex=function(c,m,f){for(var d=new Array(arguments.length),y=0;y<d.length;++y)d[y]=arguments[y];if(this._renderer.isP3D)this._validateParameters("vertex",d,[["Number","Number","Number"]]),this._renderer.vertex(arguments[0],arguments[1],arguments[2]);else{this._validateParameters("vertex",d,[["Number","Number"],["Number","Number","Number"]]);var v=[];v.isVert=!0,v[0]=c,v[1]=m,v[2]=0,v[3]=0,v[4]=0,v[5]=this._renderer._getFill(),v[6]=this._renderer._getStroke(),f&&(v.moveTo=f),l?(0===t.length&&(v.moveTo=!0),t.push(v)):i.push(v)}return this},C.exports=h},{"./constants":38,"./core":39}],52:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.deviceOrientation=void 0,h.prototype.accelerationX=0,h.prototype.accelerationY=0,h.prototype.accelerationZ=0,h.prototype.pAccelerationX=0,h.prototype.pAccelerationY=0,h.prototype.pAccelerationZ=0,h.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},h.prototype.rotationX=0,h.prototype.rotationY=0,h.prototype.rotationZ=0,h.prototype.pRotationX=0,h.prototype.pRotationY=0,h.prototype.pRotationZ=0;var u,n,i,t=0,e=0,s=0,a="clockwise",l="clockwise",p="clockwise";h.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},h.prototype.turnAxis=void 0;var c=.5,m=30;h.prototype.setMoveThreshold=function(f){"number"==typeof f&&(c=f)},h.prototype.setShakeThreshold=function(f){"number"==typeof f&&(m=f)},h.prototype._ondeviceorientation=function(f){this._updatePRotations(),this._setProperty("rotationX",f.beta),this._setProperty("rotationY",f.gamma),this._setProperty("rotationZ",f.alpha),this._handleMotion()},h.prototype._ondevicemotion=function(f){f.acceleration&&(this._updatePAccelerations(),this._setProperty("accelerationX",2*f.acceleration.x),this._setProperty("accelerationY",2*f.acceleration.y),this._setProperty("accelerationZ",2*f.acceleration.z),this._handleMotion())},h.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var f=this.deviceMoved||window.deviceMoved;"function"==typeof f&&(Math.abs(this.accelerationX-this.pAccelerationX)>c||Math.abs(this.accelerationY-this.pAccelerationY)>c||Math.abs(this.accelerationZ-this.pAccelerationZ)>c)&&f();var d=this.deviceTurned||window.deviceTurned;if("function"==typeof d){var y=this.rotationX+180,v=this.pRotationX+180,x=t+180;y-v>0&&y-v<270||y-v<-270?a="clockwise":(y-v<0||y-v>270)&&(a="counter-clockwise"),a!==u&&(x=y),Math.abs(y-x)>90&&Math.abs(y-x)<270&&(x=y,this._setProperty("turnAxis","X"),d()),u=a,t=x-180;var w=this.rotationY+180,T=this.pRotationY+180,E=e+180;w-T>0&&w-T<270||w-T<-270?l="clockwise":(w-T<0||w-this.pRotationY>270)&&(l="counter-clockwise"),l!==n&&(E=w),Math.abs(w-E)>90&&Math.abs(w-E)<270&&(E=w,this._setProperty("turnAxis","Y"),d()),n=l,e=E-180,this.rotationZ-this.pRotationZ>0&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?p="clockwise":(this.rotationZ-this.pRotationZ<0||this.rotationZ-this.pRotationZ>270)&&(p="counter-clockwise"),p!==i&&(s=this.rotationZ),Math.abs(this.rotationZ-s)>90&&Math.abs(this.rotationZ-s)<270&&(s=this.rotationZ,this._setProperty("turnAxis","Z"),d()),i=p,this._setProperty("turnAxis",void 0)}var P,N,R=this.deviceShaken||window.deviceShaken;"function"==typeof R&&(null!==this.pAccelerationX&&(P=Math.abs(this.accelerationX-this.pAccelerationX),N=Math.abs(this.accelerationY-this.pAccelerationY)),P+N>m&&R())},C.exports=h},{"../core/core":39}],53:[function(g,C,M){"use strict";var h=g("../core/core"),u={};h.prototype.isKeyPressed=!1,h.prototype.keyIsPressed=!1,h.prototype.key="",h.prototype.keyCode=0,h.prototype._onkeydown=function(n){if(!u[n.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",n.which),u[n.which]=!0;var i=String.fromCharCode(n.which);i||(i=n.which),this._setProperty("key",i);var t=this.keyPressed||window.keyPressed;"function"==typeof t&&!n.charCode&&!1===t(n)&&n.preventDefault()}},h.prototype._onkeyup=function(n){var i=this.keyReleased||window.keyReleased;this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodeTyped",null),u[n.which]=!1;var t=String.fromCharCode(n.which);t||(t=n.which),this._setProperty("key",t),this._setProperty("keyCode",n.which),"function"==typeof i&&!1===i(n)&&n.preventDefault()},h.prototype._onkeypress=function(n){if(n.which!==this._lastKeyCodeTyped){this._setProperty("keyCode",n.which),this._setProperty("_lastKeyCodeTyped",n.which),this._setProperty("key",String.fromCharCode(n.which));var i=this.keyTyped||window.keyTyped;"function"==typeof i&&!1===i(n)&&n.preventDefault()}},h.prototype._onblur=function(n){u={}},h.prototype.keyIsDown=function(n){return u[n]},C.exports=h},{"../core/core":39}],54:[function(g,C,M){"use strict";var u=g("../core/core"),n=g("../core/constants");u.prototype._hasMouseInteracted=!1,u.prototype.mouseX=0,u.prototype.mouseY=0,u.prototype.pmouseX=0,u.prototype.pmouseY=0,u.prototype.winMouseX=0,u.prototype.winMouseY=0,u.prototype.pwinMouseX=0,u.prototype.pwinMouseY=0,u.prototype.mouseButton=0,u.prototype.mouseIsPressed=!1,u.prototype.isMousePressed=!1,u.prototype._updateNextMouseCoords=function(i){var t=this.mouseX,e=this.mouseY,s=this.winMouseX,a=this.winMouseY;if("touchstart"===i.type||"touchmove"===i.type||"touchend"===i.type||i.touches)t=this.touchX,e=this.touchY,s=this.winTouchX,a=this.winTouchY;else if(null!==this._curElement){var l=function(i,t){var e=i.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top,winX:t.clientX,winY:t.clientY}}(this._curElement.elt,i);t=l.x,e=l.y,s=l.winX,a=l.winY}this._setProperty("mouseX",t),this._setProperty("mouseY",e),this._setProperty("winMouseX",s),this._setProperty("winMouseY",a),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},u.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY)},u.prototype._setMouseButton=function(i){this._setProperty("mouseButton",1===i.button?n.CENTER:2===i.button?n.RIGHT:n.LEFT)},u.prototype._onmousemove=function(i){var t=this._isGlobal?window:this;this._updateNextMouseCoords(i),this._updateNextTouchCoords(i),this.isMousePressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(i)&&i.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(i)&&i.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(i)&&i.preventDefault()},u.prototype._onmousedown=function(i){var t=this._isGlobal?window:this;this._setProperty("isMousePressed",!0),this._setProperty("mouseIsPressed",!0),this._setMouseButton(i),this._updateNextMouseCoords(i),this._updateNextTouchCoords(i),"function"==typeof t.mousePressed?!1===t.mousePressed(i)&&i.preventDefault():"function"==typeof t.touchStarted&&!1===t.touchStarted(i)&&i.preventDefault()},u.prototype._onmouseup=function(i){var t=this._isGlobal?window:this;this._setProperty("isMousePressed",!1),this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(i)&&i.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(i)&&i.preventDefault()},u.prototype._ondragend=u.prototype._onmouseup,u.prototype._ondragover=u.prototype._onmousemove,u.prototype._onclick=function(i){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&!1===t.mouseClicked(i)&&i.preventDefault()},u.prototype._onwheel=function(i){var t=this._isGlobal?window:this;"function"==typeof t.mouseWheel&&(i.delta=i.deltaY,!1===t.mouseWheel(i)&&i.preventDefault())},C.exports=u},{"../core/constants":38,"../core/core":39}],55:[function(g,C,M){"use strict";function h(n,i,t){t=t||0;var e=n.getBoundingClientRect(),s=i.touches[t]||i.changedTouches[t];return{x:s.clientX-e.left,y:s.clientY-e.top,winX:s.clientX,winY:s.clientY,id:s.identifier}}var u=g("../core/core");u.prototype._hasTouchInteracted=!1,u.prototype.touchX=0,u.prototype.touchY=0,u.prototype.ptouchX=0,u.prototype.ptouchY=0,u.prototype.winTouchX=0,u.prototype.winTouchY=0,u.prototype.pwinTouchX=0,u.prototype.pwinTouchY=0,u.prototype.touches=[],u.prototype.touchIsDown=!1,u.prototype._updateNextTouchCoords=function(n){var i=this.touchX,t=this.touchY,e=this.winTouchX,s=this.winTouchY;if("mousedown"!==n.type&&"mousemove"!==n.type&&"mouseup"!==n.type&&n.touches){if(null!==this._curElement){var a=h(this._curElement.elt,n,0);i=a.x,t=a.y,e=a.winX,s=a.winY;for(var l=[],p=0;p<n.touches.length;p++)l[p]=h(this._curElement.elt,n,p);this._setProperty("touches",l)}}else i=this.mouseX,t=this.mouseY,e=this.winMouseX,s=this.winMouseY;this._setProperty("touchX",i),this._setProperty("touchY",t),this._setProperty("winTouchX",e),this._setProperty("winTouchY",s),this._hasTouchInteracted||(this._updateTouchCoords(),this._setProperty("_hasTouchInteracted",!0))},u.prototype._updateTouchCoords=function(){this._setProperty("ptouchX",this.touchX),this._setProperty("ptouchY",this.touchY),this._setProperty("pwinTouchX",this.winTouchX),this._setProperty("pwinTouchY",this.winTouchY)},u.prototype._ontouchstart=function(n){var i=this._isGlobal?window:this;this._updateNextTouchCoords(n),this._updateNextMouseCoords(n),this._setProperty("touchIsDown",!0),"function"==typeof i.touchStarted?!1===i.touchStarted(n)&&n.preventDefault():"function"==typeof i.mousePressed&&!1===i.mousePressed(n)&&n.preventDefault()},u.prototype._ontouchmove=function(n){var i=this._isGlobal?window:this;this._updateNextTouchCoords(n),this._updateNextMouseCoords(n),"function"==typeof i.touchMoved?!1===i.touchMoved(n)&&n.preventDefault():"function"==typeof i.mouseDragged&&!1===i.mouseDragged(n)&&n.preventDefault()},u.prototype._ontouchend=function(n){this._updateNextTouchCoords(n),this._updateNextMouseCoords(n),0===this.touches.length&&this._setProperty("touchIsDown",!1);var i=this._isGlobal?window:this;"function"==typeof i.touchEnded?!1===i.touchEnded(n)&&n.preventDefault():"function"==typeof i.mouseReleased&&!1===i.mouseReleased(n)&&n.preventDefault()},C.exports=u},{"../core/core":39}],56:[function(g,C,M){"use strict";var i,t,e,s,n={_toPixels:function(a){return a instanceof ImageData?a.data:a.getContext("2d").getImageData(0,0,a.width,a.height).data},_getARGB:function(a,l){var p=4*l;return a[p+3]<<24&4278190080|a[p]<<16&16711680|a[p+1]<<8&65280|255&a[p+2]},_setPixels:function(a,l){for(var p=0,c=0,m=a.length;c<m;c++)a[0+(p=4*c)]=(16711680&l[c])>>>16,a[p+1]=(65280&l[c])>>>8,a[p+2]=255&l[c],a[p+3]=(4278190080&l[c])>>>24},_toImageData:function(a){return a instanceof ImageData?a:a.getContext("2d").getImageData(0,0,a.width,a.height)},_createImageData:function(a,l){return n._tmpCanvas=document.createElement("canvas"),n._tmpCtx=n._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(a,l)},apply:function(a,l,p){var c=a.getContext("2d"),m=c.getImageData(0,0,a.width,a.height),f=l(m,p);f instanceof ImageData?c.putImageData(f,0,0,0,0,a.width,a.height):c.putImageData(m,0,0,0,0,a.width,a.height)},threshold:function(a,l){var p=n._toPixels(a);void 0===l&&(l=.5);for(var c=Math.floor(255*l),m=0;m<p.length;m+=4)p[m]=p[m+1]=p[m+2]=.2126*p[m]+.7152*p[m+1]+.0722*p[m+2]>=c?255:0},gray:function(a){for(var l=n._toPixels(a),p=0;p<l.length;p+=4)l[p]=l[p+1]=l[p+2]=.2126*l[p]+.7152*l[p+1]+.0722*l[p+2]},opaque:function(a){for(var l=n._toPixels(a),p=0;p<l.length;p+=4)l[p+3]=255;return l},invert:function(a){for(var l=n._toPixels(a),p=0;p<l.length;p+=4)l[p]=255-l[p],l[p+1]=255-l[p+1],l[p+2]=255-l[p+2]},posterize:function(a,l){var p=n._toPixels(a);if(l<2||l>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var c=l-1,m=0;m<p.length;m+=4){var d=p[m+1],y=p[m+2];p[m]=255*(p[m]*l>>8)/c,p[m+1]=255*(d*l>>8)/c,p[m+2]=255*(y*l>>8)/c}},dilate:function(a){for(var l,p,c,m,f,d,y,v,x,w,T,E,R,P,N,_,b,I=n._toPixels(a),S=0,F=I.length?I.length/4:0,O=new Int32Array(F);S<F;)for(l=S,p=S+a.width;S<p;)c=m=n._getARGB(I,S),(y=S-1)<l&&(y=S),(d=S+1)>=p&&(d=S),(v=S-a.width)<0&&(v=0),(x=S+a.width)>=F&&(x=S),E=n._getARGB(I,v),T=n._getARGB(I,y),R=n._getARGB(I,x),(N=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))>(f=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(m=T,f=N),(P=77*((w=n._getARGB(I,d))>>16&255)+151*(w>>8&255)+28*(255&w))>f&&(m=w,f=P),(_=77*(E>>16&255)+151*(E>>8&255)+28*(255&E))>f&&(m=E,f=_),(b=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))>f&&(m=R,f=b),O[S++]=m;n._setPixels(I,O)},erode:function(a){for(var l,p,c,m,f,d,y,v,x,w,T,E,R,P,N,_,b,I=n._toPixels(a),S=0,F=I.length?I.length/4:0,O=new Int32Array(F);S<F;)for(l=S,p=S+a.width;S<p;)c=m=n._getARGB(I,S),(y=S-1)<l&&(y=S),(d=S+1)>=p&&(d=S),(v=S-a.width)<0&&(v=0),(x=S+a.width)>=F&&(x=S),E=n._getARGB(I,v),T=n._getARGB(I,y),R=n._getARGB(I,x),(N=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))<(f=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(m=T,f=N),(P=77*((w=n._getARGB(I,d))>>16&255)+151*(w>>8&255)+28*(255&w))<f&&(m=w,f=P),(_=77*(E>>16&255)+151*(E>>8&255)+28*(255&E))<f&&(m=E,f=_),(b=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<f&&(m=R,f=b),O[S++]=m;n._setPixels(I,O)}};n.blur=function(a,l){!function(a,l){for(var p=n._toPixels(a),c=a.width,m=a.height,f=c*m,d=new Int32Array(f),y=0;y<f;y++)d[y]=n._getARGB(p,y);var v,x,w,T,E,R,P,N,_,b,B,k,H,q,I=new Int32Array(f),S=new Int32Array(f),F=new Int32Array(f),O=new Int32Array(f),W=0;for(function(a){var l=3.5*a|0;if(i!==(l=l<1?1:l<248?l:248)){t=1+(i=l)<<1,e=new Int32Array(t),s=new Array(t);for(var p=0;p<t;p++)s[p]=new Int32Array(256);for(var c,m,f,d,y=1,v=l-1;y<l;y++){e[l+y]=e[v]=m=v*v,f=s[l+y],d=s[v--];for(var x=0;x<256;x++)f[x]=d[x]=m*x}c=e[l]=l*l,f=s[l];for(var w=0;w<256;w++)f[w]=c*w}}(l),k=0;k<m;k++){for(B=0;B<c;B++){if(T=w=x=E=v=0,(R=B-i)<0)b=-R,R=0;else{if(R>=c)break;b=0}for(H=b;H<t&&!(R>=c);H++){var Z=d[R+W];E+=(q=s[H])[(-16777216&Z)>>>24],x+=q[(16711680&Z)>>16],w+=q[(65280&Z)>>8],T+=q[255&Z],v+=e[H],R++}I[P=W+B]=E/v,S[P]=x/v,F[P]=w/v,O[P]=T/v}W+=c}for(W=0,_=(N=-i)*c,k=0;k<m;k++){for(B=0;B<c;B++){if(T=w=x=E=v=0,N<0)b=P=-N,R=B;else{if(N>=m)break;b=0,P=N,R=B+_}for(H=b;H<t&&!(P>=m);H++)E+=(q=s[H])[I[R]],x+=q[S[R]],w+=q[F[R]],T+=q[O[R]],v+=e[H],P++,R+=c;d[B+W]=E/v<<24|x/v<<16|w/v<<8|T/v}W+=c,_+=c,N++}n._setPixels(p,d)}(a,l)},C.exports=n},{}],57:[function(g,C,M){"use strict";var h=g("../core/core"),u=[];h.prototype.createImage=function(n,i){return new h.Image(n,i)},h.prototype.saveCanvas=function(){var n,i,t;if(3===arguments.length?(n=arguments[0],i=arguments[1],t=arguments[2]):2===arguments.length?"object"==typeof arguments[0]?(n=arguments[0],i=arguments[1]):(i=arguments[0],t=arguments[1]):1===arguments.length&&("object"==typeof arguments[0]?n=arguments[0]:i=arguments[0]),n instanceof h.Element&&(n=n.elt),n instanceof HTMLCanvasElement||(n=null),t||""===(t=h.prototype._checkFileExtension(i,t)[1])&&(t="png"),n||this._curElement&&this._curElement.elt&&(n=this._curElement.elt),h.prototype._isSafari()){var e="Hello, Safari user!\n";e+="Now capturing a screenshot...\n",e+="To save this image,\n",e+="go to File --\x3e Save As.\n",alert(e),window.location.href=n.toDataURL()}else{var s;if(void 0===t)t="png",s="image/png";else switch(t){default:s="image/png";break;case"jpeg":case"jpg":s="image/jpeg"}var a=n.toDataURL(s);a=a.replace(s,"image/octet-stream"),h.prototype.downloadFile(a,i,t)}},h.prototype.saveFrames=function(n,i,t,e,s){var a=t||3;a=h.prototype.constrain(a,0,15),a*=1e3;var l=e||15;l=h.prototype.constrain(l,0,22);var p=0,c=h.prototype._makeFrame,m=this._curElement.elt,f=setInterval(function(){c(n+p,i,m),p++},1e3/l);setTimeout(function(){if(clearInterval(f),s)s(u);else for(var d=0;d<u.length;d++){var y=u[d];h.prototype.downloadFile(y.imageData,y.filename,y.ext)}u=[]},a+.01)},h.prototype._makeFrame=function(n,i,t){var e,s;if(e=this?this._curElement.elt:t,i)switch(i.toLowerCase()){default:s="image/png";break;case"jpeg":case"jpg":s="image/jpeg"}else i="png",s="image/png";var a=e.toDataURL(s);a=a.replace(s,"image/octet-stream");var l={};l.imageData=a,l.filename=n,l.ext=i,u.push(l)},C.exports=h},{"../core/core":39}],58:[function(g,C,M){"use strict";function h(e,s){return e>0&&e<s?e:s}var u=g("../core/core"),n=g("./filters"),i=g("../core/canvas"),t=g("../core/constants");g("../core/error_helpers"),u.prototype.loadImage=function(e,s,a){var l=new Image,p=new u.Image(1,1,this),c=u._getDecrementPreload.apply(this,arguments);return l.onload=function(){p.width=p.canvas.width=l.width,p.height=p.canvas.height=l.height,p.drawingContext.drawImage(l,0,0),"function"==typeof s&&s(p),c&&s!==c&&c()},l.onerror=function(m){u._friendlyFileLoadError(0,l.src),"function"==typeof a&&a!==c&&a(m)},0!==e.indexOf("data:image/")&&(l.crossOrigin="Anonymous"),l.src=e,p},u.prototype.image=function(e,s,a,l,p,c,m,f,d){if(arguments.length<=5)if(c=s||0,m=a||0,s=0,a=0,e.elt&&e.elt.videoWidth&&!e.canvas){var y=e.elt.videoWidth,v=e.elt.videoHeight;f=l||e.elt.width,d=p||e.elt.width*v/y,l=y,p=v}else f=l||e.width,d=p||e.height,l=e.width,p=e.height;else{if(9!==arguments.length)throw"Wrong number of arguments to image()";s=s||0,a=a||0,l=h(l,e.width),p=h(p,e.height),c=c||0,m=m||0,f=f||e.width,d=d||e.height}var x=i.modeAdjust(c,m,f,d,this._renderer._imageMode);this._renderer.image(e,s,a,l,p,x.x,x.y,x.w,x.h)},u.prototype.tint=function(){var e=this.color.apply(this,arguments);this._renderer._tint=e.levels},u.prototype.alphaTint=function(){var e=arguments[0];"string"==typeof e&&(e=Number(e)),e=Math.max(e,0),e=Math.min(e,1),this._renderer._alpha=e},u.prototype.noTint=function(){this._renderer._tint=null},u.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var s=n._toPixels(e.canvas),a=document.createElement("canvas");a.width=e.canvas.width,a.height=e.canvas.height;for(var l=a.getContext("2d"),p=l.createImageData(e.canvas.width,e.canvas.height),c=p.data,m=0;m<s.length;m+=4){var d=s[m+1],y=s[m+2],v=s[m+3];c[m]=s[m]*this._renderer._tint[0]/255,c[m+1]=d*this._renderer._tint[1]/255,c[m+2]=y*this._renderer._tint[2]/255,c[m+3]=v*this._renderer._tint[3]/255}return l.putImageData(p,0,0),a},u.prototype.imageMode=function(e){e!==t.CORNER&&e!==t.CORNERS&&e!==t.CENTER||(this._renderer._imageMode=e)},C.exports=u},{"../core/canvas":37,"../core/constants":38,"../core/core":39,"../core/error_helpers":42,"./filters":56}],59:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("./filters");h.Image=function(n,i){this.width=n,this.height=i,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelDensity=1,this.isTexture=!1,this.pixels=[]},h.Image.prototype._setProperty=function(n,i){this[n]=i},h.Image.prototype.loadPixels=function(){h.Renderer2D.prototype.loadPixels.call(this)},h.Image.prototype.updatePixels=function(n,i,t,e){h.Renderer2D.prototype.updatePixels.call(this,n,i,t,e)},h.Image.prototype.get=function(n,i,t,e){return h.Renderer2D.prototype.get.call(this,n,i,t,e)},h.Image.prototype.set=function(n,i,t){h.Renderer2D.prototype.set.call(this,n,i,t)},h.Image.prototype.resize=function(n,i){0===n&&0===i?(n=this.canvas.width,i=this.canvas.height):0===n?n=this.canvas.width*i/this.canvas.height:0===i&&(i=this.canvas.height*n/this.canvas.width),n=Math.floor(n),i=Math.floor(i);var t=document.createElement("canvas");t.width=n,t.height=i,t.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,t.width,t.height),this.canvas.width=this.width=n,this.canvas.height=this.height=i,this.drawingContext.drawImage(t,0,0,n,i,0,0,n,i),this.pixels.length>0&&this.loadPixels()},h.Image.prototype.copy=function(){h.prototype.copy.apply(this,arguments)},h.Image.prototype.mask=function(n){void 0===n&&(n=this);var i=this.drawingContext.globalCompositeOperation,t=1;n instanceof h.Renderer&&(t=n._pInst._pixelDensity);var e=[n,0,0,t*n.width,t*n.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",h.Image.prototype.copy.apply(this,e),this.drawingContext.globalCompositeOperation=i},h.Image.prototype.filter=function(n,i){u.apply(this.canvas,u[n.toLowerCase()],i)},h.Image.prototype.blend=function(){h.prototype.blend.apply(this,arguments)},h.Image.prototype.save=function(n,i){var t;if(i)switch(i.toLowerCase()){default:t="image/png";break;case"jpeg":case"jpg":t="image/jpeg"}else i="png",t="image/png";var e=this.canvas.toDataURL(t);e=e.replace(t,"image/octet-stream"),h.prototype.downloadFile(e,n,i)},C.exports=h.Image},{"../core/core":39,"./filters":56}],60:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("./filters");g("../color/p5.Color"),h.prototype.pixels=[],h.prototype.blend=function(){this._renderer?this._renderer.blend.apply(this._renderer,arguments):h.Renderer2D.prototype.blend.apply(this,arguments)},h.prototype.copy=function(){h.Renderer2D._copyHelper.apply(this,arguments)},h.prototype.filter=function(n,i){u.apply(this.canvas,u[n.toLowerCase()],i)},h.prototype.get=function(n,i,t,e){return this._renderer.get(n,i,t,e)},h.prototype.loadPixels=function(){this._renderer.loadPixels()},h.prototype.set=function(n,i,t){this._renderer.set(n,i,t)},h.prototype.updatePixels=function(n,i,t,e){0!==this.pixels.length&&this._renderer.updatePixels(n,i,t,e)},C.exports=h},{"../color/p5.Color":33,"../core/core":39,"./filters":56}],61:[function(g,C,M){"use strict";function h(a,l){var p={};if(void 0===(l=l||[]))for(var c=0;c<a.length;c++)l[c.toString()]=c;for(var m=0;m<l.length;m++)p[l[m]]=a[m];return p}function u(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function n(a,l){l&&!0!==l&&"true"!==l||(l=""),a||(a="untitled");var p="";return a&&a.indexOf(".")>-1&&(p=a.split(".").pop()),l&&p!==l&&(a=a+"."+(p=l)),[a,p]}function i(a){document.body.removeChild(a.target)}var t=g("../core/core"),e=g("reqwest"),s=g("opentype.js");g("../core/error_helpers"),t._getDecrementPreload=function(){var a=arguments[arguments.length-1];return(window.preload||this&&this.preload)&&"function"==typeof a?a:null},t.prototype.loadFont=function(a,l,p){var c=new t.Font(this),m=t._getDecrementPreload.apply(this,arguments);return s.load(a,function(f,d){if(f)return void 0!==p&&p!==m?p(f):(t._friendlyFileLoadError(4,a),void console.error(f,a));c.font=d,void 0!==l&&l(c),m&&l!==m&&m();var y,v,w=a.split("\\").pop().split("/").pop(),T=w.lastIndexOf("."),E=T<1?null:w.substr(T+1);["ttf","otf","woff","woff2"].indexOf(E)>-1&&(y=w.substr(0,T),(v=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: "+y+";\nsrc: url("+a+");\n}\n")),document.head.appendChild(v))}),c},t.prototype.createInput=function(){throw"not yet implemented"},t.prototype.createReader=function(){throw"not yet implemented"},t.prototype.loadBytes=function(){throw"not yet implemented"},t.prototype.loadJSON=function(){for(var a,l=arguments[0],p=arguments[1],c=t._getDecrementPreload.apply(this,arguments),m={},f="json",d=2;d<arguments.length;d++){var y=arguments[d];"string"==typeof y?"jsonp"!==y&&"json"!==y||(f=y):"function"==typeof y&&(a=y)}return e({url:l,type:f,crossOrigin:!0,error:function(v){a?a(v):console.log(v.statusText)},success:function(v){for(var x in v)m[x]=v[x];void 0!==p&&p(v),c&&p!==c&&c()}}),m},t.prototype.loadStrings=function(a,l,p){var c=[],m=new XMLHttpRequest,f=t._getDecrementPreload.apply(this,arguments);return m.addEventListener("error",function(d){p?p(d):console.log(d.responseText)}),m.open("GET",a,!0),m.onreadystatechange=function(){if(4===m.readyState)if(200===m.status){var d=m.responseText.match(/[^\r\n]+/g);for(var y in d)c[y]=d[y];void 0!==l&&l(c),f&&l!==f&&f()}else p?p(m):console.log(m.statusText)},m.send(null),c},t.prototype.loadTable=function(a){for(var l=null,p=[],c=!1,m=",",f=!1,d=t._getDecrementPreload.apply(this,arguments),y=1;y<arguments.length;y++)if("function"==typeof arguments[y]&&arguments[y]!==d)l=arguments[y];else if("string"==typeof arguments[y])if(p.push(arguments[y]),"header"===arguments[y]&&(c=!0),"csv"===arguments[y]){if(f)throw new Error("Cannot set multiple separator types.");m=",",f=!0}else if("tsv"===arguments[y]){if(f)throw new Error("Cannot set multiple separator types.");m="\t",f=!0}var v=new t.Table;return e({url:a,crossOrigin:!0,type:"csv"}).then(function(x){x=x.responseText;for(var w,T={},_='"',S=[],F=0,O=null,B=function(){T.currentState=4,S.push(O),O=null},k=function(){T.currentState=0,T.token=""},H=function(){O.push(T.token),k()};;){if(null==(w=x[F++])){if(T.escaped)throw new Error("Unclosed quote in file.");if(O){H(),B();break}}if(null===O&&(T.escaped=!1,O=[],k()),0===T.currentState){if(w===_){T.escaped=!0,T.currentState=1;continue}T.currentState=1}1===T.currentState&&T.escaped?w===_?x[F]===_?(T.token+=_,F++):(T.escaped=!1,T.currentState=2):T.token+=w:"\r"===w?("\n"===x[F]&&F++,H(),B()):"\n"===w?(H(),B()):w===m?H():1===T.currentState&&(T.token+=w)}if(c)v.columns=S.shift();else for(y=0;y<S[0].length;y++)v.columns[y]="null";var q;for(y=0;y<S.length&&(y!==S.length-1||1!==S[y].length||"undefined"!==S[y][0]);y++)(q=new t.TableRow).arr=S[y],q.obj=h(S[y],v.columns),v.addRow(q);null!==l&&l(v),d&&l!==d&&d()}).fail(function(x,w){t._friendlyFileLoadError(2,a),"function"==typeof l&&l!==d&&l(!1)}),v},t.prototype.parseXML=function(a){var l,p=new t.XML;if(a.children.length){for(l=0;l<a.children.length;l++){var c=parseXML(a.children[l]);p.addChild(c)}p.setName(a.nodeName),p._setCont(a.textContent),p._setAttributes(a);for(var m=0;m<p.children.length;m++)p.children[m].parent=p;return p}return p.setName(a.nodeName),p._setCont(a.textContent),p._setAttributes(a),p},t.prototype.loadXML=function(a,l,p){var c={},m=t._getDecrementPreload.apply(this,arguments);return e({url:a,type:"xml",crossOrigin:!0,error:function(f){p?p(f):console.log(f.statusText)}}).then(function(f){var d=parseXML(f.documentElement);for(var y in d)c[y]=d[y];void 0!==l&&l(c),m&&l!==m&&m()}),c},t.prototype.selectFolder=function(){throw"not yet implemented"},t.prototype.selectInput=function(){throw"not yet implemented"},t.prototype.httpGet=function(){for(var a=new Array(arguments.length),l=0;l<a.length;++l)a[l]=arguments[l];a.push("GET"),t.prototype.httpDo.apply(this,a)},t.prototype.httpPost=function(){for(var a=new Array(arguments.length),l=0;l<a.length;++l)a[l]=arguments[l];a.push("POST"),t.prototype.httpDo.apply(this,a)},t.prototype.httpDo=function(){if("object"==typeof arguments[0])e(arguments[0]);else{for(var a,l,p="GET",c=arguments[0],m={},f="",d=1;d<arguments.length;d++){var y=arguments[d];"string"==typeof y?"GET"===y||"POST"===y||"PUT"===y?p=y:f=y:"object"==typeof y?m=y:"function"==typeof y&&(a?l=y:a=y)}""===f&&(f=-1!==c.indexOf("json")?"json":-1!==c.indexOf("xml")?"xml":"text"),e({url:c,method:p,data:m,type:f,crossOrigin:!0,success:function(v){void 0!==a&&a("text"===f?v.response:v)},error:function(v){l?l(v):console.log(v.statusText)}})}},window.URL=window.URL||window.webkitURL,t.prototype._pWriters=[],t.prototype.beginRaw=function(){throw"not yet implemented"},t.prototype.beginRecord=function(){throw"not yet implemented"},t.prototype.createOutput=function(){throw"not yet implemented"},t.prototype.createWriter=function(a,l){var p;for(var c in t.prototype._pWriters)if(t.prototype._pWriters[c].name===a)return p=new t.PrintWriter(a+window.millis(),l),t.prototype._pWriters.push(p),p;return p=new t.PrintWriter(a,l),t.prototype._pWriters.push(p),p},t.prototype.endRaw=function(){throw"not yet implemented"},t.prototype.endRecord=function(){throw"not yet implemented"},t.PrintWriter=function(a,l){var p=this;this.name=a,this.content="",this.print=function(c){this.content+=c},this.print=function(c){this.content+=c+"\n"},this.flush=function(){this.content=""},this.close=function(){var c=[];for(var m in c.push(this.content),t.prototype.writeFile(c,a,l),t.prototype._pWriters)t.prototype._pWriters[m].name===this.name&&t.prototype._pWriters.splice(m,1);p.flush(),p={}}},t.prototype.saveBytes=function(){throw"not yet implemented"},t.prototype.save=function(a,l,p){var c=arguments,m=this._curElement.elt;if(0!==c.length)if(c[0]instanceof t.Renderer||c[0]instanceof t.Graphics)t.prototype.saveCanvas(c[0].elt,c[1],c[2]);else if(1===c.length&&"string"==typeof c[0])t.prototype.saveCanvas(m,c[0]);else switch(n(c[1],c[2])[1]){case"json":return void t.prototype.saveJSON(c[0],c[1],c[2]);case"txt":return void t.prototype.saveStrings(c[0],c[1],c[2]);default:c[0]instanceof Array?t.prototype.saveStrings(c[0],c[1],c[2]):c[0]instanceof t.Table?t.prototype.saveTable(c[0],c[1],c[2],c[3]):c[0]instanceof t.Image?t.prototype.saveCanvas(c[0].canvas,c[1]):c[0]instanceof t.SoundFile&&t.prototype.saveSound(c[0],c[1],c[2],c[3])}else t.prototype.saveCanvas(m)},t.prototype.saveJSON=function(a,l,p){var c;c=p?JSON.stringify(a):JSON.stringify(a,void 0,2),console.log(c),this.saveStrings(c.split("\n"),l,"json")},t.prototype.saveJSONObject=t.prototype.saveJSON,t.prototype.saveJSONArray=t.prototype.saveJSON,t.prototype.saveStream=function(){throw"not yet implemented"},t.prototype.saveStrings=function(a,l,p){for(var m=this.createWriter(l,p||"txt"),f=0;f<a.length;f++)m.print(a[f]);m.close(),m.flush()},t.prototype.saveXML=function(){throw"not yet implemented"},t.prototype.selectOutput=function(){throw"not yet implemented"},t.prototype.saveTable=function(a,l,p){var c=this.createWriter(l,p),m=a.columns,f=",";if("tsv"===p&&(f="\t"),"html"!==p){if("0"!==m[0])for(var d=0;d<m.length;d++)c.print(d<m.length-1?m[d]+f:m[d]);for(var y=0;y<a.rows.length;y++){var v;for(v=0;v<a.rows[y].arr.length;v++)c.print(v<a.rows[y].arr.length-1?a.rows[y].arr[v]+f:a.rows[y].arr[v])}}else{if(c.print("<html>"),c.print("<head>"),c.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),c.print("</head>"),c.print("<body>"),c.print("  <table>"),"0"!==m[0]){c.print("    <tr>");for(var w=0;w<m.length;w++){var T=u(m[w]);c.print("      <td>"+T),c.print("      </td>")}c.print("    </tr>")}for(var E=0;E<a.rows.length;E++){c.print("    <tr>");for(var R=0;R<a.columns.length;R++){var N=u(a.rows[E].getString(R));c.print("      <td>"+N),c.print("      </td>")}c.print("    </tr>")}c.print("  </table>"),c.print("</body>"),c.print("</html>")}c.close(),c.flush()},t.prototype.writeFile=function(a,l,p){var c="application/octet-stream";t.prototype._isSafari()&&(c="text/plain");var m=new Blob(a,{type:c}),f=window.URL.createObjectURL(m);t.prototype.downloadFile(f,l,p)},t.prototype.downloadFile=function(a,l,p){var c=n(l,p),m=c[0],f=c[1],d=document.createElement("a");if(d.href=a,d.download=m,d.onclick=i,d.style.display="none",document.body.appendChild(d),t.prototype._isSafari()){var y="Hello, Safari user! To download this file...\n";y+="1. Go to File --\x3e Save As.\n",y+='2. Choose "Page Source" as the Format.\n',y+='3. Name it with this extension: ."'+f+'"',alert(y)}d.click(),a=null},t.prototype._checkFileExtension=n,t.prototype._isSafari=function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},C.exports=t},{"../core/core":39,"../core/error_helpers":42,"opentype.js":8,reqwest:29}],62:[function(g,C,M){"use strict";var h=g("../core/core");h.Table=function(u){this.columns=[],this.rows=[]},h.Table.prototype.addRow=function(u){var n=u||new h.TableRow;if(void 0===n.arr||void 0===n.obj)throw"invalid TableRow: "+n;return n.table=this,this.rows.push(n),n},h.Table.prototype.removeRow=function(u){this.rows[u].table=null;var n=this.rows.splice(u+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(n)},h.Table.prototype.getRow=function(u){return this.rows[u]},h.Table.prototype.getRows=function(){return this.rows},h.Table.prototype.findRow=function(u,n){if("string"==typeof n){for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[n]===u)return this.rows[i]}else for(var t=0;t<this.rows.length;t++)if(this.rows[t].arr[n]===u)return this.rows[t];return null},h.Table.prototype.findRows=function(u,n){var i=[];if("string"==typeof n)for(var t=0;t<this.rows.length;t++)this.rows[t].obj[n]===u&&i.push(this.rows[t]);else for(var e=0;e<this.rows.length;e++)this.rows[e].arr[n]===u&&i.push(this.rows[e]);return i},h.Table.prototype.matchRow=function(u,n){if("number"==typeof n){for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[n].match(u))return this.rows[i]}else for(var t=0;t<this.rows.length;t++)if(this.rows[t].obj[n].match(u))return this.rows[t];return null},h.Table.prototype.matchRows=function(u,n){var i=[];if("number"==typeof n)for(var t=0;t<this.rows.length;t++)this.rows[t].arr[n].match(u)&&i.push(this.rows[t]);else for(var e=0;e<this.rows.length;e++)this.rows[e].obj[n].match(u)&&i.push(this.rows[e]);return i},h.Table.prototype.getColumn=function(u){var n=[];if("string"==typeof u)for(var i=0;i<this.rows.length;i++)n.push(this.rows[i].obj[u]);else for(var t=0;t<this.rows.length;t++)n.push(this.rows[t].arr[u]);return n},h.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},h.Table.prototype.addColumn=function(u){this.columns.push(u||null)},h.Table.prototype.getColumnCount=function(){return this.columns.length},h.Table.prototype.getRowCount=function(){return this.rows.length},h.Table.prototype.removeTokens=function(u,n){for(var t=[],e=0;e<u.length;e++)t.push(u.charAt(e).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));var s=new RegExp(t.join("|"),"g");if(void 0===n)for(var a=0;a<this.columns.length;a++)for(var l=0;l<this.rows.length;l++){var p=this.rows[l].arr[a];p=p.replace(s,""),this.rows[l].arr[a]=p,this.rows[l].obj[this.columns[a]]=p}else if("string"==typeof n)for(var c=0;c<this.rows.length;c++){var m=this.rows[c].obj[n];m=m.replace(s,""),this.rows[c].obj[n]=m;var f=this.columns.indexOf(n);this.rows[c].arr[f]=m}else for(var d=0;d<this.rows.length;d++){var y=this.rows[d].arr[n];y=y.replace(s,""),this.rows[d].arr[n]=y,this.rows[d].obj[this.columns[n]]=y}},h.Table.prototype.trim=function(u){var n=new RegExp(" ","g");if(void 0===u)for(var i=0;i<this.columns.length;i++)for(var t=0;t<this.rows.length;t++){var e=this.rows[t].arr[i];e=e.replace(n,""),this.rows[t].arr[i]=e,this.rows[t].obj[this.columns[i]]=e}else if("string"==typeof u)for(var s=0;s<this.rows.length;s++){var a=this.rows[s].obj[u];a=a.replace(n,""),this.rows[s].obj[u]=a;var l=this.columns.indexOf(u);this.rows[s].arr[l]=a}else for(var p=0;p<this.rows.length;p++){var c=this.rows[p].arr[u];c=c.replace(n,""),this.rows[p].arr[u]=c,this.rows[p].obj[this.columns[u]]=c}},h.Table.prototype.removeColumn=function(u){var n,i;"string"==typeof u?(n=u,i=this.columns.indexOf(u),console.log("string")):(i=u,n=this.columns[u]);var t=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(t);for(var e=0;e<this.rows.length;e++){var s=this.rows[e].arr,a=s.splice(i+1,s.length);s.pop(),this.rows[e].arr=s.concat(a),delete this.rows[e].obj[n]}},h.Table.prototype.set=function(u,n,i){this.rows[u].set(n,i)},h.Table.prototype.setNum=function(u,n,i){this.rows[u].setNum(n,i)},h.Table.prototype.setString=function(u,n,i){this.rows[u].setString(n,i)},h.Table.prototype.get=function(u,n){return this.rows[u].get(n)},h.Table.prototype.getNum=function(u,n){return this.rows[u].getNum(n)},h.Table.prototype.getString=function(u,n){return this.rows[u].getString(n)},h.Table.prototype.getObject=function(u){for(var n,t={},e=0;e<this.rows.length;e++)if(n=this.rows[e].obj,"string"==typeof u){if(!(this.columns.indexOf(u)>=0))throw'This table has no column named "'+u+'"';t[n[u]]=n}else t[e]=this.rows[e].obj;return t},h.Table.prototype.getArray=function(){for(var u=[],n=0;n<this.rows.length;n++)u.push(this.rows[n].arr);return u},C.exports=h.Table},{"../core/core":39}],63:[function(g,C,M){"use strict";var h=g("../core/core");h.TableRow=function(u,n){var i=[],t={};u&&(i=u.split(n=n||","));for(var e=0;e<i.length;e++)t[e]=i[e];this.arr=i,this.obj=t,this.table=null},h.TableRow.prototype.set=function(u,n){if("string"==typeof u){var i=this.table.columns.indexOf(u);if(!(i>=0))throw'This table has no column named "'+u+'"';this.obj[u]=n,this.arr[i]=n}else{if(!(u<this.table.columns.length))throw"Column #"+u+" is out of the range of this table";this.arr[u]=n,this.obj[this.table.columns[u]]=n}},h.TableRow.prototype.setNum=function(u,n){var i=parseFloat(n,10);this.set(u,i)},h.TableRow.prototype.setString=function(u,n){var i=n.toString();this.set(u,i)},h.TableRow.prototype.get=function(u){return"string"==typeof u?this.obj[u]:this.arr[u]},h.TableRow.prototype.getNum=function(u){var n;if("NaN"===(n=parseFloat("string"==typeof u?this.obj[u]:this.arr[u],10)).toString())throw"Error: "+this.obj[u]+" is NaN (Not a Number)";return n},h.TableRow.prototype.getString=function(u){return"string"==typeof u?this.obj[u].toString():this.arr[u].toString()},C.exports=h.TableRow},{"../core/core":39}],64:[function(g,C,M){"use strict";var h=g("../core/core");h.XML=function(){this.name=null,this.attributes={},this.children=[],this.parent=null,this.content=null},h.XML.prototype.getParent=function(){return this.parent},h.XML.prototype.getName=function(){return this.name},h.XML.prototype.setName=function(u){this.name=u},h.XML.prototype.hasChildren=function(){return this.children.length>0},h.XML.prototype.listChildren=function(){return this.children.map(function(u){return u.name})},h.XML.prototype.getChildren=function(u){return u?this.children.filter(function(n){return n.name===u}):this.children},h.XML.prototype.getChild=function(u){return"string"==typeof u?this.children.find(function(n){return n.name===u}):this.children[u]},h.XML.prototype.addChild=function(u){u instanceof h.XML&&this.children.push(u)},h.XML.prototype.removeChild=function(u){var n=-1;if("string"==typeof u){for(var i=0;i<this.children.length;i++)if(this.children[i].name===u){n=i;break}}else n=u;-1!==n&&this.children.splice(n,1)},h.XML.prototype.getAttributeCount=function(){return Object.keys(this.attributes).length},h.XML.prototype.listAttributes=function(){return Object.keys(this.attributes)},h.XML.prototype.hasAttribute=function(u){return!!this.attributes[u]},h.XML.prototype.getNumber=function(u,n){return Number(this.attributes[u])||n||0},h.XML.prototype.getString=function(u,n){return String(this.attributes[u])||n||null},h.XML.prototype.setAttribute=function(u,n){this.attributes[u]&&(this.attributes[u]=n)},h.XML.prototype.getContent=function(u){return this.content||u||null},h.XML.prototype.setContent=function(u){this.children.length||(this.content=u)},h.XML.prototype._setCont=function(u){var n;n=(n=u).replace(/\s\s+/g,","),this.content=n},h.XML.prototype._setAttributes=function(u){var n,i={};for(n=0;n<u.attributes.length;n++)i[u.attributes[n].nodeName]=u.attributes[n].nodeValue;this.attributes=i},C.exports=h.XML},{"../core/core":39}],65:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.abs=Math.abs,h.prototype.ceil=Math.ceil,h.prototype.constrain=function(u,n,i){return Math.max(Math.min(u,i),n)},h.prototype.dist=function(u,n,i,t,e,s){return 4===arguments.length?Math.sqrt((i-u)*(i-u)+(t-n)*(t-n)):6===arguments.length?Math.sqrt((t-u)*(t-u)+(e-n)*(e-n)+(s-i)*(s-i)):void 0},h.prototype.exp=Math.exp,h.prototype.floor=Math.floor,h.prototype.lerp=function(u,n,i){return i*(n-u)+u},h.prototype.log=Math.log,h.prototype.mag=function(u,n){return Math.sqrt(u*u+n*n)},h.prototype.map=function(u,n,i,t,e){return(u-n)/(i-n)*(e-t)+t},h.prototype.max=function(){return arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},h.prototype.min=function(){return arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},h.prototype.norm=function(u,n,i){return this.map(u,n,i,0,1)},h.prototype.pow=Math.pow,h.prototype.round=Math.round,h.prototype.sq=function(u){return u*u},h.prototype.sqrt=Math.sqrt,C.exports=h},{"../core/core":39}],66:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.createVector=function(u,n,i){return this instanceof h?new h.Vector(this,arguments):new h.Vector(u,n,i)},C.exports=h},{"../core/core":39}],67:[function(g,C,M){"use strict";var h,u=g("../core/core"),s=4095,a=4,l=.5,p=function(c){return.5*(1-Math.cos(c*Math.PI))};u.prototype.noise=function(c,m,f){if(m=m||0,f=f||0,null==h){h=new Array(s+1);for(var d=0;d<s+1;d++)h[d]=Math.random()}c<0&&(c=-c),m<0&&(m=-m),f<0&&(f=-f);for(var y,v,x,w,T,E=Math.floor(c),R=Math.floor(m),P=Math.floor(f),N=c-E,_=m-R,b=f-P,I=0,S=.5,F=0;F<a;F++){var O=E+(R<<4)+(P<<8);y=p(N),v=p(_),x=h[O&s],x+=y*(h[O+1&s]-x),w=h[O+16&s],x+=v*((w+=y*(h[O+16+1&s]-w))-x),w=h[(O+=256)&s],w+=y*(h[O+1&s]-w),T=h[O+16&s],w+=v*((T+=y*(h[O+16+1&s]-T))-w),I+=(x+=p(b)*(w-x))*S,S*=l,E<<=1,R<<=1,P<<=1,(N*=2)>=1&&(E++,N--),(_*=2)>=1&&(R++,_--),(b*=2)>=1&&(P++,b--)}return I},u.prototype.noiseDetail=function(c,m){c>0&&(a=c),m>0&&(l=m)},u.prototype.noiseSeed=function(c){var d,y,v,m=(v=4294967296,{setSeed:function(T){y=d=(null==T?Math.random()*v:T)>>>0},getSeed:function(){return d},rand:function(){return(y=(1664525*y+1013904223)%v)/v}});m.setSeed(c),h=new Array(s+1);for(var f=0;f<s+1;f++)h[f]=m.rand()},C.exports=u},{"../core/core":39}],68:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("./polargeometry"),n=g("../core/constants");h.Vector=function(){var i,t,e;arguments[0]instanceof h?(this.p5=arguments[0],i=arguments[1][0]||0,t=arguments[1][1]||0,e=arguments[1][2]||0):(i=arguments[0]||0,t=arguments[1]||0,e=arguments[2]||0),this.x=i,this.y=t,this.z=e},h.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},h.Vector.prototype.set=function(i,t,e){return i instanceof h.Vector?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this):i instanceof Array?(this.x=i[0]||0,this.y=i[1]||0,this.z=i[2]||0,this):(this.x=i||0,this.y=t||0,this.z=e||0,this)},h.Vector.prototype.copy=function(){return this.p5?new h.Vector(this.p5,[this.x,this.y,this.z]):new h.Vector(this.x,this.y,this.z)},h.Vector.prototype.add=function(i,t,e){return i instanceof h.Vector?(this.x+=i.x||0,this.y+=i.y||0,this.z+=i.z||0,this):i instanceof Array?(this.x+=i[0]||0,this.y+=i[1]||0,this.z+=i[2]||0,this):(this.x+=i||0,this.y+=t||0,this.z+=e||0,this)},h.Vector.prototype.sub=function(i,t,e){return i instanceof h.Vector?(this.x-=i.x||0,this.y-=i.y||0,this.z-=i.z||0,this):i instanceof Array?(this.x-=i[0]||0,this.y-=i[1]||0,this.z-=i[2]||0,this):(this.x-=i||0,this.y-=t||0,this.z-=e||0,this)},h.Vector.prototype.mult=function(i){return this.x*=i||0,this.y*=i||0,this.z*=i||0,this},h.Vector.prototype.div=function(i){return this.x/=i,this.y/=i,this.z/=i,this},h.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},h.Vector.prototype.magSq=function(){var i=this.x,t=this.y,e=this.z;return i*i+t*t+e*e},h.Vector.prototype.dot=function(i,t,e){return i instanceof h.Vector?this.dot(i.x,i.y,i.z):this.x*(i||0)+this.y*(t||0)+this.z*(e||0)},h.Vector.prototype.cross=function(i){var t=this.y*i.z-this.z*i.y,e=this.z*i.x-this.x*i.z,s=this.x*i.y-this.y*i.x;return this.p5?new h.Vector(this.p5,[t,e,s]):new h.Vector(t,e,s)},h.Vector.prototype.dist=function(i){return i.copy().sub(this).mag()},h.Vector.prototype.normalize=function(){return 0===this.mag()?this:this.div(this.mag())},h.Vector.prototype.limit=function(i){var t=this.magSq();return t>i*i&&(this.div(Math.sqrt(t)),this.mult(i)),this},h.Vector.prototype.setMag=function(i){return this.normalize().mult(i)},h.Vector.prototype.heading=function(){var i=Math.atan2(this.y,this.x);return this.p5?this.p5._angleMode===n.RADIANS?i:u.radiansToDegrees(i):i},h.Vector.prototype.rotate=function(i){this.p5&&this.p5._angleMode===n.DEGREES&&(i=u.degreesToRadians(i));var t=this.heading()+i,e=this.mag();return this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},h.Vector.prototype.lerp=function(i,t,e,s){return i instanceof h.Vector?this.lerp(i.x,i.y,i.z,t):(this.x+=(i-this.x)*s||0,this.y+=(t-this.y)*s||0,this.z+=(e-this.z)*s||0,this)},h.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},h.Vector.prototype.equals=function(i,t,e){var s,a,l;return i instanceof h.Vector?(s=i.x||0,a=i.y||0,l=i.z||0):i instanceof Array?(s=i[0]||0,a=i[1]||0,l=i[2]||0):(s=i||0,a=t||0,l=e||0),this.x===s&&this.y===a&&this.z===l},h.Vector.fromAngle=function(i){return this.p5&&this.p5._angleMode===n.DEGREES&&(i=u.degreesToRadians(i)),this.p5?new h.Vector(this.p5,[Math.cos(i),Math.sin(i),0]):new h.Vector(Math.cos(i),Math.sin(i),0)},h.Vector.random2D=function(){var i;return i=this.p5?this.p5.random(this.p5._angleMode===n.DEGREES?360:n.TWO_PI):Math.random()*Math.PI*2,this.fromAngle(i)},h.Vector.random3D=function(){var i,t;this.p5?(i=this.p5.random(0,n.TWO_PI),t=this.p5.random(-1,1)):(i=Math.random()*Math.PI*2,t=2*Math.random()-1);var e=Math.sqrt(1-t*t)*Math.cos(i),s=Math.sqrt(1-t*t)*Math.sin(i);return this.p5?new h.Vector(this.p5,[e,s,t]):new h.Vector(e,s,t)},h.Vector.add=function(i,t,e){return e?e.set(i):e=i.copy(),e.add(t),e},h.Vector.sub=function(i,t,e){return e?e.set(i):e=i.copy(),e.sub(t),e},h.Vector.mult=function(i,t,e){return e?e.set(i):e=i.copy(),e.mult(t),e},h.Vector.div=function(i,t,e){return e?e.set(i):e=i.copy(),e.div(t),e},h.Vector.dot=function(i,t){return i.dot(t)},h.Vector.cross=function(i,t){return i.cross(t)},h.Vector.dist=function(i,t){return i.dist(t)},h.Vector.lerp=function(i,t,e,s){return s?s.set(i):s=i.copy(),s.lerp(t,e),s},h.Vector.angleBetween=function(i,t){var e=Math.acos(i.dot(t)/(i.mag()*t.mag()));return this.p5&&this.p5._angleMode===n.DEGREES&&(e=u.radiansToDegrees(e)),e},h.Vector.mag=function(i){var t=i.x,e=i.y,s=i.z;return Math.sqrt(t*t+e*e+s*s)},C.exports=h.Vector},{"../core/constants":38,"../core/core":39,"./polargeometry":69}],69:[function(g,C,M){C.exports={degreesToRadians:function(h){return 2*Math.PI*h/360},radiansToDegrees:function(h){return 360*h/(2*Math.PI)}}},{}],70:[function(g,C,M){"use strict";var e,s,a,h=g("../core/core"),u=!1,n=(a=4294967296,{setSeed:function(c){s=e=(null==c?Math.random()*a:c)>>>0},getSeed:function(){return e},rand:function(){return(s=(1664525*s+1013904223)%a)/a}});h.prototype.randomSeed=function(e){n.setSeed(e),u=!0},h.prototype.random=function(e,s){var a;if(a=u?n.rand():Math.random(),void 0===e)return a;if(void 0===s)return e instanceof Array?e[Math.floor(a*e.length)]:a*e;if(e>s){var l=e;e=s,s=l}return a*(s-e)+e};var i,t=!1;h.prototype.randomGaussian=function(e,s){var a,l,p,c;if(t)a=i,t=!1;else{do{c=(l=this.random(2)-1)*l+(p=this.random(2)-1)*p}while(c>=1);a=l*(c=Math.sqrt(-2*Math.log(c)/c)),i=p*c,t=!0}return a*(s||1)+(e||0)},C.exports=h},{"../core/core":39}],71:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("./polargeometry"),n=g("../core/constants");h.prototype._angleMode=n.RADIANS,h.prototype.acos=function(i){return this._angleMode===n.RADIANS?Math.acos(i):u.radiansToDegrees(Math.acos(i))},h.prototype.asin=function(i){return this._angleMode===n.RADIANS?Math.asin(i):u.radiansToDegrees(Math.asin(i))},h.prototype.atan=function(i){return this._angleMode===n.RADIANS?Math.atan(i):u.radiansToDegrees(Math.atan(i))},h.prototype.atan2=function(i,t){return this._angleMode===n.RADIANS?Math.atan2(i,t):u.radiansToDegrees(Math.atan2(i,t))},h.prototype.cos=function(i){return this._angleMode===n.RADIANS?Math.cos(i):Math.cos(this.radians(i))},h.prototype.sin=function(i){return this._angleMode===n.RADIANS?Math.sin(i):Math.sin(this.radians(i))},h.prototype.tan=function(i){return this._angleMode===n.RADIANS?Math.tan(i):Math.tan(this.radians(i))},h.prototype.degrees=function(i){return u.radiansToDegrees(i)},h.prototype.radians=function(i){return u.degreesToRadians(i)},h.prototype.angleMode=function(i){i!==n.DEGREES&&i!==n.RADIANS||(this._angleMode=i)},C.exports=h},{"../core/constants":38,"../core/core":39,"./polargeometry":69}],72:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.textAlign=function(u,n){return this._renderer.textAlign.apply(this._renderer,arguments)},h.prototype.textLeading=function(u){return this._renderer.textLeading.apply(this._renderer,arguments)},h.prototype.textSize=function(u){return this._renderer.textSize.apply(this._renderer,arguments)},h.prototype.textStyle=function(u){return this._renderer.textStyle.apply(this._renderer,arguments)},h.prototype.textWidth=function(u){return 0===u.length?0:this._renderer.textWidth.apply(this._renderer,arguments)},h.prototype.textAscent=function(){return this._renderer.textAscent()},h.prototype.textDescent=function(){return this._renderer.textDescent()},h.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},C.exports=h},{"../core/core":39}],73:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("../core/constants");g("../core/error_helpers"),h.prototype.text=function(n,i,t,e,s){for(var a=new Array(arguments.length),l=0;l<a.length;++l)a[l]=arguments[l];return this._validateParameters("text",a,[["*","Number","Number"],["*","Number","Number","Number","Number"]]),this._renderer._doFill||this._renderer._doStroke?this._renderer.text.apply(this._renderer,arguments):this},h.prototype.textFont=function(n,i){if(arguments.length){if(!n)throw Error("null font passed to textFont");return this._renderer._setProperty("_textFont",n),i&&(this._renderer._setProperty("_textSize",i),this._renderer._setProperty("_textLeading",i*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this},C.exports=h},{"../core/constants":38,"../core/core":39,"../core/error_helpers":42}],74:[function(g,C,M){"use strict";function h(_,b){for(var I=function(_,b){if("object"!=typeof _)_=b;else for(var I in b)void 0===_[I]&&(_[I]=b[I]);return _}(b,{sampleFactor:.1,simplifyThreshold:0}),S=c(_,0,1),F=S/(S*I.sampleFactor),O=[],W=0;W<S;W+=F)O.push(c(_,W));return I.simplifyThreshold&&function(_,b){b=void 0===b?0:b;for(var S=_.length-1;_.length>3&&S>=0;--S)s(e(_,S-1),e(_,S),e(_,S+1),b)&&(_.splice(S%_.length,1))}(O,I.simplifyThreshold),O}function n(_){for(var b,I=[],S=0;S<_.length;S++)"M"===_[S].type&&(b&&I.push(b),b=[]),b.push(i(_[S]));return I.push(b),I}function i(_){var b=[_.type];return"M"===_.type||"L"===_.type?b.push(_.x,_.y):"C"===_.type?b.push(_.x1,_.y1,_.x2,_.y2,_.x,_.y):"Q"===_.type&&b.push(_.x1,_.y1,_.x,_.y),b}function e(_,b){var I=_.length;return _[b<0?b%I+I:b%I]}function s(_,b,I,S){if(!S)return 0===function(_,b,I){return(b[0]-_[0])*(I[1]-_[1])-(I[0]-_[0])*(b[1]-_[1])}(_,b,I);void 0===s.tmpPoint1&&(s.tmpPoint1=[],s.tmpPoint2=[]);var F=s.tmpPoint1,O=s.tmpPoint2;F.x=b.x-_.x,F.y=b.y-_.y,O.x=I.x-b.x,O.y=I.y-b.y;var W=F.x*O.x+F.y*O.y,B=Math.sqrt(F.x*F.x+F.y*F.y),k=Math.sqrt(O.x*O.x+O.y*O.y);return Math.acos(W/(B*k))<S}function l(_,b,I,S,F,O,W,B,k){var H=1-k,q=Math.pow(H,3),Z=Math.pow(H,2),te=k*k,Q=te*k,L=q*_+3*Z*k*I+3*H*k*k*F+Q*W,A=q*b+3*Z*k*S+3*H*k*k*O+Q*B,G=_+2*k*(I-_)+te*(F-2*I+_),X=b+2*k*(S-b)+te*(O-2*S+b),J=I+2*k*(F-I)+te*(W-2*F+I),V=S+2*k*(O-S)+te*(B-2*O+S),D=H*_+k*I,Y=H*b+k*S,z=H*F+k*W,j=H*O+k*B,K=90-180*Math.atan2(G-J,X-V)/Math.PI;return(G>J||X<V)&&(K+=180),{x:L,y:A,m:{x:G,y:X},n:{x:J,y:V},start:{x:D,y:Y},end:{x:z,y:j},alpha:K}}function p(_,b,I,S,F,O,W,B,k){return null==k?w(_,b,I,S,F,O,W,B):l(_,b,I,S,F,O,W,B,function(_,b,I,S,F,O,W,B,k){if(!(k<0||w(_,b,I,S,F,O,W,B)<k)){var H,Z=.5,te=1-Z;for(H=w(_,b,I,S,F,O,W,B,te);Math.abs(H-k)>.01;)H=w(_,b,I,S,F,O,W,B,te+=(H<k?1:-1)*(Z/=2));return te}}(_,b,I,S,F,O,W,B,k))}function c(_,b,I){_=function(_,b){for(var I=m(_),S=b,F={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},O={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},W=function(V,D,Y){var z,j;if(!V)return["C",D.x,D.y,D.x,D.y,D.x,D.y];switch(V[0]in{T:1,Q:1}||(D.qx=D.qy=null),V[0]){case"M":D.X=V[1],D.Y=V[2];break;case"A":V=["C"].concat(d.apply(0,[D.x,D.y].concat(V.slice(1))));break;case"S":"C"===Y||"S"===Y?(z=2*D.x-D.bx,j=2*D.y-D.by):(z=D.x,j=D.y),V=["C",z,j].concat(V.slice(1));break;case"T":"Q"===Y||"T"===Y?(D.qx=2*D.x-D.qx,D.qy=2*D.y-D.qy):(D.qx=D.x,D.qy=D.y),V=["C"].concat(x(D.x,D.y,D.qx,D.qy,V[1],V[2]));break;case"Q":D.qx=V[1],D.qy=V[2],V=["C"].concat(x(D.x,D.y,V[1],V[2],V[3],V[4]));break;case"L":V=["C"].concat(v(D.x,D.y,V[1],V[2]));break;case"H":V=["C"].concat(v(D.x,D.y,V[1],D.y));break;case"V":V=["C"].concat(v(D.x,D.y,D.x,V[1]));break;case"Z":V=["C"].concat(v(D.x,D.y,D.X,D.Y))}return V},B=function(V,D){if(V[D].length>7){V[D].shift();for(var Y=V[D];Y.length;)H[D]="A",S&&(q[D]="A"),V.splice(D++,0,["C"].concat(Y.splice(0,6)));V.splice(D,1),L=Math.max(I.length,S&&S.length||0)}},k=function(V,D,Y,z,j){V&&D&&"M"===V[j][0]&&"M"!==D[j][0]&&(D.splice(j,0,["M",z.x,z.y]),Y.bx=0,Y.by=0,Y.x=V[j][1],Y.y=V[j][2],L=Math.max(I.length,S&&S.length||0))},H=[],q=[],Z="",te="",Q=0,L=Math.max(I.length,S&&S.length||0);Q<L;Q++){I[Q]&&(Z=I[Q][0]),"C"!==Z&&(H[Q]=Z,Q&&(te=H[Q-1])),I[Q]=W(I[Q],F,te),"A"!==H[Q]&&"C"===Z&&(H[Q]="C"),B(I,Q),S&&(S[Q]&&(Z=S[Q][0]),"C"!==Z&&(q[Q]=Z,Q&&(te=q[Q-1])),S[Q]=W(S[Q],O,te),"A"!==q[Q]&&"C"===Z&&(q[Q]="C"),B(S,Q)),k(I,S,F,O,Q),k(S,I,O,F,Q);var A=I[Q],G=S&&S[Q],X=A.length,J=S&&G.length;F.x=A[X-2],F.y=A[X-1],F.bx=parseFloat(A[X-4])||F.x,F.by=parseFloat(A[X-3])||F.y,O.bx=S&&(parseFloat(G[J-4])||O.x),O.by=S&&(parseFloat(G[J-3])||O.y),O.x=S&&G[J-2],O.y=S&&G[J-1]}return S?[I,S]:I}(_);for(var S,F,O,W,B,q=0,Z=0,te=_.length;Z<te;Z++){if("M"===(O=_[Z])[0])S=+O[1],F=+O[2];else{if(q+(W=p(S,F,O[1],O[2],O[3],O[4],O[5],O[6]))>b&&!I)return{x:(B=p(S,F,O[1],O[2],O[3],O[4],O[5],O[6],b-q)).x,y:B.y,alpha:B.alpha};q+=W,S=+O[5],F=+O[6]}O.shift()}return(B=I?q:l(S,F,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha&&(B={x:B.x,y:B.y,alpha:B.alpha}),B}function m(_){var b=[],I=0,S=0,F=0,O=0,W=0;"M"===_[0][0]&&(F=I=+_[0][1],O=S=+_[0][2],W++,b[0]=["M",I,S]);for(var B,k,H,q=3===_.length&&"M"===_[0][0]&&"R"===_[1][0].toUpperCase()&&"Z"===_[2][0].toUpperCase(),Z=W,te=_.length;Z<te;Z++){if(b.push(k=[]),(H=_[Z])[0]!==String.prototype.toUpperCase.call(H[0]))switch(k[0]=String.prototype.toUpperCase.call(H[0]),k[0]){case"A":k[1]=H[1],k[2]=H[2],k[3]=H[3],k[4]=H[4],k[5]=H[5],k[6]=+(H[6]+I),k[7]=+(H[7]+S);break;case"V":k[1]=+H[1]+S;break;case"H":k[1]=+H[1]+I;break;case"R":for(var Q=2,L=(B=[I,S].concat(H.slice(1))).length;Q<L;Q++)B[Q]=+B[Q]+I,B[++Q]=+B[Q]+S;b.pop(),b=b.concat(y(B,q));break;case"M":F=+H[1]+I,O=+H[2]+S;break;default:for(Q=1,L=H.length;Q<L;Q++)k[Q]=+H[Q]+(Q%2?I:S)}else if("R"===H[0])B=[I,S].concat(H.slice(1)),b.pop(),b=b.concat(y(B,q)),k=["R"].concat(H.slice(-2));else for(var A=0,G=H.length;A<G;A++)k[A]=H[A];switch(k[0]){case"Z":I=F,S=O;break;case"H":I=k[1];break;case"V":S=k[1];break;case"M":F=k[k.length-2],O=k[k.length-1];break;default:I=k[k.length-2],S=k[k.length-1]}}return b}function d(_,b,I,S,F,O,W,B,k,H){var q,Z,te,Q,L,A=Math.PI,G=120*A/180,X=A/180*(+F||0),J=[],V=function(de,ne,he){return{x:de*Math.cos(he)-ne*Math.sin(he),y:de*Math.sin(he)+ne*Math.cos(he)}};if(H)q=H[0],Z=H[1],te=H[2],Q=H[3];else{b=(L=V(_,b,-X)).y;var D=((_=L.x)-(B=(L=V(B,k,-X)).x))/2,Y=(b-(k=L.y))/2,z=D*D/(I*I)+Y*Y/(S*S);z>1&&(I*=z=Math.sqrt(z),S*=z);var j=I*I,K=S*S,U=(O===W?-1:1)*Math.sqrt(Math.abs((j*K-j*Y*Y-K*D*D)/(j*Y*Y+K*D*D)));te=U*I*Y/S+(_+B)/2,Q=U*-S*D/I+(b+k)/2,q=Math.asin(((b-Q)/S).toFixed(9)),Z=Math.asin(((k-Q)/S).toFixed(9)),(q=_<te?A-q:q)<0&&(q=2*A+q),(Z=B<te?A-Z:Z)<0&&(Z=2*A+Z),W&&q>Z&&(q-=2*A),!W&&Z>q&&(Z-=2*A)}var re=Z-q;if(Math.abs(re)>G){var se=Z,ae=B,ge=k;Z=q+G*(W&&Z>q?1:-1),J=d(B=te+I*Math.cos(Z),k=Q+S*Math.sin(Z),I,S,F,0,W,ae,ge,[Z,se,te,Q])}re=Z-q;var $=Math.cos(q),ee=Math.sin(q),oe=Math.cos(Z),ue=Math.sin(Z),ye=Math.tan(re/4),xe=4/3*I*ye,_e=4/3*S*ye,ve=[_,b],le=[_+xe*ee,b-_e*$],pe=[B+xe*ue,k-_e*oe],me=[B,k];if(le[0]=2*ve[0]-le[0],le[1]=2*ve[1]-le[1],H)return[le,pe,me].concat(J);for(var ce=[],ie=0,fe=(J=[le,pe,me].concat(J).join().split(",")).length;ie<fe;ie++)ce[ie]=ie%2?V(J[ie-1],J[ie],X).y:V(J[ie],J[ie+1],X).x;return ce}function y(_,b){for(var I=[],S=0,F=_.length;F-2*!b>S;S+=2){var O=[{x:+_[S-2],y:+_[S-1]},{x:+_[S],y:+_[S+1]},{x:+_[S+2],y:+_[S+3]},{x:+_[S+4],y:+_[S+5]}];b?S?F-4===S?O[3]={x:+_[0],y:+_[1]}:F-2===S&&(O[2]={x:+_[0],y:+_[1]},O[3]={x:+_[2],y:+_[3]}):O[0]={x:+_[F-2],y:+_[F-1]}:F-4===S?O[3]=O[2]:S||(O[0]={x:+_[S],y:+_[S+1]}),I.push(["C",(6*O[1].x-O[0].x+O[2].x)/6,(6*O[1].y-O[0].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return I}function v(_,b,I,S){return[_,b,I,S,I,S]}function x(_,b,I,S,F,O){var W=1/3,B=2/3;return[W*_+B*I,W*b+B*S,W*F+B*I,W*O+B*S,F,O]}function w(_,b,I,S,F,O,W,B,k){null==k&&(k=1);for(var H=(k=k>1?1:k<0?0:k)/2,Z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],te=0,Q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],L=0;L<12;L++){var A=H*Z[L]+H,G=E(A,_,I,F,W),X=E(A,b,S,O,B);te+=Q[L]*Math.sqrt(G*G+X*X)}return H*te}function E(_,b,I,S,F){return _*(_*(-3*b+9*I-9*S+3*F)+6*b-12*I+6*S)-3*b+3*I}function R(){for(var _=new Array(arguments.length),b=0;b<_.length;++b)_[b]=arguments[b];b=_.length;for(var I="";b--;)I+=_[b]===Object(_[b])?JSON.stringify(_[b]):_[b];return I}var P=g("../core/core"),N=g("../core/constants");P.Font=function(_){this.parent=_,this.cache={},this.font=void 0},P.Font.prototype.list=function(){throw"not yet implemented"},P.Font.prototype.textBounds=function(_,b,I,S,F){var O=F&&F.renderer&&F.renderer._pInst||this.parent,W=O._renderer.drawingContext,B=W.textAlign||N.LEFT,k=W.textBaseline||N.BASELINE,H=this.cache[R("textBounds",_,b=void 0!==b?b:0,I=void 0!==I?I:0,S=S||this.parent._renderer._textSize,B,k)];if(!H){var q,Z,te,Q,L=[],A=[],G=this,X=this._scale(S);this.font.forEachGlyph(_,b,I,S,F,function(D,Y,z,j){L.push(Y),A.push(z);var K=D.getMetrics();"space"!==D.name?(L.push(Y+K.xMax*X),A.push(z+-K.yMin*X),A.push(z+-K.yMax*X)):L.push(Y+G.font.charToGlyph(" ").advanceWidth*G._scale(S))}),q=Math.min.apply(null,L),Z=Math.min.apply(null,A),te=Math.max.apply(null,L),Q=Math.max.apply(null,A);var V=this._handleAlignment(O,W,_,(H={x:q,y:Z,h:Q-Z,w:te-q,advance:q-b}).x,H.y,H.w+H.advance);H.x=V.x,H.y=V.y,this.cache[R("textBounds",_,b,I,S,B,k)]=H}return H},P.Font.prototype.textToPoints=function(_,b,I,S,F){var O=0,W=[],B=this._getGlyphs(_);S=S||this.parent._renderer._textSize;for(var k=0;k<B.length;k++){for(var q=n(B[k].getPath(b,I,S).commands),Z=0;Z<q.length;Z++)for(var te=h(q[Z],F),Q=0;Q<te.length;Q++)te[Q].x+=O,W.push(te[Q]);O+=B[k].advanceWidth*this._scale(S)}return W},P.Font.prototype._getGlyphs=function(_){return this.font.stringToGlyphs(_)},P.Font.prototype._getPath=function(_,b,I,S){var F=S&&S.renderer&&S.renderer._pInst||this.parent,W=this._handleAlignment(F,F._renderer.drawingContext,_,b,I);return this.font.getPath(_,W.x,W.y,F._renderer._textSize,S)},P.Font.prototype._getPathData=function(_,b,I,S){var F=3;return"string"==typeof _&&arguments.length>2?_=this._getPath(_,b,I,S):"object"==typeof b&&(S=b),S&&"number"==typeof S.decimals&&(F=S.decimals),_.toPathData(F)},P.Font.prototype._getSVG=function(_,b,I,S){var F=3;return"string"==typeof _&&arguments.length>2?_=this._getPath(_,b,I,S):"object"==typeof b&&(S=b),S&&("number"==typeof S.decimals&&(F=S.decimals),"number"==typeof S.strokeWidth&&(_.strokeWidth=S.strokeWidth),void 0!==S.fill&&(_.fill=S.fill),void 0!==S.stroke&&(_.stroke=S.stroke)),_.toSVG(F)},P.Font.prototype._renderPath=function(_,b,I,S){var F,O=S&&S.renderer||this.parent._renderer,W=O.drawingContext;F="object"==typeof _&&_.commands?_.commands:this._getPath(_,b,I,S).commands,W.beginPath();for(var B=0;B<F.length;B+=1){var k=F[B];"M"===k.type?W.moveTo(k.x,k.y):"L"===k.type?W.lineTo(k.x,k.y):"C"===k.type?W.bezierCurveTo(k.x1,k.y1,k.x2,k.y2,k.x,k.y):"Q"===k.type?W.quadraticCurveTo(k.x1,k.y1,k.x,k.y):"Z"===k.type&&W.closePath()}return O._doStroke&&O._strokeSet&&W.stroke(),O._doFill&&(W.fillStyle=O._fillSet?W.fillStyle:N._DEFAULT_TEXT_FILL,W.fill()),this},P.Font.prototype._textWidth=function(_,b){if(" "===_)return this.font.charToGlyph(" ").advanceWidth*this._scale(b);var I=this.textBounds(_,0,0,b);return I.w+I.advance},P.Font.prototype._textAscent=function(_){return this.font.ascender*this._scale(_)},P.Font.prototype._textDescent=function(_){return-this.font.descender*this._scale(_)},P.Font.prototype._scale=function(_){return 1/this.font.unitsPerEm*(_||this.parent._renderer._textSize)},P.Font.prototype._handleAlignment=function(_,b,I,S,F,O){var W=_._renderer._textSize,B=this._textAscent(W),k=this._textDescent(W);return O=void 0!==O?O:this._textWidth(I,W),b.textAlign===N.CENTER?S-=O/2:b.textAlign===N.RIGHT&&(S-=O),b.textBaseline===N.TOP?F+=B:b.textBaseline===N._CTX_MIDDLE?F+=B/2:b.textBaseline===N.BOTTOM&&(F-=k),{x:S,y:F}},C.exports=P.Font},{"../core/constants":38,"../core/core":39}],75:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.append=function(u,n){return u.push(n),u},h.prototype.arrayCopy=function(u,n,i,t,e){var s,a;void 0!==e?(a=Math.min(e,u.length),s=t,u=u.slice(n,a+n)):(void 0!==i?(a=i,a=Math.min(a,u.length)):a=u.length,s=0,i=n,u=u.slice(0,a)),Array.prototype.splice.apply(i,[s,a].concat(u))},h.prototype.concat=function(u,n){return u.concat(n)},h.prototype.reverse=function(u){return u.reverse()},h.prototype.shorten=function(u){return u.pop(),u},h.prototype.shuffle=function(u,n){for(var t,e,i=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(u),s=(u=n||i?u:u.slice()).length;s>1;)t=Math.random()*s|0,e=u[--s],u[s]=u[t],u[t]=e;return u},h.prototype.sort=function(u,n){var i=n?u.slice(0,Math.min(n,u.length)):u,t=n?u.slice(Math.min(n,u.length)):[];return(i="string"==typeof i[0]?i.sort():i.sort(function(e,s){return e-s})).concat(t)},h.prototype.splice=function(u,n,i){return Array.prototype.splice.apply(u,[i,0].concat(n)),u},h.prototype.subset=function(u,n,i){return u.slice(n,void 0!==i?n+i:u.length)},C.exports=h},{"../core/core":39}],76:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.float=function(u){return parseFloat(u)},h.prototype.int=function(u,n){return"string"==typeof u?(n=n||10,parseInt(u,n)):"number"==typeof u?0|u:"boolean"==typeof u?u?1:0:u instanceof Array?u.map(function(i){return h.prototype.int(i,n)}):void 0},h.prototype.str=function(u){return u instanceof Array?u.map(h.prototype.str):String(u)},h.prototype.boolean=function(u){return"number"==typeof u?0!==u:"string"==typeof u?"true"===u.toLowerCase():"boolean"==typeof u?u:u instanceof Array?u.map(h.prototype.boolean):void 0},h.prototype.byte=function(u){var n=h.prototype.int(u,10);return"number"==typeof n?(n+128)%256-128:n instanceof Array?n.map(h.prototype.byte):void 0},h.prototype.char=function(u){return"number"!=typeof u||isNaN(u)?u instanceof Array?u.map(h.prototype.char):"string"==typeof u?h.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},h.prototype.unchar=function(u){return"string"==typeof u&&1===u.length?u.charCodeAt(0):u instanceof Array?u.map(h.prototype.unchar):void 0},h.prototype.hex=function(u,n){if(n=null==n?n=8:n,u instanceof Array)return u.map(function(t){return h.prototype.hex(t,n)});if("number"==typeof u){u<0&&(u=4294967295+u+1);for(var i=Number(u).toString(16).toUpperCase();i.length<n;)i="0"+i;return i.length>=n&&(i=i.substring(i.length-n,i.length)),i}},h.prototype.unhex=function(u){return u instanceof Array?u.map(h.prototype.unhex):parseInt("0x"+u,16)},C.exports=h},{"../core/core":39}],77:[function(g,C,M){"use strict";function h(){var e=arguments[0],s=e<0,a=s?e.toString().substring(1):e.toString(),l=a.indexOf("."),p=-1!==l?a.substring(0,l):a,c=-1!==l?a.substring(l+1):"",m=s?"-":"";if(3===arguments.length){var f="";(-1!==l||arguments[2]-c.length>0)&&(f="."),c.length>arguments[2]&&(c=c.substring(0,arguments[2]));for(var d=0;d<arguments[1]-p.length;d++)m+="0";m+=p,m+=f,m+=c;for(var y=0;y<arguments[2]-c.length;y++)m+="0";return m}for(var v=0;v<Math.max(arguments[1]-p.length,0);v++)m+="0";return m+a}function u(){var e=arguments[0].toString(),s=e.indexOf("."),a=-1!==s?e.substring(s):"",l=-1!==s?e.substring(0,s):e;if(l=l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===arguments[1])a="";else if(void 0!==arguments[1])if(arguments[1]>a.length)for(var p=arguments[1]-(a+=-1===s?".":"").length+1,c=0;c<p;c++)a+="0";else a=a.substring(0,arguments[1]+1);return l+a}function n(){return parseFloat(arguments[0])>0?"+"+arguments[0].toString():arguments[0].toString()}function i(){return parseFloat(arguments[0])>0?" "+arguments[0].toString():arguments[0].toString()}var t=g("../core/core");t.prototype.join=function(e,s){return e.join(s)},t.prototype.match=function(e,s){return e.match(s)},t.prototype.matchAll=function(e,s){for(var a=new RegExp(s,"g"),l=a.exec(e),p=[];null!==l;)p.push(l),l=a.exec(e);return p},t.prototype.nf=function(){if(arguments[0]instanceof Array){var e=arguments[1],s=arguments[2];return arguments[0].map(function(a){return h(a,e,s)})}return"[object Arguments]"===Object.prototype.toString.call(arguments[0])?3===arguments[0].length?this.nf(arguments[0][0],arguments[0][1],arguments[0][2]):2===arguments[0].length?this.nf(arguments[0][0],arguments[0][1]):this.nf(arguments[0][0]):h.apply(this,arguments)},t.prototype.nfc=function(){if(arguments[0]instanceof Array){var e=arguments[1];return arguments[0].map(function(s){return u(s,e)})}return u.apply(this,arguments)},t.prototype.nfp=function(){var e=this.nf.apply(this,arguments);return e instanceof Array?e.map(n):n(e)},t.prototype.nfs=function(){var e=this.nf.apply(this,arguments);return e instanceof Array?e.map(i):i(e)},t.prototype.split=function(e,s){return e.split(s)},t.prototype.splitTokens=function(){var e,s,a,l;return l=arguments[1],arguments.length>1?(a=/\]/g.exec(l),(s=/\[/g.exec(l))&&a?(l=l.slice(0,a.index)+l.slice(a.index+1),s=/\[/g.exec(l),l=l.slice(0,s.index)+l.slice(s.index+1),e=new RegExp("[\\["+l+"\\]]","g")):a?(l=l.slice(0,a.index)+l.slice(a.index+1),e=new RegExp("["+l+"\\]]","g")):s?(l=l.slice(0,s.index)+l.slice(s.index+1),e=new RegExp("["+l+"\\[]","g")):e=new RegExp("["+l+"]","g")):e=/\s/g,arguments[0].split(e).filter(function(p){return p})},t.prototype.trim=function(e){return e instanceof Array?e.map(this.trim):e.trim()},C.exports=t},{"../core/core":39}],78:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.day=function(){return(new Date).getDate()},h.prototype.hour=function(){return(new Date).getHours()},h.prototype.minute=function(){return(new Date).getMinutes()},h.prototype.millis=function(){return window.performance.now()},h.prototype.month=function(){return(new Date).getMonth()+1},h.prototype.second=function(){return(new Date).getSeconds()},h.prototype.year=function(){return(new Date).getFullYear()},C.exports=h},{"../core/core":39}],79:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.camera=function(u,n,i){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this._validateParameters("camera",t,["Number","Number","Number"]),this._renderer.translate(-u,-n,-i)},h.prototype.perspective=function(u,n,i,t){for(var e=new Array(arguments.length),s=0;s<e.length;++s)e[s]=arguments[s];this._validateParameters("perspective",e,["Number","Number","Number","Number"]),this._renderer.uPMatrix=h.Matrix.identity(),this._renderer.uPMatrix.perspective(u,n,i,t),this._renderer._curCamera="custom"},h.prototype.ortho=function(u,n,i,t,e,s){for(var a=new Array(arguments.length),l=0;l<a.length;++l)a[l]=arguments[l];this._validateParameters("ortho",a,["Number","Number","Number","Number","Number","Number"]),u/=this.width,n/=this.width,t/=this.height,i/=this.height,this._renderer.uPMatrix=h.Matrix.identity(),this._renderer.uPMatrix.ortho(u,n,i,t,e,s),this._renderer._curCamera="custom"},C.exports=h},{"../core/core":39}],80:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.orbitControl=function(){return this.mouseIsPressed&&(this.rotateY((this.mouseX-this.width/2)/(this.width/2)),this.rotateX((this.mouseY-this.height/2)/(this.width/2))),this},C.exports=h},{"../core/core":39}],81:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.ambientLight=function(u,n,i,t){var e=this._renderer.GL,s=this._renderer._getShader("lightVert","lightTextureFrag");e.useProgram(s),s.uAmbientColor=e.getUniformLocation(s,"uAmbientColor["+this._renderer.ambientLightCount+"]");var a=this._renderer._pInst.color.apply(this._renderer._pInst,arguments),l=a._array;return e.uniform3f(s.uAmbientColor,l[0],l[1],l[2]),s.uMaterialColor=e.getUniformLocation(s,"uMaterialColor"),e.uniform4f(s.uMaterialColor,1,1,1,1),this._renderer.ambientLightCount++,s.uAmbientLightCount=e.getUniformLocation(s,"uAmbientLightCount"),e.uniform1i(s.uAmbientLightCount,this._renderer.ambientLightCount),this},h.prototype.directionalLight=function(u,n,i,t,e,s,a){var l=this._renderer.GL,p=this._renderer._getShader("lightVert","lightTextureFrag");l.useProgram(p),p.uDirectionalColor=l.getUniformLocation(p,"uDirectionalColor["+this._renderer.directionalLightCount+"]");var c=this._renderer._pInst.color.apply(this._renderer._pInst,[u,n,i]),m=c._array;l.uniform3f(p.uDirectionalColor,m[0],m[1],m[2]);for(var f,d,y,v=new Array(arguments.length),x=0;x<v.length;++x)v[x]=arguments[x];if("number"==typeof v[v.length-1])f=v[v.length-3],d=v[v.length-2],y=v[v.length-1];else try{f=v[v.length-1].x,d=v[v.length-1].y,y=v[v.length-1].z}catch(w){throw w}return p.uLightingDirection=l.getUniformLocation(p,"uLightingDirection["+this._renderer.directionalLightCount+"]"),l.uniform3f(p.uLightingDirection,f,d,y),p.uMaterialColor=l.getUniformLocation(p,"uMaterialColor"),l.uniform4f(p.uMaterialColor,1,1,1,1),this._renderer.directionalLightCount++,p.uDirectionalLightCount=l.getUniformLocation(p,"uDirectionalLightCount"),l.uniform1i(p.uDirectionalLightCount,this._renderer.directionalLightCount),this},h.prototype.pointLight=function(u,n,i,t,e,s,a){var l=this._renderer.GL,p=this._renderer._getShader("lightVert","lightTextureFrag");l.useProgram(p),p.uPointLightColor=l.getUniformLocation(p,"uPointLightColor["+this._renderer.pointLightCount+"]");var c=this._renderer._pInst.color.apply(this._renderer._pInst,[u,n,i]),m=c._array;l.uniform3f(p.uPointLightColor,m[0],m[1],m[2]);for(var f,d,y,v=new Array(arguments.length),x=0;x<v.length;++x)v[x]=arguments[x];if("number"==typeof v[v.length-1])f=v[v.length-3],d=v[v.length-2],y=v[v.length-1];else try{f=v[v.length-1].x,d=v[v.length-1].y,y=v[v.length-1].z}catch(w){throw w}return p.uPointLightLocation=l.getUniformLocation(p,"uPointLightLocation["+this._renderer.pointLightCount+"]"),l.uniform3f(p.uPointLightLocation,f,d,y),p.uMaterialColor=l.getUniformLocation(p,"uMaterialColor"),l.uniform4f(p.uMaterialColor,1,1,1,1),this._renderer.pointLightCount++,p.uPointLightCount=l.getUniformLocation(p,"uPointLightCount"),l.uniform1i(p.uPointLightCount,this._renderer.pointLightCount),this},C.exports=h},{"../core/core":39}],82:[function(g,C,M){"use strict";function h(n,i){for(var t={v:[],vt:[],vn:[]},e={},s=0;s<i.length;++s){var a=i[s].trim().split(/\b\s+/);if(a.length>0)if("v"===a[0]||"vn"===a[0]){var l=new u.Vector(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));t[a[0]].push(l)}else if("vt"===a[0]){var p=[parseFloat(a[1]),parseFloat(a[2])];t[a[0]].push(p)}else if("f"===a[0])for(var c=3;c<a.length;++c){for(var m=[],f=[1,c-1,c],d=0;d<f.length;++d){var y=a[f[d]],v=0;if(void 0!==e[y])v=e[y];else{for(var x=y.split("/"),w=0;w<x.length;w++)x[w]=parseInt(x[w])-1;v=e[y]=n.vertices.length,n.vertices.push(t.v[x[0]].copy()),n.uvs.push(t.vt[x[1]]?t.vt[x[1]].slice():[0,0]),t.vn[x[2]]&&n.vertexNormals.push(t.vn[x[2]].copy())}m.push(v)}n.faces.push(m)}}return 0===n.vertexNormals.length&&n.computeNormals(),n}var u=g("../core/core");g("./p5.Geometry"),u.prototype.loadModel=function(){var n,i,t,e=arguments[0];"boolean"==typeof arguments[1]?(n=arguments[1],i=arguments[2],t=arguments[3]):(n=!1,i=arguments[1],t=arguments[2]);var s=new u.Geometry;return s.gid=e+"|"+n,this.loadStrings(e,function(a){h(s,a),n&&s.normalize(),"function"==typeof i&&i(s)}.bind(this),t),s},u.prototype.model=function(n){n.vertices.length>0&&(this._renderer.geometryInHash(n.gid)||this._renderer.createBuffers(n.gid,n),this._renderer.drawBuffers(n.gid))},C.exports=u},{"../core/core":39,"./p5.Geometry":84}],83:[function(g,C,M){"use strict";var h=g("../core/core");h.prototype.normalMaterial=function(){return this._renderer._getShader("normalVert","normalFrag"),this},h.prototype.texture=function(){for(var u=new Array(arguments.length),n=0;n<u.length;++n)u[n]=arguments[n];var e,i=this._renderer.GL,t=this._renderer._getShader("lightVert","lightTextureFrag");if(i.useProgram(t),u[0].isTexture)u[0]instanceof h.Graphics||void 0!==h.MediaElement&&u[0]instanceof h.MediaElement?e=u[0].elt:u[0]instanceof h.Image&&(e=u[0].canvas),this._renderer._bind.call(this,u[0].tex,e);else{if(u[0]instanceof h.Image)e=u[0].canvas;else if(void 0!==h.MediaElement&&u[0]instanceof h.MediaElement){if(!u[0].loadedmetadata)return;e=u[0].elt}else u[0]instanceof h.Graphics&&(e=u[0].elt);var s=i.createTexture();u[0]._setProperty("tex",s),u[0]._setProperty("isTexture",!0),this._renderer._bind.call(this,s,e)}return i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,u[0].tex),i.uniform1i(i.getUniformLocation(t,"isTexture"),!0),i.uniform1i(i.getUniformLocation(t,"uSampler"),0),this},h.RendererGL.prototype._bind=function(u,n){var i=this._renderer.GL;i.bindTexture(i.TEXTURE_2D,u),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindTexture(i.TEXTURE_2D,null)},h.prototype.ambientMaterial=function(u,n,i,t){var e=this._renderer.GL,s=this._renderer._getShader("lightVert","lightTextureFrag");e.useProgram(s),s.uMaterialColor=e.getUniformLocation(s,"uMaterialColor");var a=this._renderer._applyColorBlend.apply(this._renderer,arguments);return e.uniform4f(s.uMaterialColor,a[0],a[1],a[2],a[3]),s.uSpecular=e.getUniformLocation(s,"uSpecular"),e.uniform1i(s.uSpecular,!1),e.uniform1i(e.getUniformLocation(s,"isTexture"),!1),this},h.prototype.specularMaterial=function(u,n,i,t){var e=this._renderer.GL,s=this._renderer._getShader("lightVert","lightTextureFrag");e.useProgram(s),e.uniform1i(e.getUniformLocation(s,"isTexture"),!1),s.uMaterialColor=e.getUniformLocation(s,"uMaterialColor");var a=this._renderer._applyColorBlend.apply(this._renderer,arguments);return e.uniform4f(s.uMaterialColor,a[0],a[1],a[2],a[3]),s.uSpecular=e.getUniformLocation(s,"uSpecular"),e.uniform1i(s.uSpecular,!0),this},h.RendererGL.prototype._applyColorBlend=function(u,n,i,t){var e=this.GL,s=this._pInst.color.apply(this._pInst,arguments),a=s._array;return a[a.length-1]<1?(e.depthMask(!1),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)):(e.depthMask(!0),e.disable(e.BLEND)),a},C.exports=h},{"../core/core":39}],84:[function(g,C,M){"use strict";var h=g("../core/core");h.Geometry=function(u,n,i){return this.vertices=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.detailX=void 0!==u?u:1,this.detailY=void 0!==n?n:1,i instanceof Function&&i.call(this),this},h.Geometry.prototype.computeFaces=function(){for(var n,i,t,e=this.detailX+1,s=0;s<this.detailY;s++)for(var a=0;a<this.detailX;a++)i=(s+1)*e+a+1,this.faces.push([s*e+a,n=s*e+a+1,t=(s+1)*e+a]),this.faces.push([t,n,i]);return this},h.Geometry.prototype._getFaceNormal=function(u,n){var i=this.faces[u],t=this.vertices[i[n%3]],e=this.vertices[i[(n+1)%3]],s=this.vertices[i[(n+2)%3]],a=h.Vector.cross(h.Vector.sub(e,t),h.Vector.sub(s,t)),l=h.Vector.mag(a)/(h.Vector.mag(h.Vector.sub(e,t))*h.Vector.mag(h.Vector.sub(s,t)));return(a=a.normalize()).mult(Math.asin(l))},h.Geometry.prototype.computeNormals=function(){for(var u=0;u<this.vertices.length;u++){for(var n=new h.Vector,i=0;i<this.faces.length;i++)this.faces[i][0]!==u&&this.faces[i][1]!==u&&this.faces[i][2]!==u||(n=n.add(this._getFaceNormal(i,u)));n=n.normalize(),this.vertexNormals.push(n)}return this},h.Geometry.prototype.averageNormals=function(){for(var u=0;u<=this.detailY;u++){var n=this.detailX+1,i=h.Vector.add(this.vertexNormals[u*n],this.vertexNormals[u*n+this.detailX]);i=h.Vector.div(i,2),this.vertexNormals[u*n]=i,this.vertexNormals[u*n+this.detailX]=i}return this},h.Geometry.prototype.averagePoleNormals=function(){for(var u=new h.Vector(0,0,0),n=0;n<this.detailX;n++)u.add(this.vertexNormals[n]);for(u=h.Vector.div(u,this.detailX),n=0;n<this.detailX;n++)this.vertexNormals[n]=u;for(u=new h.Vector(0,0,0),n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)u.add(this.vertexNormals[n]);for(u=h.Vector.div(u,this.detailX),n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)this.vertexNormals[n]=u;return this},h.Geometry.prototype.normalize=function(){if(this.vertices.length>0){for(var u=this.vertices[0].copy(),n=this.vertices[0].copy(),i=0;i<this.vertices.length;i++)u.x=Math.max(u.x,this.vertices[i].x),n.x=Math.min(n.x,this.vertices[i].x),u.y=Math.max(u.y,this.vertices[i].y),n.y=Math.min(n.y,this.vertices[i].y),u.z=Math.max(u.z,this.vertices[i].z),n.z=Math.min(n.z,this.vertices[i].z);var t=h.Vector.lerp(u,n,.5),e=h.Vector.sub(u,n),a=200/Math.max(Math.max(e.x,e.y),e.z);for(i=0;i<this.vertices.length;i++)this.vertices[i].sub(t),this.vertices[i].mult(a)}return this},C.exports=h.Geometry},{"../core/core":39}],85:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("../math/polargeometry"),n=g("../core/constants"),i="undefined"!=typeof Float32Array?Float32Array:Array;h.Matrix=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];return t[0]instanceof h?(this.p5=t[0],"mat3"===t[1]?this.mat3=t[2]||new i([1,0,0,0,1,0,0,0,1]):this.mat4=t[1]||new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])):"mat3"===t[0]?this.mat3=t[1]||new i([1,0,0,0,1,0,0,0,1]):this.mat4=t[0]||new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},h.Matrix.prototype.set=function(t){return t instanceof h.Matrix?(this.mat4=t.mat4,this):t instanceof i?(this.mat4=t,this):this},h.Matrix.prototype.get=function(){return new h.Matrix(this.mat4)},h.Matrix.prototype.copy=function(){var t=new h.Matrix;return t.mat4[0]=this.mat4[0],t.mat4[1]=this.mat4[1],t.mat4[2]=this.mat4[2],t.mat4[3]=this.mat4[3],t.mat4[4]=this.mat4[4],t.mat4[5]=this.mat4[5],t.mat4[6]=this.mat4[6],t.mat4[7]=this.mat4[7],t.mat4[8]=this.mat4[8],t.mat4[9]=this.mat4[9],t.mat4[10]=this.mat4[10],t.mat4[11]=this.mat4[11],t.mat4[12]=this.mat4[12],t.mat4[13]=this.mat4[13],t.mat4[14]=this.mat4[14],t.mat4[15]=this.mat4[15],t},h.Matrix.identity=function(){return new h.Matrix},h.Matrix.prototype.transpose=function(t){var e,s,a,l,p,c;return t instanceof h.Matrix?(e=t.mat4[1],s=t.mat4[2],a=t.mat4[3],l=t.mat4[6],p=t.mat4[7],c=t.mat4[11],this.mat4[0]=t.mat4[0],this.mat4[1]=t.mat4[4],this.mat4[2]=t.mat4[8],this.mat4[3]=t.mat4[12],this.mat4[4]=e,this.mat4[5]=t.mat4[5],this.mat4[6]=t.mat4[9],this.mat4[7]=t.mat4[13],this.mat4[8]=s,this.mat4[9]=l,this.mat4[10]=t.mat4[10],this.mat4[11]=t.mat4[14],this.mat4[12]=a,this.mat4[13]=p,this.mat4[14]=c,this.mat4[15]=t.mat4[15]):t instanceof i&&(e=t[1],s=t[2],a=t[3],l=t[6],p=t[7],c=t[11],this.mat4[0]=t[0],this.mat4[1]=t[4],this.mat4[2]=t[8],this.mat4[3]=t[12],this.mat4[4]=e,this.mat4[5]=t[5],this.mat4[6]=t[9],this.mat4[7]=t[13],this.mat4[8]=s,this.mat4[9]=l,this.mat4[10]=t[10],this.mat4[11]=t[14],this.mat4[12]=a,this.mat4[13]=p,this.mat4[14]=c,this.mat4[15]=t[15]),this},h.Matrix.prototype.invert=function(t){var e,s,a,l,p,c,m,f,d,y,v,x,w,T,E,R;t instanceof h.Matrix?(e=t.mat4[0],s=t.mat4[1],a=t.mat4[2],l=t.mat4[3],p=t.mat4[4],c=t.mat4[5],m=t.mat4[6],f=t.mat4[7],d=t.mat4[8],y=t.mat4[9],v=t.mat4[10],x=t.mat4[11],w=t.mat4[12],T=t.mat4[13],E=t.mat4[14],R=t.mat4[15]):t instanceof i&&(e=t[0],s=t[1],a=t[2],l=t[3],p=t[4],c=t[5],m=t[6],f=t[7],d=t[8],y=t[9],v=t[10],x=t[11],w=t[12],T=t[13],E=t[14],R=t[15]);var P=e*c-s*p,N=e*m-a*p,_=e*f-l*p,b=s*m-a*c,I=s*f-l*c,S=a*f-l*m,F=d*T-y*w,O=d*E-v*w,W=d*R-x*w,B=y*E-v*T,k=y*R-x*T,H=v*R-x*E,q=P*H-N*k+_*B+b*W-I*O+S*F;return q?(this.mat4[0]=(c*H-m*k+f*B)*(q=1/q),this.mat4[1]=(a*k-s*H-l*B)*q,this.mat4[2]=(T*S-E*I+R*b)*q,this.mat4[3]=(v*I-y*S-x*b)*q,this.mat4[4]=(m*W-p*H-f*O)*q,this.mat4[5]=(e*H-a*W+l*O)*q,this.mat4[6]=(E*_-w*S-R*N)*q,this.mat4[7]=(d*S-v*_+x*N)*q,this.mat4[8]=(p*k-c*W+f*F)*q,this.mat4[9]=(s*W-e*k-l*F)*q,this.mat4[10]=(w*I-T*_+R*P)*q,this.mat4[11]=(y*_-d*I-x*P)*q,this.mat4[12]=(c*O-p*B-m*F)*q,this.mat4[13]=(e*B-s*O+a*F)*q,this.mat4[14]=(T*N-w*b-E*P)*q,this.mat4[15]=(d*b-y*N+v*P)*q,this):null},h.Matrix.prototype.invert3x3=function(){var t=this.mat3[0],e=this.mat3[1],s=this.mat3[2],a=this.mat3[3],l=this.mat3[4],p=this.mat3[5],c=this.mat3[6],m=this.mat3[7],f=this.mat3[8],d=f*l-p*m,y=-f*a+p*c,v=m*a-l*c,x=t*d+e*y+s*v;return x?(this.mat3[0]=d*(x=1/x),this.mat3[1]=(-f*e+s*m)*x,this.mat3[2]=(p*e-s*l)*x,this.mat3[3]=y*x,this.mat3[4]=(f*t-s*c)*x,this.mat3[5]=(-p*t+s*a)*x,this.mat3[6]=v*x,this.mat3[7]=(-m*t+e*c)*x,this.mat3[8]=(l*t-e*a)*x,this):null},h.Matrix.prototype.transpose3x3=function(t){var e=t[1],s=t[2],a=t[5];return this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=e,this.mat3[5]=t[7],this.mat3[6]=s,this.mat3[7]=a,this},h.Matrix.prototype.inverseTranspose=function(t){return void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=t.mat4[0],this.mat3[1]=t.mat4[1],this.mat3[2]=t.mat4[2],this.mat3[3]=t.mat4[4],this.mat3[4]=t.mat4[5],this.mat3[5]=t.mat4[6],this.mat3[6]=t.mat4[8],this.mat3[7]=t.mat4[9],this.mat3[8]=t.mat4[10]),this.invert3x3().transpose3x3(this.mat3),this},h.Matrix.prototype.determinant=function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])},h.Matrix.prototype.mult=function(t){var e=new i(16),s=new i(16);t instanceof h.Matrix?s=t.mat4:t instanceof i&&(s=t);var a=this.mat4[0],l=this.mat4[1],p=this.mat4[2],c=this.mat4[3];return e[0]=a*s[0]+l*s[4]+p*s[8]+c*s[12],e[1]=a*s[1]+l*s[5]+p*s[9]+c*s[13],e[2]=a*s[2]+l*s[6]+p*s[10]+c*s[14],e[3]=a*s[3]+l*s[7]+p*s[11]+c*s[15],e[4]=(a=this.mat4[4])*s[0]+(l=this.mat4[5])*s[4]+(p=this.mat4[6])*s[8]+(c=this.mat4[7])*s[12],e[5]=a*s[1]+l*s[5]+p*s[9]+c*s[13],e[6]=a*s[2]+l*s[6]+p*s[10]+c*s[14],e[7]=a*s[3]+l*s[7]+p*s[11]+c*s[15],e[8]=(a=this.mat4[8])*s[0]+(l=this.mat4[9])*s[4]+(p=this.mat4[10])*s[8]+(c=this.mat4[11])*s[12],e[9]=a*s[1]+l*s[5]+p*s[9]+c*s[13],e[10]=a*s[2]+l*s[6]+p*s[10]+c*s[14],e[11]=a*s[3]+l*s[7]+p*s[11]+c*s[15],e[12]=(a=this.mat4[12])*s[0]+(l=this.mat4[13])*s[4]+(p=this.mat4[14])*s[8]+(c=this.mat4[15])*s[12],e[13]=a*s[1]+l*s[5]+p*s[9]+c*s[13],e[14]=a*s[2]+l*s[6]+p*s[10]+c*s[14],e[15]=a*s[3]+l*s[7]+p*s[11]+c*s[15],this.mat4=e,this},h.Matrix.prototype.scale=function(){for(var t,e,s,a=new Array(arguments.length),l=0;l<a.length;++l)a[l]=arguments[l];a[0]instanceof h.Vector?(t=a[0].x,e=a[0].y,s=a[0].z):a[0]instanceof Array&&(t=a[0][0],e=a[0][1],s=a[0][2]);var p=new i(16);return p[0]=this.mat4[0]*t,p[1]=this.mat4[1]*t,p[2]=this.mat4[2]*t,p[3]=this.mat4[3]*t,p[4]=this.mat4[4]*e,p[5]=this.mat4[5]*e,p[6]=this.mat4[6]*e,p[7]=this.mat4[7]*e,p[8]=this.mat4[8]*s,p[9]=this.mat4[9]*s,p[10]=this.mat4[10]*s,p[11]=this.mat4[11]*s,p[12]=this.mat4[12],p[13]=this.mat4[13],p[14]=this.mat4[14],p[15]=this.mat4[15],this.mat4=p,this},h.Matrix.prototype.rotate=function(t,e){var s,a,l,p,c;this.p5?this.p5._angleMode===n.DEGREES&&(p=u.degreesToRadians(t)):p=t,e instanceof h.Vector?(s=e.x,a=e.y,l=e.z):e instanceof Array&&(s=e[0],a=e[1],l=e[2]),s*=1/(c=Math.sqrt(s*s+a*a+l*l)),a*=1/c,l*=1/c;var m=this.mat4[0],f=this.mat4[1],d=this.mat4[2],y=this.mat4[3],v=this.mat4[4],x=this.mat4[5],w=this.mat4[6],T=this.mat4[7],E=this.mat4[8],R=this.mat4[9],P=this.mat4[10],N=this.mat4[11],_=Math.sin(p),b=Math.cos(p),I=1-b,S=s*s*I+b,F=a*s*I+l*_,O=l*s*I-a*_,W=s*a*I-l*_,B=a*a*I+b,k=l*a*I+s*_,H=s*l*I+a*_,q=a*l*I-s*_,Z=l*l*I+b;return this.mat4[0]=m*S+v*F+E*O,this.mat4[1]=f*S+x*F+R*O,this.mat4[2]=d*S+w*F+P*O,this.mat4[3]=y*S+T*F+N*O,this.mat4[4]=m*W+v*B+E*k,this.mat4[5]=f*W+x*B+R*k,this.mat4[6]=d*W+w*B+P*k,this.mat4[7]=y*W+T*B+N*k,this.mat4[8]=m*H+v*q+E*Z,this.mat4[9]=f*H+x*q+R*Z,this.mat4[10]=d*H+w*q+P*Z,this.mat4[11]=y*H+T*q+N*Z,this},h.Matrix.prototype.translate=function(t){var e=t[0],s=t[1],a=t[2]||0;this.mat4[12]=this.mat4[0]*e+this.mat4[4]*s+this.mat4[8]*a+this.mat4[12],this.mat4[13]=this.mat4[1]*e+this.mat4[5]*s+this.mat4[9]*a+this.mat4[13],this.mat4[14]=this.mat4[2]*e+this.mat4[6]*s+this.mat4[10]*a+this.mat4[14],this.mat4[15]=this.mat4[3]*e+this.mat4[7]*s+this.mat4[11]*a+this.mat4[15]},h.Matrix.prototype.rotateX=function(t){this.rotate(t,[1,0,0])},h.Matrix.prototype.rotateY=function(t){this.rotate(t,[0,1,0])},h.Matrix.prototype.rotateZ=function(t){this.rotate(t,[0,0,1])},h.Matrix.prototype.perspective=function(t,e,s,a){var l=1/Math.tan(t/2),p=1/(s-a);return this.mat4[0]=l/e,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=l,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(a+s)*p,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*a*s*p,this.mat4[15]=0,this},h.Matrix.prototype.ortho=function(t,e,s,a,l,p){var c=1/(t-e),m=1/(s-a),f=1/(l-p);return this.mat4[0]=-2*c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*m,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*f,this.mat4[11]=0,this.mat4[12]=(t+e)*c,this.mat4[13]=(a+s)*m,this.mat4[14]=(p+l)*f,this.mat4[15]=1,this},C.exports=h.Matrix},{"../core/constants":38,"../core/core":39,"../math/polargeometry":69}],86:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("../core/constants");h.RendererGL.prototype.beginShape=function(n){return this.immediateMode.shapeMode=void 0!==n?n:u.LINE_STRIP,void 0===this.immediateMode.vertexPositions?(this.immediateMode.vertexPositions=[],this.immediateMode.vertexColors=[],this.immediateMode.vertexBuffer=this.GL.createBuffer(),this.immediateMode.colorBuffer=this.GL.createBuffer()):(this.immediateMode.vertexPositions.length=0,this.immediateMode.vertexColors.length=0),this.isImmediateDrawing=!0,this},h.RendererGL.prototype.vertex=function(n,i,t){this.immediateMode.vertexPositions.push(n,i,t);var e=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.vertexColors.push(e[0],e[1],e[2],e[3]),this},h.RendererGL.prototype.endShape=function(n,i,t,e,s,a){var l=this.GL;if(this._bindImmediateBuffers(this.immediateMode.vertexPositions,this.immediateMode.vertexColors),n)if("fill"===this.drawMode)switch(this.immediateMode.shapeMode){case u.LINE_STRIP:case u.LINES:case u.TRIANGLES:this.immediateMode.shapeMode=u.TRIANGLE_FAN}else switch(this.immediateMode.shapeMode){case u.LINE_STRIP:case u.LINES:this.immediateMode.shapeMode=u.LINE_LOOP}if(this.immediateMode.shapeMode===u.QUADS||this.immediateMode.shapeMode===u.QUAD_STRIP)throw new Error("sorry, "+this.immediateMode.shapeMode+" not yet implemented in webgl mode.");return l.enable(l.BLEND),l.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.vertexPositions.length/3),this.immediateMode.vertexPositions.length=0,this.immediateMode.vertexColors.length=0,this.isImmediateDrawing=!1,this},h.RendererGL.prototype._bindImmediateBuffers=function(n,i){this._setDefaultCamera();var t=this.GL,e=this._getCurShaderId(),s=this.mHash[e];return s.vertexPositionAttribute=t.getAttribLocation(s,"aPosition"),t.enableVertexAttribArray(s.vertexPositionAttribute),t.bindBuffer(t.ARRAY_BUFFER,this.immediateMode.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.DYNAMIC_DRAW),t.vertexAttribPointer(s.vertexPositionAttribute,3,t.FLOAT,!1,0,0),s.vertexColorAttribute=t.getAttribLocation(s,"aVertexColor"),t.enableVertexAttribArray(s.vertexColorAttribute),t.bindBuffer(t.ARRAY_BUFFER,this.immediateMode.colorBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.DYNAMIC_DRAW),t.vertexAttribPointer(s.vertexColorAttribute,4,t.FLOAT,!1,0,0),this._setMatrixUniforms(e),this},h.RendererGL.prototype._getColorVertexShader=function(){var n,i=this.GL,t="immediateVert|vertexColorFrag";return this.materialInHash(t)?n=this.mHash[t]:(n=this._initShaders("immediateVert","vertexColorFrag",!0),this.mHash[t]=n,n.vertexColorAttribute=i.getAttribLocation(n,"aVertexColor"),i.enableVertexAttribArray(n.vertexColorAttribute)),n},C.exports=h.RendererGL},{"../core/constants":38,"../core/core":39}],87:[function(g,C,M){"use strict";function h(t){return t.length>0?t.reduce(function(e,s){return e.concat(s)}):[]}function u(t){return h(t.map(function(e){return[e.x,e.y,e.z]}))}var n=g("../core/core"),i=0;n.RendererGL.prototype._initBufferDefaults=function(t){if(++i>1e3){var e=Object.keys(this.gHash)[0];delete this.gHash[e],i--}var s=this.GL;this.gHash[t]={},this.gHash[t].vertexBuffer=s.createBuffer(),this.gHash[t].normalBuffer=s.createBuffer(),this.gHash[t].uvBuffer=s.createBuffer(),this.gHash[t].indexBuffer=s.createBuffer()},n.RendererGL.prototype.createBuffers=function(t,e){var s=this.GL;this._setDefaultCamera(),this._initBufferDefaults(t);var a=this.mHash[this._getCurShaderId()];this.gHash[t].numberOfItems=3*e.faces.length,s.bindBuffer(s.ARRAY_BUFFER,this.gHash[t].vertexBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(u(e.vertices)),s.STATIC_DRAW),a.vertexPositionAttribute=s.getAttribLocation(a,"aPosition"),s.enableVertexAttribArray(a.vertexPositionAttribute),s.vertexAttribPointer(a.vertexPositionAttribute,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.gHash[t].normalBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(u(e.vertexNormals)),s.STATIC_DRAW),a.vertexNormalAttribute=s.getAttribLocation(a,"aNormal"),s.enableVertexAttribArray(a.vertexNormalAttribute),s.vertexAttribPointer(a.vertexNormalAttribute,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.gHash[t].uvBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(h(e.uvs)),s.STATIC_DRAW),a.textureCoordAttribute=s.getAttribLocation(a,"aTexCoord"),s.enableVertexAttribArray(a.textureCoordAttribute),s.vertexAttribPointer(a.textureCoordAttribute,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.gHash[t].indexBuffer),s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint16Array(h(e.faces)),s.STATIC_DRAW)},n.RendererGL.prototype.drawBuffers=function(t){this._setDefaultCamera();var e=this.GL,s=this._getCurShaderId(),a=this.mHash[s];return e.bindBuffer(e.ARRAY_BUFFER,this.gHash[t].vertexBuffer),e.vertexAttribPointer(a.vertexPositionAttribute,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.gHash[t].normalBuffer),e.vertexAttribPointer(a.vertexNormalAttribute,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.gHash[t].uvBuffer),e.vertexAttribPointer(a.textureCoordAttribute,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.gHash[t].indexBuffer),this._setMatrixUniforms(s),e.drawElements(e.TRIANGLES,this.gHash[t].numberOfItems,e.UNSIGNED_SHORT,0),this},C.exports=n.RendererGL},{"../core/core":39}],88:[function(g,C,M){"use strict";var h=g("../core/core"),u=g("./shader");g("../core/p5.Renderer"),g("./p5.Matrix");var n=[],i=1e3,t={alpha:!0,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1};h.RendererGL=function(e,s,a){return h.Renderer.call(this,e,s,a),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this.ambientLightCount=0,this.directionalLightCount=0,this.pointLightCount=0,this._curCamera=null,this.uMVMatrix=new h.Matrix,this.uPMatrix=new h.Matrix,this.uNMatrix=new h.Matrix("mat3"),this.gHash={},this.mHash={},this.isImmediateDrawing=!1,this.immediateMode={},this.curFillColor=[.5,.5,.5,1],this.curStrokeColor=[.5,.5,.5,1],this.pointSize=5,this},h.RendererGL.prototype=Object.create(h.Renderer.prototype),h.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t),null===this.drawingContext)throw new Error("Error creating webgl context");console.log("p5.RendererGL: enabled webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)}catch(s){throw new Error(s)}},h.RendererGL.prototype._setDefaultCamera=function(){if(null===this._curCamera){var e=this.width,s=this.height;this.uPMatrix=h.Matrix.identity(),this.uPMatrix.perspective(60/180*Math.PI,e/s,.1,100),this._curCamera="default"}},h.RendererGL.prototype._update=function(){this.uMVMatrix=h.Matrix.identity(),this.translate(0,0,-this.height/2/Math.tan(30*Math.PI/180)),this.ambientLightCount=0,this.directionalLightCount=0,this.pointLightCount=0},h.RendererGL.prototype.background=function(){var e=this.GL,s=this._pInst.color.apply(this._pInst,arguments),a=s.levels[0]/255,l=s.levels[1]/255,p=s.levels[2]/255,c=s.levels[3]/255;e.clearColor(a,l,p,c),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},h.RendererGL.prototype._initShaders=function(e,s,a){var l=this.GL,p=l.createShader(l.VERTEX_SHADER);if(l.shaderSource(p,u[e]),l.compileShader(p),!l.getShaderParameter(p,l.COMPILE_STATUS))return alert("Yikes! An error occurred compiling the shaders:"+l.getShaderInfoLog(p)),null;var c=l.createShader(l.FRAGMENT_SHADER);if(l.shaderSource(c,u[s]),l.compileShader(c),!l.getShaderParameter(c,l.COMPILE_STATUS))return alert("Darn! An error occurred compiling the shaders:"+l.getShaderInfoLog(c)),null;var m=l.createProgram();return l.attachShader(m,p),l.attachShader(m,c),l.linkProgram(m),l.getProgramParameter(m,l.LINK_STATUS)||alert("Snap! Error linking shader program"),this._getLocation(m,a),m},h.RendererGL.prototype._getLocation=function(e,s){var a=this.GL;a.useProgram(e),e.uResolution=a.getUniformLocation(e,"uResolution"),a.uniform1f(e.uResolution,i),e.uPMatrixUniform=a.getUniformLocation(e,"uProjectionMatrix"),e.uMVMatrixUniform=a.getUniformLocation(e,"uModelViewMatrix"),void 0===s&&(e.uNMatrixUniform=a.getUniformLocation(e,"uNormalMatrix"),e.samplerUniform=a.getUniformLocation(e,"uSampler"))},h.RendererGL.prototype._setUniform1f=function(e,s,a){var l=this.GL,p=this.mHash[e];return l.useProgram(p),p[s]=l.getUniformLocation(p,s),l.uniform1f(p[s],a),this},h.RendererGL.prototype._setMatrixUniforms=function(e){var s=this.GL,a=this.mHash[e];s.useProgram(a),s.uniformMatrix4fv(a.uPMatrixUniform,!1,this.uPMatrix.mat4),s.uniformMatrix4fv(a.uMVMatrixUniform,!1,this.uMVMatrix.mat4),this.uNMatrix.inverseTranspose(this.uMVMatrix),s.uniformMatrix3fv(a.uNMatrixUniform,!1,this.uNMatrix.mat3)},h.RendererGL.prototype._getShader=function(e,s,a){var l=e+"|"+s;if(!this.materialInHash(l)){var p=this._initShaders(e,s,a);this.mHash[l]=p}return this.curShaderId=l,this.mHash[this.curShaderId]},h.RendererGL.prototype._getCurShaderId=function(){var e,s;return"fill"!==this.drawMode&&void 0===this.curShaderId?(e="normalVert|normalFrag",s=this._initShaders("normalVert","normalFrag"),this.mHash[e]=s,this.curShaderId=e):this.isImmediateDrawing&&"fill"===this.drawMode&&(e="immediateVert|vertexColorFrag",s=this._initShaders("immediateVert","vertexColorFrag"),this.mHash[e]=s,this.curShaderId=e),this.curShaderId},h.RendererGL.prototype.fill=function(e,s,a,l){var p,c=this.GL,m=this._applyColorBlend.apply(this,arguments);return this.curFillColor=m,this.drawMode="fill",this.isImmediateDrawing?(p=this._getShader("immediateVert","vertexColorFrag"),c.useProgram(p)):(p=this._getShader("normalVert","basicFrag"),c.useProgram(p),p.uMaterialColor=c.getUniformLocation(p,"uMaterialColor"),c.uniform4f(p.uMaterialColor,m[0],m[1],m[2],m[3])),this},h.RendererGL.prototype.stroke=function(e,s,a,l){var p=this._pInst.color.apply(this._pInst,arguments),c=p._array;return this.curStrokeColor=c,this.drawMode="stroke",this},h.RendererGL.prototype._strokeCheck=function(){if("stroke"===this.drawMode)throw new Error("stroke for shapes in 3D not yet implemented, use fill for now :(")},h.RendererGL.prototype.strokeWeight=function(e){return this.pointSize=e,this},h.RendererGL.prototype.geometryInHash=function(e){return void 0!==this.gHash[e]},h.RendererGL.prototype.materialInHash=function(e){return void 0!==this.mHash[e]},h.RendererGL.prototype.resize=function(e,s){var a=this.GL;h.Renderer.prototype.resize.call(this,e,s),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),"default"===this._curCamera&&(this._curCamera=null,this._setDefaultCamera())},h.RendererGL.prototype.clear=function(){var e=this.GL;e.clearColor(arguments[0],arguments[1],arguments[2],arguments[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},h.RendererGL.prototype.translate=function(e,s,a){return this.uMVMatrix.translate([e/=i,s=-s/i,a/=i]),this},h.RendererGL.prototype.scale=function(e,s,a){return this.uMVMatrix.scale([e,s,a]),this},h.RendererGL.prototype.rotate=function(e,s){return this.uMVMatrix.rotate(e,s),this},h.RendererGL.prototype.rotateX=function(e){return this.rotate(e,[1,0,0]),this},h.RendererGL.prototype.rotateY=function(e){return this.rotate(e,[0,1,0]),this},h.RendererGL.prototype.rotateZ=function(e){return this.rotate(e,[0,0,1]),this},h.RendererGL.prototype.push=function(){n.push(this.uMVMatrix.copy())},h.RendererGL.prototype.pop=function(){if(0===n.length)throw new Error("Invalid popMatrix!");this.uMVMatrix=n.pop()},h.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=h.Matrix.identity(),this.translate(0,0,-800),this},h.RendererGL.prototype._applyTextProperties=function(){console.error("text commands not yet implemented in webgl")},C.exports=h.RendererGL},{"../core/core":39,"../core/p5.Renderer":45,"./p5.Matrix":85,"./shader":90}],89:[function(g,C,M){"use strict";var h=g("../core/core");g("./p5.Geometry"),h.prototype.plane=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t=n[0]||50,e=n[1]||t,s="number"==typeof n[2]?n[2]:1,a="number"==typeof n[3]?n[3]:1,l="plane|"+t+"|"+e+"|"+s+"|"+a;if(!this._renderer.geometryInHash(l)){var p=function(){for(var m,f,d,y=0;y<=this.detailY;y++){f=y/this.detailY;for(var v=0;v<=this.detailX;v++)d=new h.Vector(t*(m=v/this.detailX)-t/2,e*f-e/2,0),this.vertices.push(d),this.uvs.push([m,f])}},c=new h.Geometry(s,a,p);c.computeFaces().computeNormals(),this._renderer.createBuffers(l,c)}this._renderer.drawBuffers(l)},h.prototype.box=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t=n[0]||50,e=n[1]||t,s=n[2]||t,a="number"==typeof n[3]?n[3]:4,l="number"==typeof n[4]?n[4]:4,p="box|"+t+"|"+e+"|"+s+"|"+a+"|"+l;if(!this._renderer.geometryInHash(p)){var c=function(){for(var f=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]],y=0;y<f.length;y++){for(var v=f[y],x=4*y,w=0;w<4;w++){var T=v[w],E=new h.Vector((2*(1&T)-1)*t/2,((2&T)-1)*e/2,((4&T)/2-1)*s/2);this.vertices.push(E),this.uvs.push([1&w,(2&w)/2])}this.faces.push([x,x+1,x+2]),this.faces.push([x+2,x+1,x+3])}},m=new h.Geometry(a,l,c);m.computeNormals(),this._renderer.createBuffers(p,m)}return this._renderer.drawBuffers(p),this},h.prototype.sphere=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t=n[0]||50,e="number"==typeof n[1]?n[1]:24,s="number"==typeof n[2]?n[2]:16,a="sphere|"+t+"|"+e+"|"+s;if(!this._renderer.geometryInHash(a)){var l=function(){for(var c,m,f,d=0;d<=this.detailY;d++){m=d/this.detailY;for(var y=0;y<=this.detailX;y++){c=y/this.detailX;var v=2*Math.PI*c,x=Math.PI*m-Math.PI/2;f=new h.Vector(t*Math.cos(x)*Math.sin(v),t*Math.sin(x),t*Math.cos(x)*Math.cos(v)),this.vertices.push(f),this.uvs.push([c,m])}}},p=new h.Geometry(e,s,l);p.computeFaces().computeNormals().averageNormals().averagePoleNormals(),this._renderer.createBuffers(a,p)}return this._renderer.drawBuffers(a),this};var u=function(n,i,t,e,s,a,l){s=s<1?1:s;var p,c,m=((a=void 0===a||a)?2:0)+((l=void 0===l||l)?2:0),f=(e=e<3?3:e)+1,d=Math.atan2(n-i,t),v=s+(l?2:0);for(p=a?-2:0;p<=v;++p){var x,w=p/s,T=t*w;for(p<0?(T=0,w=1,x=n):p>s?(T=t,w=1,x=i):x=n+p/s*(i-n),-2!==p&&p!==s+2||(x=0,w=0),T-=t/2,c=0;c<f;++c)this.vertices.push(new h.Vector(Math.sin(c*Math.PI*2/e)*x,T,Math.cos(c*Math.PI*2/e)*x)),this.vertexNormals.push(new h.Vector(p<0||p>s?0:Math.sin(c*Math.PI*2/e)*Math.cos(d),p<0?-1:p>s?1:Math.sin(d),p<0||p>s?0:Math.cos(c*Math.PI*2/e)*Math.cos(d))),this.uvs.push([c/e,w])}for(p=0;p<s+m;++p)for(c=0;c<e;++c)this.faces.push([f*(p+0)+0+c,f*(p+0)+1+c,f*(p+1)+1+c]),this.faces.push([f*(p+0)+0+c,f*(p+1)+1+c,f*(p+1)+0+c])};h.prototype.cylinder=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t=n[0]||50,e=n[1]||t,s="number"==typeof n[2]?n[2]:24,a="number"==typeof n[3]?n[3]:16,l="cylinder|"+t+"|"+e+"|"+s+"|"+a;if(!this._renderer.geometryInHash(l)){var p=new h.Geometry(s,a);u.call(p,t,t,e,s,a,!0,!0),p.computeNormals(),this._renderer.createBuffers(l,p)}return this._renderer.drawBuffers(l),this},h.prototype.cone=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t=n[0]||50,e=n[1]||t,s="number"==typeof n[2]?n[2]:24,a="number"==typeof n[3]?n[3]:16,l="cone|"+t+"|"+e+"|"+s+"|"+a;if(!this._renderer.geometryInHash(l)){var p=new h.Geometry(s,a);u.call(p,t,0,e,s,a,!0,!0),p.computeNormals(),this._renderer.createBuffers(l,p)}return this._renderer.drawBuffers(l),this},h.prototype.ellipsoid=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t="number"==typeof n[3]?n[3]:24,e="number"==typeof n[4]?n[4]:24,s=n[0]||50,a=n[1]||s,l=n[2]||s,p="ellipsoid|"+s+"|"+a+"|"+l+"|"+t+"|"+e;if(!this._renderer.geometryInHash(p)){var c=function(){for(var f,d,y,v=0;v<=this.detailY;v++){d=v/this.detailY;for(var x=0;x<=this.detailX;x++){f=x/this.detailX;var w=2*Math.PI*f,T=Math.PI*d-Math.PI/2;y=new h.Vector(s*Math.cos(T)*Math.sin(w),a*Math.sin(T),l*Math.cos(T)*Math.cos(w)),this.vertices.push(y),this.uvs.push([f,d])}}},m=new h.Geometry(t,e,c);m.computeFaces().computeNormals(),this._renderer.createBuffers(p,m)}return this._renderer.drawBuffers(p),this},h.prototype.torus=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t="number"==typeof n[2]?n[2]:24,e="number"==typeof n[3]?n[3]:16,s=n[0]||50,a=n[1]||10,l="torus|"+s+"|"+a+"|"+t+"|"+e;if(!this._renderer.geometryInHash(l)){var p=function(){for(var m,f,d,y=0;y<=this.detailY;y++){f=y/this.detailY;for(var v=0;v<=this.detailX;v++){m=v/this.detailX;var x=2*Math.PI*m,w=2*Math.PI*f;d=new h.Vector((s+a*Math.cos(w))*Math.cos(x),(s+a*Math.cos(w))*Math.sin(x),a*Math.sin(w)),this.vertices.push(d),this.uvs.push([m,f])}}},c=new h.Geometry(t,e,p);c.computeFaces().computeNormals().averageNormals(),this._renderer.createBuffers(l,c)}return this._renderer.drawBuffers(l),this},h.RendererGL.prototype.point=function(n,i,t){return console.log("point not yet implemented in webgl"),this},h.RendererGL.prototype.triangle=function(n){var i=n[0],t=n[1],e=n[2],s=n[3],a=n[4],l=n[5],p="tri|"+i+"|"+t+"|"+e+"|"+s+"|"+a+"|"+l;if(!this.geometryInHash(p)){var m=new h.Geometry(1,1,function(){var f=[];f.push(new h.Vector(i,t,0)),f.push(new h.Vector(e,s,0)),f.push(new h.Vector(a,l,0)),this.vertices=f,this.faces=[[0,1,2]],this.uvs=[[0,0],[0,1],[1,1]]});m.computeNormals(),this.createBuffers(p,m)}return this.drawBuffers(p),this},h.RendererGL.prototype.ellipse=function(n){var i=n[0],t=n[1],e=n[2],s=n[3],a=n[4]||24,l=n[5]||16,p="ellipse|"+n[0]+"|"+n[1]+"|"+n[2]+"|"+n[3];if(!this.geometryInHash(p)){var m=new h.Geometry(a,l,function(){for(var f,d,y,v=i+.5*e,x=t+.5*s,w=0;w<=this.detailY;w++){d=w/this.detailY;for(var T=0;T<=this.detailX;T++){f=T/this.detailX;var E=2*Math.PI*f;if(0===d)y=new h.Vector(v,x,0);else{var R=v+.5*e*Math.cos(E),P=x+.5*s*Math.sin(E);y=new h.Vector(R,P,0)}this.vertices.push(y),this.uvs.push([f,d])}}});m.computeFaces().computeNormals(),this.createBuffers(p,m)}return this.drawBuffers(p),this},h.RendererGL.prototype.rect=function(n){var i="rect|"+n[0]+"|"+n[1]+"|"+n[2]+"|"+n[3],t=n[0],e=n[1],s=n[2],a=n[3],l=n[4]||24,p=n[5]||16;if(!this.geometryInHash(i)){var m=new h.Geometry(l,p,function(){for(var f,d,y,v=0;v<=this.detailY;v++){d=v/this.detailY;for(var x=0;x<=this.detailX;x++)y=new h.Vector(t+s*(f=x/this.detailX),e+a*d,0),this.vertices.push(y),this.uvs.push([f,d])}});m.computeFaces().computeNormals(),this.createBuffers(i,m)}return this.drawBuffers(i),this},h.RendererGL.prototype.quad=function(){for(var n=new Array(arguments.length),i=0;i<n.length;++i)n[i]=arguments[i];var t=n[0],e=n[1],s=n[2],a=n[3],l=n[4],p=n[5],c=n[6],m=n[7],f="quad|"+t+"|"+e+"|"+s+"|"+a+"|"+l+"|"+p+"|"+c+"|"+m;if(!this.geometryInHash(f)){var d=function(){this.vertices.push(new h.Vector(t,e,0)),this.vertices.push(new h.Vector(s,a,0)),this.vertices.push(new h.Vector(l,p,0)),this.vertices.push(new h.Vector(c,m,0)),this.uvs.push([0,0],[1,0],[1,1],[0,1])},y=new h.Geometry(2,2,d);y.computeNormals(),y.faces=[[0,1,2],[2,3,0]],this.createBuffers(f,y)}return this.drawBuffers(f),this},h.RendererGL.prototype.bezier=function(n){var i=n[12]||20;this.beginShape();for(var t=[0,0,0,0],e=[0,0,0],s=0;s<=i;s++)t[0]=Math.pow(1-s/i,3),t[1]=s/i*3*Math.pow(1-s/i,2),t[2]=3*Math.pow(s/i,2)*(1-s/i),t[3]=Math.pow(s/i,3),e[0]=n[0]*t[0]+n[3]*t[1]+n[6]*t[2]+n[9]*t[3],e[1]=n[1]*t[0]+n[4]*t[1]+n[7]*t[2]+n[10]*t[3],e[2]=n[2]*t[0]+n[5]*t[1]+n[8]*t[2]+n[11]*t[3],this.vertex(e[0],e[1],e[2]);return this.endShape(),this},h.RendererGL.prototype.curve=function(n){var i=n[12];this.beginShape();for(var t=[0,0,0,0],e=[0,0,0],s=0;s<=i;s++)t[0]=.5*Math.pow(s/i,3),t[1]=.5*Math.pow(s/i,2),t[2]=s/i*.5,t[3]=.5,e[0]=t[0]*(3*n[3]-n[0]-3*n[6]+n[9])+t[1]*(2*n[0]-5*n[3]+4*n[6]-n[9])+t[2]*(-n[0]+n[6])+t[3]*(2*n[3]),e[1]=t[0]*(3*n[4]-n[1]-3*n[7]+n[10])+t[1]*(2*n[1]-5*n[4]+4*n[7]-n[10])+t[2]*(-n[1]+n[7])+t[3]*(2*n[4]),e[2]=t[0]*(3*n[5]-n[2]-3*n[8]+n[11])+t[1]*(2*n[2]-5*n[5]+4*n[8]-n[11])+t[2]*(-n[2]+n[8])+t[3]*(2*n[5]),this.vertex(e[0],e[1],e[2]);return this.endShape(),this},C.exports=h},{"../core/core":39,"./p5.Geometry":84}],90:[function(g,C,M){C.exports={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition / uResolution *vec3(1.0, -1.0, 1.0), 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition / uResolution * vec3(1.0, -1.0, 1.0), 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform float uResolution;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition / uResolution * vec3(1.0, -1.0, 1.0), 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = vec3( uNormalMatrix * aNormal );\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform float uResolution;\nuniform int uAmbientLightCount;\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nuniform vec3 uAmbientColor[8];\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nvarying vec3 vVertexNormal;\nvarying vec2 vVertTexCoord;\nvarying vec3 vLightWeighting;\n\nvec3 ambientLightFactor = vec3(0.0, 0.0, 0.0);\nvec3 directionalLightFactor = vec3(0.0, 0.0, 0.0);\nvec3 pointLightFactor = vec3(0.0, 0.0, 0.0);\nvec3 pointLightFactor2 = vec3(0.0, 0.0, 0.0);\n\nvoid main(void){\n\n  vec4 positionVec4 = vec4(aPosition / uResolution, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\n  vec3 vertexNormal = vec3( uNormalMatrix * aNormal );\n  vVertexNormal = vertexNormal;\n  vVertTexCoord = aTexCoord;\n\n  vec4 mvPosition = uModelViewMatrix * vec4(aPosition / uResolution, 1.0);\n  vec3 eyeDirection = normalize(-mvPosition.xyz);\n\n  float shininess = 32.0;\n  float specularFactor = 2.0;\n  float diffuseFactor = 0.3;\n\n  for(int i = 0; i < 8; i++){\n    if(uAmbientLightCount == i) break;\n    ambientLightFactor += uAmbientColor[i];\n  }\n\n  for(int j = 0; j < 8; j++){\n    if(uDirectionalLightCount == j) break;\n    vec3 dir = uLightingDirection[j];\n    float directionalLightWeighting = max(dot(vertexNormal, dir), 0.0);\n    directionalLightFactor += uDirectionalColor[j] * directionalLightWeighting;\n  }\n\n  for(int k = 0; k < 8; k++){\n    if(uPointLightCount == k) break;\n    vec3 loc = uPointLightLocation[k];\n    //loc = loc / uResolution;\n    vec3 lightDirection = normalize(loc - mvPosition.xyz);\n\n    float directionalLightWeighting = max(dot(vertexNormal, lightDirection), 0.0);\n    pointLightFactor += uPointLightColor[k] * directionalLightWeighting;\n\n    //factor2 for specular\n    vec3 reflectionDirection = reflect(-lightDirection, vertexNormal);\n    float specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n\n    pointLightFactor2 += uPointLightColor[k] * (specularFactor * specularLightWeighting\n      +  directionalLightWeighting * diffuseFactor);\n  }\n\n  if(!uSpecular){\n    vLightWeighting =  ambientLightFactor + directionalLightFactor + pointLightFactor;\n  }else{\n    vLightWeighting = ambientLightFactor + directionalLightFactor + pointLightFactor2;\n  }\n\n}\n",lightTextureFrag:"precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vLightWeighting;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  if(!isTexture){\n    gl_FragColor = vec4(vec3(uMaterialColor.rgb * vLightWeighting), uMaterialColor.a);\n  }else{\n    vec4 textureColor = texture2D(uSampler, vVertTexCoord);\n    if(vLightWeighting == vec3(0., 0., 0.)){\n      gl_FragColor = textureColor;\n    }else{\n      gl_FragColor = vec4(vec3(textureColor.rgb * vLightWeighting), textureColor.a);\n    }\n  }\n}"}},{}]},{},[30])(30)});